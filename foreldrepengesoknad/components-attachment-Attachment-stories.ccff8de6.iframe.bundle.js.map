{"version":3,"file":"components-attachment-Attachment-stories.ccff8de6.iframe.bundle.js","mappings":"o4BAOA,kCACIA,MAAO,wBACPC,UAAWC,yCAAAA,EACXC,WAAY,CAACC,2DAAAA,IAGjB,IAAMC,SAAyB,SAAzBA,SAA0BC,MAAI,OAAKC,mCAAAA,cAACL,yCAAAA,EAAeI,KAAQ,EAEpDE,sBAAwBH,SAASI,KAAK,CAAC,GACpDD,sBAAsBF,KAAO,CACzBI,WAAY,CACRC,GAAI,IACJC,SAAS,EACTC,SAAU,wBAIX,IAAMC,cAAgBT,SAASI,KAAK,CAAC,GAC5CK,cAAcR,KAAO,CACjBI,WAAY,CACRC,GAAI,IACJC,SAAS,EACTG,IAAK,cACLF,SAAU,wBAIX,IAAMG,aAAeX,SAASI,KAAK,CAAC,GAC3CO,aAAaV,KAAO,CAChBI,WAAY,CACRC,GAAI,IACJC,SAAS,EACTG,IAAK,cACLF,SAAU,sBACVI,SAAU,MAIX,IAAMC,WAAab,SAASI,KAAK,CAAC,GACzCS,WAAWZ,KAAO,CACdI,WAAY,CACRC,GAAI,IACJC,SAAS,EACTG,IAAK,cACLF,SAAU,sBACVI,SAAU,MAEjB,IAAAE,oBAAA,qE,27ECED,iCArCmD,SAA7CjB,WAA0CkB,MAA+C,IAAzCV,WAAUU,KAAVV,WAAYW,aAAYD,KAAZC,aAAcC,SAAQF,KAARE,SACtEC,MAAOC,EAAAA,wCAAAA,KACPC,KAAMC,EAAAA,+CAAAA,UAAS,cACfC,IAAMC,kDAAWH,IAAII,MAAKC,gBAAA,GAC3BL,IAAIM,SAAS,WAAarB,WAAWE,UAG1C,OACIL,mCAAAA,cAAA,OAAKyB,UAAWL,KACXjB,WAAWE,SACRL,mCAAAA,cAAA,OAAKyB,UAAWP,IAAIQ,QAAQ,YACxB1B,mCAAAA,cAAC2B,4DAAkB,CAACC,KAAK,OAGjC5B,mCAAAA,cAAC6B,+CAAAA,YAAW,CAACJ,UAAWP,IAAIQ,QAAQ,QAASI,MAAO,GAAIC,OAAQ,KAChE/B,mCAAAA,cAAA,OAAKyB,UAAWP,IAAIQ,QAAQ,aACvBvB,WAAWK,IACRR,mCAAAA,cAACgC,2DAAK,CAACC,KAAM9B,WAAWK,IAAK0B,OAAO,UAC/B/B,WAAWG,UAGhBN,mCAAAA,cAAA,YAAOG,WAAWG,UAErBQ,cAAgBd,mCAAAA,cAAA,YAAMmC,EAAAA,kDAAAA,IAAYhC,WAAWO,YAEjDK,UACGf,mCAAAA,cAAA,QAAMyB,UAAWP,IAAIQ,QAAQ,iBACzB1B,mCAAAA,cAACW,+CAAAA,WAAU,CACPyB,QAAS,SAAAA,UAAA,OAAMrB,SAASZ,WAAW,EACnCkC,WAAWC,EAAAA,+CAAAA,WAAUtB,KAAM,0BAA2B,CAAEuB,KAAMpC,WAAWG,cAMjG,C,2bCnDakC,kBAAoB,SAApBA,kBAAqBC,GAAWC,SACzC,MAAM,IAAIC,WAAkBC,IAAZF,QAAwB,4BAA8BA,QAC1E,EAEaP,YAAc,SAAdA,YAAeU,OACxB,OAAOC,6CAAMD,MAAO,CAChBE,cAAe,IACfC,mBAAoB,IACpBC,cAAe,EACfC,eAAe,GAEvB,EAEaC,iBAAmB,SAAnBA,iBAAoBC,YAA2BC,SACxD,OAAOD,YAAYE,QAAO,SAACC,KAAG,OAAKA,MAAQF,OAAO,GACtD,C,yaCRA,iCANyB,SAAnBxD,iBAAoB2D,OAAU,OAChCxD,mCAAAA,cAACyD,oDAAAA,EAAY,CAACC,OAAO,MACjB1D,mCAAAA,cAACwD,MAAK,MACK,C","sources":["webpack://foreldrepengesoknad/./src/app/components/attachment/Attachment.stories.tsx","webpack://foreldrepengesoknad/./src/app/components/attachment/Attachment.tsx","webpack://foreldrepengesoknad/./src/app/utils/globalUtil.ts","webpack://foreldrepengesoknad/./src/storybook/decorators/withIntl.tsx"],"sourcesContent":["import React from 'react';\nimport { Story } from '@storybook/react';\n\nimport { Attachment as AttachmentType } from 'app/types/Attachment';\nimport withIntlProvider from 'storybook/decorators/withIntl';\nimport Attachment, { Props } from './Attachment';\n\nexport default {\n    title: 'components/Attachment',\n    component: Attachment,\n    decorators: [withIntlProvider],\n};\n\nconst Template: Story<Props> = (args) => <Attachment {...args} />;\n\nexport const PendingVedleggUtenUrl = Template.bind({});\nPendingVedleggUtenUrl.args = {\n    attachment: {\n        id: '1',\n        pending: true,\n        filename: 'Dette er et filnavn',\n    } as AttachmentType,\n};\n\nexport const VedleggMedUrl = Template.bind({});\nVedleggMedUrl.args = {\n    attachment: {\n        id: '1',\n        pending: false,\n        url: 'www.test.no',\n        filename: 'Dette er et filnavn',\n    } as AttachmentType,\n};\n\nexport const Filstørrelse = Template.bind({});\nFilstørrelse.args = {\n    attachment: {\n        id: '1',\n        pending: false,\n        url: 'www.test.no',\n        filename: 'Dette er et filnavn',\n        filesize: 100,\n    } as AttachmentType,\n};\n\nexport const SlettKnapp = Template.bind({});\nSlettKnapp.args = {\n    attachment: {\n        id: '1',\n        pending: false,\n        url: 'www.test.no',\n        filename: 'Dette er et filnavn',\n        filesize: 100,\n    } as AttachmentType,\n};\n","import * as React from 'react';\nimport classnames from 'classnames';\n\nimport { useIntl } from 'react-intl';\n\nimport NavFrontendSpinner from 'nav-frontend-spinner';\nimport Lenke from 'nav-frontend-lenker';\nimport { bemUtils, intlUtils, SlettKnapp, VedleggIkon } from '@navikt/fp-common';\nimport { Attachment as AttachmentType } from 'app/types/Attachment';\nimport { bytesString } from 'app/utils/globalUtil';\n\nimport './attachment.less';\n\nexport interface Props {\n    attachment: AttachmentType;\n    showFileSize?: boolean;\n    onDelete?: (file: AttachmentType) => void;\n}\n\nconst Attachment: React.FunctionComponent<Props> = ({ attachment, showFileSize, onDelete }) => {\n    const intl = useIntl();\n    const bem = bemUtils('attachment');\n    const cls = classnames(bem.block, {\n        [bem.modifier('pending')]: attachment.pending,\n    });\n\n    return (\n        <div className={cls}>\n            {attachment.pending && (\n                <div className={bem.element('spinner')}>\n                    <NavFrontendSpinner type=\"S\" />\n                </div>\n            )}\n            <VedleggIkon className={bem.element('icon')} width={20} height={20} />\n            <div className={bem.element('filename')}>\n                {attachment.url ? (\n                    <Lenke href={attachment.url} target=\"_blank\">\n                        {attachment.filename}\n                    </Lenke>\n                ) : (\n                    <span>{attachment.filename}</span>\n                )}\n                {showFileSize && <div>{bytesString(attachment.filesize)}</div>}\n            </div>\n            {onDelete && (\n                <span className={bem.element('deleteButton')}>\n                    <SlettKnapp\n                        onClick={() => onDelete(attachment)}\n                        ariaLabel={intlUtils(intl, 'vedlegg.arialabel.slett', { navn: attachment.filename })}\n                    />\n                </span>\n            )}\n        </div>\n    );\n};\n\nexport default Attachment;\n","import Bytes from 'bytes';\nimport { Attachment } from 'app/types/Attachment';\n\nexport const assertUnreachable = (_x: never, message?: string): never => {\n    throw new Error(message === undefined ? 'This should never happen.' : message);\n};\n\nexport const bytesString = (bytes: number): string => {\n    return Bytes(bytes, {\n        unitSeparator: ' ',\n        thousandsSeparator: ' ',\n        decimalPlaces: 1,\n        fixedDecimals: false,\n    });\n};\n\nexport const deleteAttachment = (attachments: Attachment[], deleted: Attachment): Attachment[] => {\n    return attachments.filter((att) => att !== deleted);\n};\n","import React from 'react';\n\nimport IntlProvider from '../../app/intl/IntlProvider';\n\nconst withIntlProvider = (Story: any) => (\n    <IntlProvider locale=\"nb\">\n        <Story />\n    </IntlProvider>\n);\n\nexport default withIntlProvider;\n"],"names":["title","component","Attachment","decorators","withIntlProvider","Template","args","React","PendingVedleggUtenUrl","bind","attachment","id","pending","filename","VedleggMedUrl","url","Filstørrelse","filesize","SlettKnapp","__namedExportsOrder","_ref","showFileSize","onDelete","intl","useIntl","bem","bemUtils","cls","classnames","block","_defineProperty","modifier","className","element","NavFrontendSpinner","type","VedleggIkon","width","height","Lenke","href","target","bytesString","onClick","ariaLabel","intlUtils","navn","assertUnreachable","_x","message","Error","undefined","bytes","Bytes","unitSeparator","thousandsSeparator","decimalPlaces","fixedDecimals","deleteAttachment","attachments","deleted","filter","att","Story","IntlProvider","locale"],"sourceRoot":""}
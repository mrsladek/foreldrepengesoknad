import{d,y as h,z as M}from"./validationUtils-67294d5c.js";import{d as l,i as p,v as i,T as O,A as c,b as v,C as j,M as _,L as N,B as J,az as U,G as T,aA as y,u as E,S as V,ad as R,aB as b,aC as P,aD as A,aE as I,aF as H,aG as Y,aH as z,P as m,aI as w,aJ as q,I as Q}from"./periodeUtils-f04fe3f4.js";import{r as g}from"./index-f1f749bf.js";import{j as W}from"./jsx-runtime-670450c2.js";import{A as X}from"./FormikFileInput-1aab3cd0.js";import"./index-7e4e529b.js";var L=(e=>(e.VELKOMMEN="/",e.SØKERSITUASJON="/soknad/sokersituasjon",e.OM_BARNET="/soknad/om-barnet",e.ANNEN_FORELDER="/soknad/annen-forelder",e.UTTAKSPLAN_INFO="/soknad/uttaksplan-info",e.UTTAKSPLAN="/soknad/uttaksplan",e.UTENLANDSOPPHOLD="/soknad/utenlandsopphold",e.INNTEKTSINFORMASJON="/soknad/inntektsinformasjon",e.MANGLENDE_VEDLEGG="/soknad/manglende-vedlegg",e.OPPSUMMERING="/soknad/oppsummering",e.SØKNAD_SENDT="/soknad/soknad-sendt",e.IKKE_MYNDIG="ikke-myndig",e))(L||{});const D={version:5,currentRoute:L.VELKOMMEN,søknad:{type:"foreldrepenger",harGodkjentVilkår:!1,søkersituasjon:{rolle:"",situasjon:""},barn:void 0,annenForelder:{kanIkkeOppgis:!1},søker:{harHattAnnenInntektSiste10Mnd:void 0,harJobbetSomFrilansSiste10Mnd:void 0,harJobbetSomSelvstendigNæringsdrivendeSiste10Mnd:void 0,erAleneOmOmsorg:void 0,språkkode:"nb"},informasjonOmUtenlandsopphold:{iNorgeNeste12Mnd:void 0,iNorgeSiste12Mnd:void 0,tidligereOpphold:[],senereOpphold:[]},erEndringssøknad:!1,dekningsgrad:void 0,uttaksplan:[],harGodkjentOppsummering:!1,vedlegg:[],tilleggsopplysninger:{begrunnelseForSenEndring:void 0},saksnummer:void 0,ønskerJustertUttakVedFødsel:void 0},søkerinfo:void 0,saker:[],uttaksplanInfo:void 0,antallUkerIUttaksplan:void 0,kvittering:void 0,endringstidspunkt:void 0,perioderSomSkalSendesInn:[],harUttaksplanBlittSlettet:!1,brukerSvarteJaPåAutoJustering:void 0,søknadGjelderEtNyttBarn:void 0,barnFraNesteSak:void 0,annenPartsUttakErLagtTilIPlan:void 0};var n=(e=>(e.SET_HARGODKJENTVILKÅR="setVelkommen",e.SET_ER_ENDRINGSSØKNAD="setErEndringssøknad",e.SET_SØKERSITUASJON="setSøkersituasjon",e.SET_OMBARNET="setOmBarnet",e.AVBRYT_SØKNAD="avbrytSøknad",e.UPDATE_CURRENT_ROUTE="updateCurrentRoute",e.APPLY_STORED_STATE="applyStoredState",e.SET_ANNENFORELDER="setAnnenForelder",e.SET_SØKERINFO="setSøkerinfo",e.SET_SØKER="setSøker",e.SET_SØKNAD_GJELDER_ET_NYTT_BARN="setSøknadGjelderEtNyttBarn",e.SET_INFORMASJON_OM_UTENLANDSOPPHOLD="setInformasjonOmUtenlandsopphold",e.SET_INFORMASJON_OM_ANDRE_INNTEKTER="setInformasjonOmAndreInntekter",e.SET_SAKER="setSaker",e.SET_UTTAKSPLAN_INFO="setUttaksplanInfo",e.SET_DEKNINGSGRAD="setDekningsgrad",e.SET_VEDLEGG="setVedlegg",e.LAG_UTTAKSPLANFORSLAG="lagUttaksplanforslag",e.SET_UTTAKSPLAN="setUttaksplan",e.SET_PERIODER_SOM_SKAL_SENDES_INN="setPerioderSomSkalSendesInn",e.SET_SØKNAD="setSøknad",e.SET_EKSISTERENDE_SAK="setEksisterendeSak",e.SET_GODKJENT_OPPSUMMERING="setGodkjentOppsummering",e.SET_KVITTERING="setKvittering",e.SET_ANTALL_UKER_I_UTTAKSPLAN="setAntallUkerIUttaksplan",e.SET_ENDRINGSTIDSPUNKT="setEndringstidspunkt",e.SET_SPRÅKKODE="setSpråkkode",e.SET_TILLEGGSOPPLYSNINGER="setTilleggsopplysninger",e.SLETT_UTTAKSPLAN="slettUttaksplan",e.SET_UTTAKSPLAN_SLETTET="setUttaksplanSlettet",e.SET_ØNSKER_JUSTERT_UTTAK_VED_FØDSEL="setØnskerJustertUttakVedFødsel",e.SET_BRUKER_SVARTE_JA_PÅ_AUTO_JUSTERING="setBrukerSvarteJaPAutoJustering",e.SET_BARN_FRA_NESTE_SAK="setBarnFraNesteSak",e.SET_ANNEN_PARTS_UTTAK_ER_LAGT_TIL_I_PLAN="setAnnenPartsUttakErLagtTilIPlan",e))(n||{});const Z=e=>({type:"setVelkommen",payload:e}),$=e=>({type:"setErEndringssøknad",payload:e}),C=e=>({type:"setSøkersituasjon",payload:e}),x=e=>({type:"setOmBarnet",payload:e}),ee=()=>({type:"avbrytSøknad"}),te=e=>({type:"updateCurrentRoute",payload:e}),re=e=>({type:"applyStoredState",payload:e}),ne=e=>({type:"setAnnenForelder",payload:e}),se=e=>({type:"setSøkerinfo",payload:e}),ae=e=>({type:"setSøker",payload:e}),de=e=>({type:"setInformasjonOmUtenlandsopphold",payload:e}),oe=e=>({type:"setSaker",payload:e}),ie=e=>({type:"setUttaksplanInfo",payload:e}),le=e=>({type:"setTilleggsopplysninger",payload:e}),Se=e=>({type:"setDekningsgrad",dekningsgrad:e}),ke=e=>({type:"setVedlegg",vedlegg:e}),ue=e=>({type:"lagUttaksplanforslag",payload:e}),Ee=e=>({type:"setUttaksplan",payload:e}),fe=e=>({type:"setPerioderSomSkalSendesInn",payload:e}),Te=e=>({type:"setSøknadGjelderEtNyttBarn",payload:e}),ge=e=>({type:"setSøknad",payload:e}),pe=e=>({type:"setEksisterendeSak",payload:e}),_e=e=>({type:"setGodkjentOppsummering",payload:e}),Ne=e=>({type:"setAntallUkerIUttaksplan",payload:e}),me=e=>({type:"setEndringstidspunkt",payload:e}),Ue=e=>({type:"setKvittering",payload:e}),Pe=e=>({type:"setSpråkkode",payload:e}),Ae=e=>({type:"slettUttaksplan",payload:e}),Ie=e=>({type:"setUttaksplanSlettet",uttaksplanHarBlittSlettet:e}),Oe=e=>({type:"setØnskerJustertUttakVedFødsel",payload:e}),ce=e=>({type:"setBrukerSvarteJaPAutoJustering",payload:e}),ve=e=>({type:"setBarnFraNesteSak",payload:e}),ye=e=>({type:"setAnnenPartsUttakErLagtTilIPlan",payload:e}),ft={setVelkommen:Z,setErEndringssøknad:$,setSøkersituasjon:C,setOmBarnet:x,avbrytSøknad:ee,updateCurrentRoute:te,applyStoredState:re,setAnnenForelder:ne,setSøkerinfo:se,setSøker:ae,setInformasjonOmUtenlandsopphold:de,setSaker:oe,setUttaksplanInfo:ie,setTilleggsopplysninger:le,setDekningsgrad:Se,setVedlegg:ke,lagUttaksplanforslag:ue,setUttaksplan:Ee,setSøknad:ge,setSøknadGjelderEtNyttBarn:Te,setEksisterendeSak:pe,setGodkjentOppsummering:_e,setKvittering:Ue,setAntallUkerIUttaksplan:Ne,setEndringstidspunkt:me,setSpråkkode:Pe,setPerioderSomSkalSendesInn:fe,slettUttaksplan:Ae,setUttaksplanSlettet:Ie,setØnskerJustertUttakVedFødsel:Oe,setBrukerSvarteJaPåAutoJustering:ce,setBarnFraNesteSak:ve,setAnnenPartsUttakErLagtTilIPlan:ye},Re=(e,t)=>{const r=t.filter(s=>s.type===e);return r.length>0?r:void 0},Le=(e,t)=>{switch(t.type){case n.SET_HARGODKJENTVILKÅR:return{...e,søknad:{...e.søknad,harGodkjentVilkår:t.payload}};case n.SET_ER_ENDRINGSSØKNAD:return{...e,søknad:{...e.søknad,erEndringssøknad:t.payload}};case n.SET_SØKERSITUASJON:return{...e,søknad:{...e.søknad,søkersituasjon:t.payload}};case n.SET_OMBARNET:return{...e,søknad:{...e.søknad,barn:{...t.payload}}};case n.SET_ANNENFORELDER:return{...e,søknad:{...e.søknad,annenForelder:t.payload}};case n.SET_INFORMASJON_OM_UTENLANDSOPPHOLD:return{...e,søknad:{...e.søknad,informasjonOmUtenlandsopphold:{...e.søknad.informasjonOmUtenlandsopphold,...t.payload}}};case n.AVBRYT_SØKNAD:return{...D,søkerinfo:e.søkerinfo,saker:e.saker};case n.UPDATE_CURRENT_ROUTE:return{...e,currentRoute:t.payload};case n.APPLY_STORED_STATE:return{...e,...t.payload};case n.SET_SAKER:return{...e,saker:[...t.payload]};case n.SET_SØKERINFO:return{...e,søkerinfo:{...t.payload}};case n.SET_SØKER:return{...e,søknad:{...e.søknad,søker:{...t.payload}}};case n.SET_UTTAKSPLAN_INFO:return{...e,uttaksplanInfo:{...t.payload}};case n.SET_DEKNINGSGRAD:return{...e,søknad:{...e.søknad,dekningsgrad:t.dekningsgrad}};case n.SET_EKSISTERENDE_SAK:return{...e,eksisterendeSak:t.payload};case n.SET_BARN_FRA_NESTE_SAK:return{...e,barnFraNesteSak:t.payload};case n.SET_VEDLEGG:return{...e,søknad:{...e.søknad,barn:{...e.søknad.barn,dokumentasjonAvAleneomsorg:Re(X.ALENEOMSORG,t.vedlegg)||e.søknad.barn.dokumentasjonAvAleneomsorg}}};case n.LAG_UTTAKSPLANFORSLAG:case n.SLETT_UTTAKSPLAN:case n.SET_UTTAKSPLAN:return{...e,søknad:{...e.søknad,uttaksplan:t.payload}};case n.SET_PERIODER_SOM_SKAL_SENDES_INN:return{...e,perioderSomSkalSendesInn:t.payload};case n.SET_SØKNAD:return{...e,søknad:{...e.søknad,...t.payload}};case n.SET_SØKNAD_GJELDER_ET_NYTT_BARN:return{...e,søknadGjelderEtNyttBarn:t.payload};case n.SET_GODKJENT_OPPSUMMERING:return{...e,søknad:{...e.søknad,harGodkjentOppsummering:t.payload}};case n.SET_TILLEGGSOPPLYSNINGER:return{...e,søknad:{...e.søknad,tilleggsopplysninger:t.payload}};case n.SET_KVITTERING:return{...e,kvittering:t.payload};case n.SET_ANTALL_UKER_I_UTTAKSPLAN:return{...e,antallUkerIUttaksplan:t.payload};case n.SET_ENDRINGSTIDSPUNKT:return{...e,endringstidspunkt:t.payload};case n.SET_SPRÅKKODE:return{...e,søknad:{...e.søknad,søker:{...e.søknad.søker,språkkode:t.payload}}};case n.SET_UTTAKSPLAN_SLETTET:return{...e,harUttaksplanBlittSlettet:t.uttaksplanHarBlittSlettet};case n.SET_ØNSKER_JUSTERT_UTTAK_VED_FØDSEL:return{...e,søknad:{...e.søknad,ønskerJustertUttakVedFødsel:t.payload}};case n.SET_BRUKER_SVARTE_JA_PÅ_AUTO_JUSTERING:return{...e,brukerSvarteJaPåAutoJustering:t.payload};case n.SET_ANNEN_PARTS_UTTAK_ER_LAGT_TIL_I_PLAN:return{...e,annenPartsUttakErLagtTilIPlan:t.payload};default:return e}},F=g.createContext(null),Tt=({children:e})=>{const[t,r]=g.useReducer(Le,D),s=g.useMemo(()=>({state:t,dispatch:r}),[t,r]);return W(F.Provider,{value:s,children:e})};try{ForeldrepengesknadContext.displayName="ForeldrepengesknadContext",ForeldrepengesknadContext.__docgenInfo={description:"",displayName:"ForeldrepengesknadContext",props:{}}}catch{}var S=(e=>(e.Sykdom="SYKDOM",e.Uttak="UTTAK",e.SykdomOgUttak="SYKDOM_OG_UTTAK",e.InstitusjonSøker="INSTITUSJONSOPPHOLD_SØKER",e.InstitusjonBarnet="INSTITUSJONSOPPHOLD_BARNET",e.Arbeid="ARBEID",e.ArbeidOgUttak="ARBEID_OG_UTTAK",e.Ingen="INGEN",e))(S||{});const gt=e=>({getPeriode:t=>De(e,t),getOpphold:()=>Je(e),getUttak:()=>Fe(e),getOverføringer:()=>Be(e),getHull:()=>he(e),getHullOgInfoOgPerioderUtenUttak:()=>Me(e),getInfoperioder:()=>je(e),getUtsettelser:()=>Ge(e),getPerioderEtterFamiliehendelsesdato:t=>B(e,t),getPerioderFørFamiliehendelsesdato:t=>Qe(e,t),getPerioderMedUgyldigTidsperiode:()=>Xe(e),getPerioderMedFerieForForelder:t=>et(e,t),getFørstePerioderEtterFamiliehendelsesdato:t=>We(e,t),getForeldrepengerFørTermin:()=>tt(e),getFørsteUttaksdag:()=>Ze(e),getFørsteUttaksdagEtterSistePeriode:()=>rt(e),getFørsteUttaksdagEksluderInfoperioderOgFrittUttak:()=>$e(e),getAntallUttaksdager:()=>Ce(e),getAntallFeriedager:t=>xe(e,t),finnOverlappendePerioder:t=>Ve(e,t),finnPeriodeMedDato:t=>be(e,t),finnFørstePeriodeEtterDato:t=>He(e,t),finnAlleForegåendePerioder:t=>G(e,t),finnAllePåfølgendePerioder:t=>K(e,t),finnDenForegåendePerioden:t=>Ye(e,t),finnPåfølgendePeriode:t=>ze(e,t),forskyvPerioder:t=>we(e,t),sort:()=>[...e].sort(f),finnSisteInfoperiode:()=>st(e)});function f(e,t){return l(e.tidsperiode)===!1||l(t.tidsperiode)===!1?p(e)&&e.skalIkkeHaUttakFørTermin?-1:l(e.tidsperiode)?1:-1:d(e.tidsperiode.fom).isSame(t.tidsperiode.fom,"day")?i(e)?-1:1:O(t.tidsperiode).erOmsluttetAv(e.tidsperiode)?1:d(e.tidsperiode.fom).isBefore(t.tidsperiode.fom,"day")?-1:1}function De(e,t){return e.find(r=>r.id===t)}function Fe(e){return e.filter(t=>c(t))}function Ge(e){return e.filter(t=>v(t))}function Ke(e){return e.filter(t=>R(t))}function Be(e){return e.filter(t=>j(t))}function he(e){return e.filter(t=>_(t))}function Me(e){return e.filter(t=>_(t)||i(t)||N(t))}function je(e){return e.filter(t=>i(t))}function Je(e){return e.filter(t=>J(t))}function Ve(e,t){return e.filter(r=>{if(r.id===t.id||!l(t.tidsperiode))return!1;const{fom:s,tom:a}=r.tidsperiode;if(!s||!a)return!1;const o=U(s,t.tidsperiode)||U(a,t.tidsperiode),k=d(t.tidsperiode.fom).isSameOrAfter(s,"day")&&d(t.tidsperiode.tom).isSameOrBefore(a,"day");return o||k})}function be(e,t){return e.find(r=>d(t).isBetween(r.tidsperiode.fom,r.tidsperiode.tom,"day","[]"))}function He(e,t){return e.find(r=>d(r.tidsperiode.fom).isAfter(t,"day"))}function G(e,t){return e.filter(r=>d(r.tidsperiode.tom).isBefore(t.tidsperiode.fom,"day"))}function K(e,t){return e.filter(r=>d(r.tidsperiode.fom).isAfter(t.tidsperiode.tom,"day"))}function Ye(e,t){const r=G(e,t);if(r.length>0)return r.pop()}function ze(e,t){const r=K(e,t);if(r.length>0)return r[0]}function we(e,t){let r=t;return e.reduce((s,a)=>{if(v(a)){s.push(a);const o=T(a).getAntallUttaksdager();return o>=r?r=0:r-=o,s}if(i(a)||_(a)||N(a)||y(a)){const o=T(a).getAntallUttaksdager();if(o>r){const k=E(E(a.tidsperiode.fom).denneEllerNeste()).leggTil(r),u={...a,tidsperiode:{fom:k,tom:a.tidsperiode.tom}};return r=0,s.push(u),s}else return o===r?(r=0,s):(r-=o,s)}return s.push(qe(a,r)),s},[])}function qe(e,t){if(t===0)return e;const r=E(E(e.tidsperiode.fom).denneEllerNeste()).leggTil(t);return T(e).setStartdato(r)}function Qe(e,t){return e.filter(r=>p(r)||l(r.tidsperiode)&&d(r.tidsperiode.fom).isBefore(t,"day"))}function B(e,t){return e.filter(r=>l(r.tidsperiode)&&d(r.tidsperiode.fom).isSameOrAfter(t,"day")&&p(r)===!1)}function We(e,t){const r=B(e,t).sort(f);return r.length>0?r[0]:void 0}function Xe(e){return e.filter(t=>l(t.tidsperiode)===!1&&p(t)===!1)}function Ze(e){const t=e.filter(r=>r.tidsperiode.fom!==void 0).sort(f).shift();if(t)return t.tidsperiode.fom}function $e(e){const t=e.filter(r=>r.tidsperiode.fom!==void 0&&!i(r)&&!N(r)&&!y(r)).sort(f).shift();if(t)return t.tidsperiode.fom}function Ce(e){return e.reduce((t,r)=>t+T(r).getAntallUttaksdager(),0)}function xe(e,t){return Ke(e).filter(r=>l(r.tidsperiode)&&t?r.forelder===t:!0).map(r=>O(r.tidsperiode).getAntallUttaksdager()).reduce((r,s)=>r+s,0)}function et(e,t){return e.filter(r=>nt(r,t))}function tt(e){const t=e.find(r=>c(r)&&r.konto===V.ForeldrepengerFørFødsel);return t||void 0}function rt(e){if(e.length!==0)return E(e[e.length-1].tidsperiode.tom).neste()}const nt=(e,t)=>R(e)&&e.forelder===t;function st(e){return e.filter(t=>i(t)).sort(f).reverse()[0]}const pt=e=>{const t=e.filter(b),r=t.some(P),s=e.some(A),a=t.filter(I).some(P),o=e.filter(H).some(A),k=t.filter(I).some(Y),u=e.some(z);return k?u?S.ArbeidOgUttak:S.Arbeid:r||a||o||s?u?S.SykdomOgUttak:S.Sykdom:u?S.Uttak:S.Ingen},_t=e=>{const t=e.filter(r=>!i(r));return t.length===0?!1:t.every(r=>r.type===m.Opphold)},Nt=e=>e.filter(t=>!i(t)).slice().reverse().findIndex(t=>t.type===m.Opphold)===0,mt=e=>e.filter(t=>!i(t)).findIndex(t=>t.type===m.Opphold)===0,Ut=e=>Math.floor(e.map(t=>w(t)).reduce((t,r)=>t+r,0)),Pt=()=>g.useContext(F);d.extend(h);d.extend(q);const at=e=>e?e.map(t=>({arbeidsgiverId:t.arbeidsgiverId,arbeidsgiverIdType:t.arbeidsgiverIdType,arbeidsgiverNavn:t.arbeidsgiverNavn,fom:d.utc(t.fom).toDate(),stillingsprosent:t.stillingsprosent,tom:t.tom?d.utc(t.tom).toDate():void 0})):[],dt=e=>({erMyndig:M(e.fødselsdato),etternavn:e.etternavn,fornavn:e.fornavn,fnr:e.fnr,fødselsdato:d.utc(e.fødselsdato).toDate(),ikkeNordiskEøsLand:e.ikkeNordiskEøsLand,kjønn:e.kjønn,bankkonto:e.bankkonto}),ot=e=>e?e.map(t=>{const{annenForelder:r}=t,s=r?{etternavn:r.etternavn,fnr:r.fnr,fornavn:r.fornavn}:void 0;return{etternavn:t.etternavn,fnr:t.fnr,fornavn:t.fornavn,mellomnavn:t.mellomnavn,fødselsdato:d.utc(t.fødselsdato).toDate(),kjønn:t.kjønn,annenForelder:s,dødsdato:Q(t.dødsdato)}}):[],At=e=>{const t=at(e.arbeidsforhold),r=dt(e.søker),s=ot(e.søker.barn);return{arbeidsforhold:t,person:r,registrerteBarn:s}};export{Tt as F,gt as P,S,ft as a,_t as b,Nt as c,mt as d,pt as e,L as f,Ut as g,At as m,f as s,Pt as u};
//# sourceMappingURL=mapSøkerinfoDTO-f7746f82.js.map

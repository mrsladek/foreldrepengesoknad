import{a as S,F as j,j as a}from"./jsx-runtime-670450c2.js";import{d as f,aG as se,aB as me,h as u,i as l,y as D,aH as J,aI as pe,aJ as ue,aK as ce,a as F,B as s,C as q,G as V,F as y,aL as Be,aM as fe,R as ke,z as ge,S as Se,b as ve}from"./validationUtils-f899988d.js";import"./index-7e4e529b.js";import"./index-f1f749bf.js";import{u as be,S as C,a as he}from"./mapSøkerinfoDTO-a639ed4c.js";import{u as Ee}from"./useOnValidSubmit-fb8ac4dd.js";import{b as _,a as X,c as M,j as De,h as Fe,B as h,k as Ae,l as H,m as ye,u as Ne,g as Oe}from"./useSøknad-ada7a5d2.js";import{u as je}from"./useSøkerinfo-dfcee13b.js";import{u as Ie,a as Te,g as Ve,s as _e}from"./useFortsettSøknadSenere-b63d2ee4.js";import{F as w}from"./FormikFileUploader-f62abcff.js";import{g as Re,Y as d,A as N,d as v}from"./getTypedFormComponents-b4bc17b3.js";import{S as O}from"./Skjemanummer-77149054.js";import{N as Ue,I as k,a0 as Me,A as K,f as xe}from"./dateUtils-c998f5da.js";import{l as Ge}from"./links-b36d21ab.js";import{Q as Le}from"./index-47edccfa.js";import{L as Pe}from"./Link-40b5f3c6.js";import{a as Ye,c as Q}from"./formUtils-8bf80793.js";import{l as x}from"./vedleggUtils-cfa4fd06.js";import{u as We,s as qe}from"./useSaveLoadedRoute-b22bd40e.js";import{R as z}from"./RegistrertePersonalia-43e44e43.js";import{e as we,f as Ke}from"./velkommenUtils-27d89f17.js";import{L as Qe}from"./Label-bbf0f831.js";var n=(e=>(e.erBarnetFødt="erBarnetFødt",e.adopsjonAvEktefellesBarn="adopsjonAvEktefellesBarn",e.antallBarn="antallBarn",e.antallBarnSelect="antallBarnSelect",e.adopsjonsdato="adopsjonsdato",e.søkerAdopsjonAlene="søkerAdopsjonAlene",e.adoptertIUtlandet="adoptertIUtlandet",e.fødselsdatoer="fødselsdatoer",e.termindato="termindato",e.omsorgsovertakelse="omsorgsovertakelse",e.terminbekreftelse="terminbekreftelse",e.terminbekreftelsedato="terminbekreftelsedato",e.ankomstdato="ankomstdato",e))(n||{});const B=Re();f.extend(se);f.extend(me);const $e=e=>t=>{if(!u(t))return l(e,"valideringsfeil.omBarnet.fødselsdato.duMåOppgi");if(!D.isISODateString(t))return l(e,"valideringsfeil.omBarnet.fødselsdato.ugyldigDatoFormat");if(J(t))return l(e,"valideringsfeil.omBarnet.fødselsdato.måVæreIdagEllerTidligere");if(f(t).isBefore(f(new Date).subtract(3,"years").subtract(4,"months"),"day"))return l(e,"valideringsfeil.omBarnet.fødselsdato.ikkeMerEnn3År3MndTilbake")},Z=e=>(t,r)=>{if(!u(t))return l(e,"valideringsfeil.omBarnet.fødselsdato.duMåOppgi");if(!D.isISODateString(t))return l(e,"valideringsfeil.omBarnet.fødselsdato.ugyldigDatoFormat");if(J(t))return l(e,"valideringsfeil.omBarnet.fødselsdato.måVæreIdagEllerTidligere");if(Ue(r,t))return l(e,"valideringsfeil.omBarnet.fødselsdato.måVæreFørAdopsjonsdato");if(!pe(t,r))return l(e,"valideringsfeil.omBarnet.fødselsdato.ikkeMerEnn15År3MndTilbake")},Ce=e=>t=>{if(!u(t))return l(e,"valideringsfeil.omBarnet.termindato.duMåOppgi");if(!D.isISODateString(t))return l(e,"valideringsfeil.omBarnet.termindato.ugyldigDatoFormat");if(!ue(t))return l(e,"valideringsfeil.omBarnet.termindato.forTidlig");if(!ce(t))return l(e,"valideringsfeil.omBarnet.termindato.duMåVæreIUke22")},ee=(e,t)=>r=>{if(!u(r))return l(t,"valideringsfeil.omBarnet.termindato.duMåOppgi");if(!D.isISODateString(r))return l(t,"valideringsfeil.omBarnet.termindato.ugyldigDatoFormat");if(!f(r).subtract(6,"months").isSameOrBefore(f(e),"day"))return l(t,"valideringsfeil.omBarnet.termindato.forLangtFremITid");if(!f(r).add(1,"months").isSameOrAfter(f(e),"day"))return l(t,"valideringsfeil.omBarnet.termindato.forLangtTilbakeITid")},te=e=>t=>{if(!u(t))return l(e,"valideringsfeil.omBarnet.adopsjonsdato.duMåOppgi");if(!D.isISODateString(t))return l(e,"valideringsfeil.omBarnet.adopsjonsdato.ugyldigDatoFormat")},He=e=>(t,r)=>{if(!u(t))return l(e,"valideringsfeil.omBarnet.ankomstDato.duMåOppgi");if(!D.isISODateString(t))return l(e,"valideringsfeil.omBarnet.ankomstDato.ugyldigDatoFormat");if(r!==void 0&&!f(r).isSameOrBefore(t,"day"))return l(e,"valideringsfeil.omBarnet.ankomstDato.førFødselsdato")},ze=e=>t=>{if(!u(t))return l(e,"valideringsfeil.omBarnet.terminbekreftelseDato.duMåOppgi");if(!D.isISODateString(t))return l(e,"valideringsfeil.omBarnet.terminbekreftelseDato.ugyldigDatoFormat");if(f().isBefore(f(t)))return l(e,"valideringsfeil.omBarnet.terminbekreftelseDato.kanIkkeVæreFremITid")},G=({søkersituasjon:e,formValues:t,visibility:r,søknadGjelderEtNyttBarn:i})=>{const o=F();return e.situasjon==="fødsel"||t.adopsjonAvEktefellesBarn!==d.NO?null:S(j,{children:[a(s,{padBottom:"xl",children:a(B.DatePicker,{label:l(o,"omBarnet.adopsjonsdato.annetBarn"),name:n.adopsjonsdato,validate:te(o),placeholder:"dd.mm.åååå"})}),a(s,{padBottom:"xl",visible:r.isVisible(n.antallBarn),children:a(B.RadioGroup,{name:n.antallBarn,radios:[{label:l(o,"omBarnet.radiobutton.ettBarn"),value:"1"},{label:l(o,"omBarnet.radiobutton.toBarn"),value:"2"},{label:l(o,"omBarnet.radiobutton.flere"),value:"3"}],legend:l(o,"omBarnet.antallBarn.adopsjon.født")})}),a(s,{padBottom:"xl",visible:t.antallBarn!==void 0&&i&&parseInt(t.antallBarn,10)>=3,children:S(B.Select,{label:"Antall barn",name:n.antallBarnSelect,children:[a("option",{value:""}),a("option",{value:"3",children:"3"}),a("option",{value:"4",children:"4"}),a("option",{value:"5",children:"5"}),a("option",{value:"6",children:"6"}),a("option",{value:"7",children:"7"}),a("option",{value:"8",children:"8"}),a("option",{value:"9",children:"9"})]})}),a(s,{padBottom:"xl",visible:r.isVisible(n.fødselsdatoer),children:a(q,{name:n.fødselsdatoer,render:()=>[...Array(parseInt(t.antallBarn,10))].map((m,p)=>a(s,{padBottom:"xl",children:a(B.DatePicker,{name:`${n.fødselsdatoer}.${p}`,label:t.antallBarn==="1"?l(o,"omBarnet.fødselsdato"):l(o,`omBarnet.fødselsdato.adopsjon.${p+1}`),minDate:f(t.adopsjonsdato).subtract(15,"years").toDate(),maxDate:k(t.adopsjonsdato),validate:c=>Z(o)(c,t.adopsjonsdato),placeholder:"dd.mm.åååå",showYearSelector:!0},`${n.fødselsdatoer}.${p}`)},p))})}),a(s,{padBottom:"xl",visible:r.isVisible(n.adoptertIUtlandet),children:a(B.YesOrNoQuestion,{name:n.adoptertIUtlandet,legend:l(o,"omBarnet.adopteresFraUtlandet")})}),a(s,{padBottom:"xl",visible:r.isVisible(n.ankomstdato),children:a(B.DatePicker,{name:n.ankomstdato,label:l(o,"omBarnet.ankomstDato"),minDate:f(t.fødselsdatoer[0]).toDate(),maxDate:f().add(6,"months").toDate(),validate:m=>He(o)(m,t.fødselsdatoer[0]),placeholder:"dd.mm.åååå"})}),a(s,{padBottom:"xl",visible:r.isVisible(n.omsorgsovertakelse),children:a(V,{children:a(y,{id:"omBarnet.veileder.omsorgsovertakelse"})})}),a(s,{padBottom:"xl",visible:r.isVisible(n.omsorgsovertakelse),children:a(w,{legend:"Dokumentasjon om adopsjon",label:l(o,"omBarnet.adopsjon.vedlegg"),name:n.omsorgsovertakelse,attachments:t.omsorgsovertakelse||[],attachmentType:N.OMSORGSOVERTAKELSE,skjemanummer:O.OMSORGSOVERTAKELSESDATO})})]})};try{G.displayName="AdopsjonAnnetBarn",G.__docgenInfo={description:"",displayName:"AdopsjonAnnetBarn",props:{søkersituasjon:{defaultValue:null,description:"",name:"søkersituasjon",required:!0,type:{name:"Søkersituasjon"}},formValues:{defaultValue:null,description:"",name:"formValues",required:!0,type:{name:"OmBarnetFormData"}},visibility:{defaultValue:null,description:"",name:"visibility",required:!0,type:{name:"QuestionVisibility<OmBarnetFormField, undefined>"}},søknadGjelderEtNyttBarn:{defaultValue:null,description:"",name:"søknadGjelderEtNyttBarn",required:!0,type:{name:"boolean"}}}}}catch{}const L=({søkersituasjon:e,formValues:t,visibility:r,søknadGjelderEtNyttBarn:i})=>{const o=F();return e.situasjon==="fødsel"||t.adopsjonAvEktefellesBarn!==d.YES?null:S(j,{children:[a(s,{padBottom:"xl",children:a(B.DatePicker,{label:l(o,"omBarnet.adopsjonsdato.stebarn"),name:n.adopsjonsdato,validate:te(o),placeholder:"dd.mm.åååå"})}),a(s,{padBottom:"xl",visible:r.isVisible(n.antallBarn),children:a(B.RadioGroup,{name:n.antallBarn,radios:[{label:l(o,"omBarnet.radiobutton.ettBarn"),value:"1"},{label:l(o,"omBarnet.radiobutton.toBarn"),value:"2"},{label:l(o,"omBarnet.radiobutton.flere"),value:"3"}],legend:l(o,"omBarnet.antallBarn.adopsjon.født")})}),a(s,{padBottom:"xl",visible:t.antallBarn!==void 0&&i&&parseInt(t.antallBarn,10)>=3,children:S(B.Select,{label:"Antall barn",name:n.antallBarnSelect,children:[a("option",{value:""}),a("option",{value:"3",children:"3"}),a("option",{value:"4",children:"4"}),a("option",{value:"5",children:"5"}),a("option",{value:"6",children:"6"}),a("option",{value:"7",children:"7"}),a("option",{value:"8",children:"8"}),a("option",{value:"9",children:"9"})]})}),a(s,{padBottom:"xl",visible:r.isVisible(n.fødselsdatoer),children:a(q,{name:n.fødselsdatoer,render:()=>[...Array(parseInt(t.antallBarn,10))].map((m,p)=>S(s,{padBottom:"xl",children:[a(B.DatePicker,{name:`${n.fødselsdatoer}.${p}`,label:t.antallBarn==="1"?l(o,"omBarnet.fødselsdato"):l(o,`omBarnet.fødselsdato.adopsjon.${p+1}`),minDate:f().subtract(6,"month").toDate(),maxDate:k(t.adopsjonsdato),validate:c=>Z(o)(c,t.adopsjonsdato),placeholder:"dd.mm.åååå"},`${n.fødselsdatoer}.${p}`)," "]},p))})}),a(s,{padBottom:"xl",visible:r.isVisible(n.omsorgsovertakelse),children:a(V,{children:a(y,{id:"omBarnet.veileder.omsorgsovertakelse"})})}),a(s,{padBottom:"xl",visible:r.isVisible(n.omsorgsovertakelse),children:a(w,{legend:"Dokumentasjon om adopsjon",label:l(o,"omBarnet.adopsjon.vedlegg"),name:n.omsorgsovertakelse,attachments:t.omsorgsovertakelse||[],attachmentType:N.OMSORGSOVERTAKELSE,skjemanummer:O.OMSORGSOVERTAKELSESDATO})})]})};try{L.displayName="AdopsjonEktefellesBarn",L.__docgenInfo={description:"",displayName:"AdopsjonEktefellesBarn",props:{søkersituasjon:{defaultValue:null,description:"",name:"søkersituasjon",required:!0,type:{name:"Søkersituasjon"}},formValues:{defaultValue:null,description:"",name:"formValues",required:!0,type:{name:"OmBarnetFormData"}},visibility:{defaultValue:null,description:"",name:"visibility",required:!0,type:{name:"QuestionVisibility<OmBarnetFormField, undefined>"}},søknadGjelderEtNyttBarn:{defaultValue:null,description:"",name:"søknadGjelderEtNyttBarn",required:!0,type:{name:"boolean"}}}}}catch{}const Je=({visibility:e})=>{const t=F();return S(j,{children:[a(s,{padBottom:"xl",visible:e.isVisible(n.adopsjonAvEktefellesBarn),children:a(B.YesOrNoQuestion,{name:n.adopsjonAvEktefellesBarn,legend:l(t,"omBarnet.adopsjonGjelder")})}),a(s,{padBottom:"xl",visible:e.isVisible(n.erBarnetFødt),children:a(B.YesOrNoQuestion,{name:n.erBarnetFødt,legend:l(t,"omBarnet.erBarnetFødt")})})]})};try{BarnFdtEllerAdoptert.displayName="BarnFdtEllerAdoptert",BarnFdtEllerAdoptert.__docgenInfo={description:"",displayName:"BarnFdtEllerAdoptert",props:{visibility:{defaultValue:null,description:"",name:"visibility",required:!0,type:{name:"QuestionVisibility<OmBarnetFormField, undefined>"}}}}}catch{}const Xe=({søkersituasjon:e,formValues:t,visibility:r,søknadGjelderEtNyttBarn:i})=>{const{erBarnetFødt:o,antallBarn:m,fødselsdatoer:p}=t,c=F(),I=m!==void 0&&parseInt(m,10)>1?"omBarnet.fødselsdato.flereBarn":"omBarnet.fødselsdato";return e.situasjon==="adopsjon"||i&&o!==d.YES||!i?null:S(j,{children:[a(s,{padBottom:"xl",visible:r.isVisible(n.antallBarn),children:a(B.RadioGroup,{name:n.antallBarn,radios:[{label:l(c,"omBarnet.radiobutton.ettBarn"),value:"1"},{label:l(c,"omBarnet.radiobutton.tvillinger"),value:"2"},{label:l(c,"omBarnet.radiobutton.flere"),value:"3"}],legend:l(c,"omBarnet.antallBarn.født")})}),a(s,{padBottom:"xl",visible:m!==void 0&&i&&parseInt(m,10)>=3,children:S(B.Select,{label:"Antall barn",name:n.antallBarnSelect,children:[a("option",{value:""}),a("option",{value:"3",children:"3"}),a("option",{value:"4",children:"4"}),a("option",{value:"5",children:"5"}),a("option",{value:"6",children:"6"}),a("option",{value:"7",children:"7"}),a("option",{value:"8",children:"8"}),a("option",{value:"9",children:"9"})]})}),a(s,{padBottom:"xl",visible:r.isVisible(n.fødselsdatoer),children:a(q,{name:n.fødselsdatoer,render:()=>[a(B.DatePicker,{name:`${n.fødselsdatoer}.0`,label:l(c,I),minDate:f().subtract(3,"years").toDate(),maxDate:f().toDate(),validate:$e(c),placeholder:"dd.mm.åååå"},`${n.fødselsdatoer}.0`)]})}),a(s,{padBottom:"l",visible:r.isVisible(n.termindato),children:a(B.DatePicker,{name:n.termindato,label:l(c,"omBarnet.termindato.født"),minDate:f(p[0]).subtract(1,"months").toDate(),maxDate:f(p[0]).add(6,"months").toDate(),placeholder:"dd.mm.åååå",validate:ee(p[0],c)})})]})};try{Fdsel.displayName="Fdsel",Fdsel.__docgenInfo={description:"",displayName:"Fdsel",props:{søkersituasjon:{defaultValue:null,description:"",name:"søkersituasjon",required:!0,type:{name:"Søkersituasjon"}},formValues:{defaultValue:null,description:"",name:"formValues",required:!0,type:{name:"OmBarnetFormData"}},visibility:{defaultValue:null,description:"",name:"visibility",required:!0,type:{name:"QuestionVisibility<OmBarnetFormField, undefined>"}},søknadGjelderEtNyttBarn:{defaultValue:null,description:"",name:"søknadGjelderEtNyttBarn",required:!0,type:{name:"boolean"}}}}}catch{}const Ze=e=>{const t=f(e).add(12,"weeks");return f(t).isAfter(new Date,"day")},et=(e,t,r,i)=>{if(i==="adopsjon")return!1;let o;if(r!==void 0&&r.length>0&&(o=Me(r).fødselsdato),!t&&!o)return!1;const m=o||k(t);return _(e)?K(m)&&r!==void 0&&r.length===0?!0:Ze(m):!0},tt=(e,t,r,i)=>e===d.NO&&t.length===0&&$(r,i),E=(e,t)=>e===d.NO&&t!==""&&!xe(k(t)),at=(e,t)=>e===d.NO&&E(e,t),$=(e,t)=>_(e)?u(t)?K(new Date(t)):!1:!0,rt=(e,t)=>e==="fødsel"?t:!1,nt=(e,t,r,i,o,m)=>o?E(t,e)&&r!==d.UNANSWERED||!E(t,e)&&m!==void 0&&u(m[0])||t===d.YES&&m!==void 0&&u(m[0]):t===d.YES&&u(e)||t===d.NO&&u(e)&&!E(t,e)||t===d.NO&&E(t,e)&&r===d.NO||t===d.NO&&E(t,e)&&r===d.YES&&u(i),ot={[n.adopsjonAvEktefellesBarn]:{isIncluded:({situasjon:e})=>e==="adopsjon",isAnswered:({adopsjonAvEktefellesBarn:e})=>e!==d.UNANSWERED,visibilityFilter:({situasjon:e})=>e==="adopsjon"},[n.erBarnetFødt]:{isIncluded:({situasjon:e,søknadGjelderEtNyttBarn:t})=>t&&e==="fødsel",isAnswered:({erBarnetFødt:e})=>e!==d.UNANSWERED,visibilityFilter:({situasjon:e,søknadGjelderEtNyttBarn:t})=>rt(e,t)},[n.antallBarn]:{isIncluded:({søknadGjelderEtNyttBarn:e})=>e,isAnswered:({antallBarn:e})=>u(e),visibilityFilter:({adopsjonAvEktefellesBarn:e,erBarnetFødt:t,adopsjonsdato:r})=>t!==d.UNANSWERED||e!==d.UNANSWERED&&u(r)},[n.antallBarnSelect]:{isIncluded:({antallBarn:e,søknadGjelderEtNyttBarn:t})=>parseInt(e,10)>=3&&t,isAnswered:({antallBarnSelect:e})=>u(e),visibilityFilter:({adopsjonAvEktefellesBarn:e,erBarnetFødt:t,adopsjonsdato:r,antallBarn:i})=>parseInt(i,10)>=3&&(t!==d.UNANSWERED||e!==d.UNANSWERED&&u(r))},[n.adopsjonsdato]:{isIncluded:({adopsjonAvEktefellesBarn:e})=>e!==d.UNANSWERED,isAnswered:({adopsjonsdato:e})=>u(e),visibilityFilter:({adopsjonAvEktefellesBarn:e})=>e!==d.UNANSWERED},[n.fødselsdatoer]:{isIncluded:({erBarnetFødt:e,adopsjonAvEktefellesBarn:t,søknadGjelderEtNyttBarn:r})=>r&&(e===d.YES||t!==d.UNANSWERED),isAnswered:({fødselsdatoer:e})=>e.length>0&&u(e[0]),visibilityFilter:({antallBarn:e})=>u(e)},[n.omsorgsovertakelse]:{isIncluded:({adopsjonAvEktefellesBarn:e})=>e!==d.UNANSWERED,isAnswered:()=>!0,visibilityFilter:({adopsjonsdato:e,adopsjonAvEktefellesBarn:t,ankomstdato:r,adoptertIUtlandet:i,søknadGjelderEtNyttBarn:o,fødselsdatoer:m})=>nt(e,t,i,r,o,m)},[n.termindato]:{isIncluded:({rolle:e,fødselsdatoer:t,erBarnetFødt:r,situasjon:i,valgteRegistrerteBarn:o})=>et(e,t[0],o,i)||r===d.NO,isAnswered:({termindato:e})=>u(e),visibilityFilter:({fødselsdatoer:e,erBarnetFødt:t,antallBarn:r,valgteRegistrerteBarn:i})=>u(e[0])||t===d.NO&&u(r)||i!==void 0&&i.length>0},[n.terminbekreftelse]:{isIncluded:({erBarnetFødt:e,arbeidsforhold:t,rolle:r,termindato:i})=>tt(e,t,r,i),isAnswered:({terminbekreftelse:e})=>u(e),visibilityFilter:({termindato:e})=>u(e)},[n.terminbekreftelsedato]:{isIncluded:({erBarnetFødt:e,arbeidsforhold:t,rolle:r,termindato:i})=>e===d.NO&&t.length===0&&$(r,i),isAnswered:({terminbekreftelsedato:e})=>u(e),visibilityFilter:({termindato:e})=>u(e)},[n.adoptertIUtlandet]:{isIncluded:({adopsjonAvEktefellesBarn:e,adopsjonsdato:t})=>E(e,t),isAnswered:({adoptertIUtlandet:e})=>e!==d.UNANSWERED,visibilityFilter:({fødselsdatoer:e,søknadGjelderEtNyttBarn:t})=>t&&u(e[0])||!t},[n.ankomstdato]:{isIncluded:({adopsjonAvEktefellesBarn:e,adopsjonsdato:t})=>at(e,t),isAnswered:({ankomstdato:e})=>u(e),visibilityFilter:({adoptertIUtlandet:e})=>e===d.YES}},lt=Le(ot),P=({søkersituasjon:e,visibility:t,formValues:r,søknadGjelderEtNyttBarn:i})=>{const o=F();if(e.situasjon==="adopsjon"||r.erBarnetFødt!==d.NO||!i)return null;const m=_(e.rolle),p=m&&u(r.termindato),c=m?"omBarnet.antallBarn.termin.far":"omBarnet.antallBarn.termin",I=m?"omBarnet.veileder.terminbekreftelse.far":"omBarnet.veileder.terminbekreftelse",T=m?"omBarnet.termindato.infotekst.farMedmor":"omBarnet.termindato.infotekst";return S(j,{children:[a(s,{padBottom:"xl",visible:t.isVisible(n.antallBarn),children:a(B.RadioGroup,{name:n.antallBarn,radios:[{label:l(o,"omBarnet.radiobutton.ettBarn"),value:"1"},{label:l(o,"omBarnet.radiobutton.tvillinger"),value:"2"},{label:l(o,"omBarnet.radiobutton.flere"),value:"3"}],legend:l(o,c)})}),a(s,{padBottom:"xl",visible:r.antallBarn!==void 0&&parseInt(r.antallBarn,10)>=3,children:S(B.Select,{label:"Antall barn",name:n.antallBarnSelect,children:[a("option",{value:""}),a("option",{value:"3",children:"3"}),a("option",{value:"4",children:"4"}),a("option",{value:"5",children:"5"}),a("option",{value:"6",children:"6"}),a("option",{value:"7",children:"7"}),a("option",{value:"8",children:"8"}),a("option",{value:"9",children:"9"})]})}),a(s,{padBottom:"s",visible:t.isVisible(n.termindato),children:a(B.DatePicker,{name:n.termindato,label:l(o,"omBarnet.termindato.termin"),placeholder:"dd.mm.åååå",minDate:Be,maxDate:fe,validate:Ce(o)})}),a(s,{padBottom:"xl",visible:t.isVisible(n.termindato),children:a(ke,{header:l(o,"omBarnet.termindato.åpneLabel"),children:l(o,T)})}),p&&!$(e.rolle,r.termindato)&&a(s,{padBottom:"xl",children:a(V,{children:a(y,{id:"omBarnet.veileder.medMorEllerFarTermin",values:{lenke:a(Pe,{href:Ge.papirsøknad,children:a(y,{id:"omBarnet.papirsøknad.lenke"})})}})})}),a(s,{padBottom:"xl",visible:t.isVisible(n.terminbekreftelse),children:a(V,{children:a(y,{id:I})})}),a(s,{padBottom:"xl",visible:t.isVisible(n.terminbekreftelse),children:a(w,{legend:"Dokumentasjon om terminbekreftelse",label:l(o,"omBarnet.terminbekreftelse.lastOpp"),name:n.terminbekreftelse,attachments:r.terminbekreftelse||[],attachmentType:N.TERMINBEKREFTELSE,skjemanummer:O.TERMINBEKREFTELSE})}),a(s,{padBottom:"xl",visible:t.isVisible(n.terminbekreftelsedato),children:a(B.DatePicker,{name:n.terminbekreftelsedato,label:l(o,"omBarnet.terminbekreftelseDato"),placeholder:"dd.mm.åååå",validate:ze(o),maxDate:ge})})]})};try{P.displayName="Termin",P.__docgenInfo={description:"",displayName:"Termin",props:{søkersituasjon:{defaultValue:null,description:"",name:"søkersituasjon",required:!0,type:{name:"Søkersituasjon"}},formValues:{defaultValue:null,description:"",name:"formValues",required:!0,type:{name:"OmBarnetFormData"}},visibility:{defaultValue:null,description:"",name:"visibility",required:!0,type:{name:"QuestionVisibility<OmBarnetFormField, undefined>"}},søknadGjelderEtNyttBarn:{defaultValue:null,description:"",name:"søknadGjelderEtNyttBarn",required:!0,type:{name:"boolean"}}}}}catch{}const it=()=>({[n.erBarnetFødt]:d.UNANSWERED,[n.adopsjonAvEktefellesBarn]:d.UNANSWERED,[n.antallBarn]:"",[n.antallBarnSelect]:"",[n.adopsjonsdato]:"",[n.fødselsdatoer]:[],[n.omsorgsovertakelse]:[],[n.termindato]:"",[n.terminbekreftelse]:[],[n.terminbekreftelsedato]:"",[n.adoptertIUtlandet]:d.UNANSWERED,[n.ankomstdato]:""}),dt=(e,t)=>({erBarnetFødt:t.isVisible(n.erBarnetFødt)?e.erBarnetFødt:d.UNANSWERED,adopsjonAvEktefellesBarn:t.isVisible(n.adopsjonAvEktefellesBarn)?e.adopsjonAvEktefellesBarn:d.UNANSWERED,antallBarn:t.isVisible(n.antallBarn)?e.antallBarn:"",antallBarnSelect:t.isVisible(n.antallBarnSelect)?e.antallBarnSelect:"",adopsjonsdato:t.isVisible(n.adopsjonsdato)?e.adopsjonsdato:"",fødselsdatoer:t.isVisible(n.fødselsdatoer)?e.fødselsdatoer:[],omsorgsovertakelse:t.isVisible(n.omsorgsovertakelse)?e.omsorgsovertakelse:[],termindato:t.isVisible(n.termindato)?e.termindato:"",terminbekreftelse:t.isVisible(n.terminbekreftelse)?e.terminbekreftelse:[],terminbekreftelsedato:t.isVisible(n.terminbekreftelsedato)?e.terminbekreftelsedato:"",adoptertIUtlandet:t.isVisible(n.adoptertIUtlandet)?e.adoptertIUtlandet:d.UNANSWERED,ankomstdato:t.isVisible(n.ankomstdato)?e.ankomstdato:""}),st=(e,t,r,i)=>{if(e!==void 0&&t==="fødsel")return{...e,type:i?h.UFØDT:h.FØDT,termindato:u(r.termindato)?k(r.termindato):void 0,fødselsdatoer:e.fødselsdatoer,antallBarn:e.antallBarn};const o=x(r.omsorgsovertakelse,N.OMSORGSOVERTAKELSE,O.OMSORGSOVERTAKELSESDATO);return r.adopsjonAvEktefellesBarn===d.YES?{...e,type:h.ADOPTERT_STEBARN,adopsjonsdato:k(r.adopsjonsdato),omsorgsovertakelse:o}:{...e,type:h.ADOPTERT_ANNET_BARN,adopsjonsdato:k(r.adopsjonsdato),adoptertIUtlandet:Q(r.adoptertIUtlandet),ankomstdato:r.adoptertIUtlandet===d.YES?k(r.ankomstdato):void 0,omsorgsovertakelse:o}},mt=(e,t,r,i,o)=>{if(r!==void 0)return st(r,i,e,o);const m=parseInt(e.antallBarn,10)<3?parseInt(e.antallBarn,10):parseInt(e.antallBarnSelect,10);if(e.erBarnetFødt===d.YES)return{type:h.FØDT,fødselsdatoer:e.fødselsdatoer.map(c=>k(c)),antallBarn:m,termindato:u(e.termindato)?k(e.termindato):void 0};if(e.erBarnetFødt===d.NO){const c=x(e.terminbekreftelse,N.TERMINBEKREFTELSE,O.TERMINBEKREFTELSE);return t.length===0?{type:h.UFØDT,terminbekreftelse:c,terminbekreftelsedato:k(e.terminbekreftelsedato),antallBarn:m,termindato:k(e.termindato)}:{type:h.UFØDT,antallBarn:m,termindato:k(e.termindato)}}const p=x(e.omsorgsovertakelse,N.OMSORGSOVERTAKELSE,O.OMSORGSOVERTAKELSESDATO);return e.adopsjonAvEktefellesBarn===d.YES?{type:h.ADOPTERT_STEBARN,adopsjonsdato:k(e.adopsjonsdato),antallBarn:m,fødselsdatoer:e.fødselsdatoer.map(c=>k(c)),omsorgsovertakelse:p}:{type:h.ADOPTERT_ANNET_BARN,fødselsdatoer:e.fødselsdatoer.map(c=>k(c)),adopsjonsdato:k(e.adopsjonsdato),antallBarn:m,adoptertIUtlandet:Q(e.adoptertIUtlandet),ankomstdato:e.adoptertIUtlandet===d.YES?k(e.ankomstdato):void 0,omsorgsovertakelse:p}},pt=(e,t)=>{const r=it();if(!e)return r;const i=e.antallBarn>2;return X(e)?{...r,erBarnetFødt:d.YES,fødselsdatoer:e.fødselsdatoer.map(o=>v(o)),termindato:v(e.termindato),antallBarn:i?"3":e.antallBarn.toString(),antallBarnSelect:i?e.antallBarn.toString():""}:M(e)?t.length===0?{...r,erBarnetFødt:d.NO,terminbekreftelse:e.terminbekreftelse||[],terminbekreftelsedato:v(e.terminbekreftelsedato),termindato:v(e.termindato),antallBarn:i?"3":e.antallBarn.toString(),antallBarnSelect:i?e.antallBarn.toString():""}:{...r,erBarnetFødt:d.NO,termindato:v(e.termindato),antallBarn:i?"3":e.antallBarn.toString(),antallBarnSelect:i?e.antallBarn.toString():""}:De(e)?{...r,adopsjonAvEktefellesBarn:d.NO,fødselsdatoer:e.fødselsdatoer.map(o=>v(o)),adopsjonsdato:v(e.adopsjonsdato),antallBarn:i?"3":e.antallBarn.toString(),antallBarnSelect:i?e.antallBarn.toString():"",adoptertIUtlandet:Ye(e.adoptertIUtlandet),omsorgsovertakelse:e.omsorgsovertakelse,ankomstdato:v(e.ankomstdato)}:Fe(e)?{...r,adopsjonAvEktefellesBarn:d.YES,adopsjonsdato:v(e.adopsjonsdato),antallBarn:i?"3":e.antallBarn.toString(),antallBarnSelect:i?e.antallBarn.toString():"",fødselsdatoer:e.fødselsdatoer.map(o=>v(o)),omsorgsovertakelse:e.omsorgsovertakelse}:r},Y=({valgteBarn:e,visibility:t})=>{const r=F(),i=e.length,o=e.every(c=>Ae(c));e.sort(we);const m=e.map(c=>c.fødselsdato),p=e[0].fødselsdato;return S(j,{children:[a(s,{padBottom:"xl",children:S("div",{children:[a(s,{padBottom:"s",children:a(Qe,{children:a(y,{id:"omBarnet.valgteBarn.tittel",values:{antallBarn:i}})})}),o?e.map(c=>a(s,{padBottom:"s",children:a(z,{person:c,fødselsdatoForVisning:H([c.fødselsdato]),visEtternavn:!1})},c.fnr)):a(s,{padBottom:"s",children:a(z,{person:e[0],fødselsdatoForVisning:H(m),altTekstHvisUkjentNavn:ye(void 0,m,e.length,r),visEtternavn:!1})})]})}),a(s,{padBottom:"l",visible:t.isVisible(n.termindato)&&e.length>0,children:a(B.DatePicker,{name:n.termindato,label:l(r,"omBarnet.termindato.født"),dayPickerProps:{defaultMonth:p},minDate:f(p).subtract(1,"months").toDate(),maxDate:f(p).add(6,"months").toDate(),placeholder:"dd.mm.åååå",validate:ee(v(p),r)})})]})};try{Y.displayName="ValgteRegistrerteBarn",Y.__docgenInfo={description:"",displayName:"ValgteRegistrerteBarn",props:{valgteBarn:{defaultValue:null,description:"",name:"valgteBarn",required:!0,type:{name:"RegistrertBarn[]"}},visibility:{defaultValue:null,description:"",name:"visibility",required:!0,type:{name:"QuestionVisibility<OmBarnetFormField, undefined>"}}}}}catch{}const W=()=>{const e=F(),{søkersituasjon:t,barn:r}=Ne(),{arbeidsforhold:i,registrerteBarn:o}=je(),{state:m}=be(),{søknadGjelderEtNyttBarn:p}=m,c=g=>{const U=mt(g,i,p?void 0:r,t.situasjon,R);return[he.setOmBarnet(U)]},{handleSubmit:I,isSubmitting:T}=Ee(c,C.ANNEN_FORELDER,g=>qe(g)),ae=Ie(),re=Te();We(C.OM_BARNET);const ne=g=>!M(r)&&r.fnr!==void 0&&r.fnr.length>0?r.fnr.includes(g.fnr):!1,oe=r?k(Oe(r)):void 0,le=r&&X(r)?o.filter(g=>g.fnr===void 0&&Ke(g.fødselsdato,oe)):[],A=!p&&!M(r)?o.filter(g=>ne(g)).concat(le):void 0,R=!p&&(A===void 0||A.length===0);return a(B.FormikWrapper,{initialValues:pt(r,i),onSubmit:I,renderForm:({values:g})=>{const b=lt.getVisbility({...g,arbeidsforhold:i,situasjon:t.situasjon,rolle:t.rolle,valgteRegistrerteBarn:A,søknadGjelderEtNyttBarn:R||p}),U=_(t.rolle)&&Q(g.erBarnetFødt)===!1&&u(g.termindato)&&!K(k(g.termindato)),ie=b.areAllQuestionsAnswered()&&!U;return a(Se,{bannerTitle:l(e,"søknad.pageheading"),backLinkHref:Ve("omBarnet"),activeStepId:"omBarnet",pageTitle:l(e,"søknad.omBarnet"),onCancel:ae,onContinueLater:re,steps:_e(e,!1),children:S(B.Form,{includeButtons:!1,includeValidationSummary:!0,cleanup:de=>dt(de,b),children:[A!==void 0&&A.length>0&&a(Y,{valgteBarn:A,visibility:b}),a(Je,{visibility:b}),a(G,{søkersituasjon:t,formValues:g,visibility:b,søknadGjelderEtNyttBarn:p}),a(L,{søkersituasjon:t,formValues:g,visibility:b,søknadGjelderEtNyttBarn:p}),a(P,{søkersituasjon:t,formValues:g,visibility:b,søknadGjelderEtNyttBarn:R||p}),a(Xe,{søkersituasjon:t,formValues:g,visibility:b,søknadGjelderEtNyttBarn:p}),a(s,{visible:ie,textAlignCenter:!0,children:a(ve,{type:"submit",disabled:T,loading:T,children:l(e,"søknad.gåVidere")})})]})})}})},Rt=W;try{W.displayName="OmBarnet",W.__docgenInfo={description:"",displayName:"OmBarnet",props:{}}}catch{}export{Rt as O};
//# sourceMappingURL=OmBarnet-6ad2549b.js.map

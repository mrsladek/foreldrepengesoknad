import{a as S,F as j,j as a}from"./jsx-runtime-670450c2.js";import{d as f,aA as Be,ax as fe,h as p,i as o,v as D,aB as te,aC as ke,aD as ge,aE as ae,a as y,B as m,x as K,g as re,G as R,F as E,aF as Se,aG as ve,R as be,w as he,A as Ee,H as Fe,S as De,l as Ae,b as J}from"./validationUtils-00d66cf2.js";import"./index-7e4e529b.js";import{r as ye}from"./index-f1f749bf.js";import{u as Ne,S as X,a as Te}from"./mapSøkerinfoDTO-adbe2fb9.js";import{u as Oe}from"./useOnValidSubmit-0d8cf87d.js";import{b as _,a as ne,c as P,m as je,l as Ie,B as F,n as Ve,o as Z,p as Re,u as _e,g as Ue,L as xe}from"./useSøknad-54892a90.js";import{u as Me}from"./useSøkerinfo-4e57f087.js";import{u as Pe,a as Ge,s as Le,g as We}from"./useFortsettSøknadSenere-d27349ce.js";import{F as Q}from"./FormikFileUploader-22e1c282.js";import{g as Ye,Y as d,A as T,d as b}from"./getTypedFormComponents-a42e978b.js";import{S as O}from"./Skjemanummer-77149054.js";import{N as qe,I as k,a0 as we,A as C,f as Ke}from"./dateUtils-becbdc23.js";import{l as Qe}from"./links-b36d21ab.js";import{Q as Ce}from"./index-47edccfa.js";import{L as $e,B as He}from"./Link-40b5f3c6.js";import{a as ze,c as $}from"./formUtils-b1c6ed9d.js";import{l as G}from"./vedleggUtils-c5e558a5.js";import{u as Je,s as Xe}from"./useSaveLoadedRoute-352242ea.js";import{R as ee}from"./RegistrertePersonalia-4c722ff2.js";import{e as Ze,f as et}from"./velkommenUtils-40bb4bde.js";import{L as tt}from"./Label-bbf0f831.js";var n=(e=>(e.erBarnetFødt="erBarnetFødt",e.adopsjonAvEktefellesBarn="adopsjonAvEktefellesBarn",e.antallBarn="antallBarn",e.antallBarnSelect="antallBarnSelect",e.adopsjonsdato="adopsjonsdato",e.søkerAdopsjonAlene="søkerAdopsjonAlene",e.adoptertIUtlandet="adoptertIUtlandet",e.fødselsdatoer="fødselsdatoer",e.termindato="termindato",e.omsorgsovertakelse="omsorgsovertakelse",e.terminbekreftelse="terminbekreftelse",e.terminbekreftelsedato="terminbekreftelsedato",e.ankomstdato="ankomstdato",e))(n||{});const B=Ye();f.extend(Be);f.extend(fe);const at=e=>t=>{if(!p(t))return o(e,"valideringsfeil.omBarnet.fødselsdato.duMåOppgi");if(!D.isISODateString(t))return o(e,"valideringsfeil.omBarnet.fødselsdato.ugyldigDatoFormat");if(te(t))return o(e,"valideringsfeil.omBarnet.fødselsdato.måVæreIdagEllerTidligere");if(f(t).isBefore(f(new Date).subtract(3,"years").subtract(4,"months"),"day"))return o(e,"valideringsfeil.omBarnet.fødselsdato.ikkeMerEnn3År3MndTilbake")},oe=e=>(t,r)=>{if(!p(t))return o(e,"valideringsfeil.omBarnet.fødselsdato.duMåOppgi");if(!D.isISODateString(t))return o(e,"valideringsfeil.omBarnet.fødselsdato.ugyldigDatoFormat");if(te(t))return o(e,"valideringsfeil.omBarnet.fødselsdato.måVæreIdagEllerTidligere");if(qe(r,t))return o(e,"valideringsfeil.omBarnet.fødselsdato.måVæreFørAdopsjonsdato");if(!ke(t,r))return o(e,"valideringsfeil.omBarnet.fødselsdato.ikkeMerEnn15År3MndTilbake")},rt=e=>t=>{if(!p(t))return o(e,"valideringsfeil.omBarnet.termindato.duMåOppgi");if(!D.isISODateString(t))return o(e,"valideringsfeil.omBarnet.termindato.ugyldigDatoFormat");if(!ge(t))return o(e,"valideringsfeil.omBarnet.termindato.forTidlig");if(!ae(t))return o(e,"valideringsfeil.omBarnet.termindato.duMåVæreIUke22")},ie=(e,t)=>r=>{if(!p(r))return o(t,"valideringsfeil.omBarnet.termindato.duMåOppgi");if(!D.isISODateString(r))return o(t,"valideringsfeil.omBarnet.termindato.ugyldigDatoFormat");if(!f(r).subtract(6,"months").isSameOrBefore(f(e),"day"))return o(t,"valideringsfeil.omBarnet.termindato.forLangtFremITid");if(!f(r).add(1,"months").isSameOrAfter(f(e),"day"))return o(t,"valideringsfeil.omBarnet.termindato.forLangtTilbakeITid")},le=e=>t=>{if(!p(t))return o(e,"valideringsfeil.omBarnet.adopsjonsdato.duMåOppgi");if(!D.isISODateString(t))return o(e,"valideringsfeil.omBarnet.adopsjonsdato.ugyldigDatoFormat")},nt=e=>(t,r)=>{if(!p(t))return o(e,"valideringsfeil.omBarnet.ankomstDato.duMåOppgi");if(!D.isISODateString(t))return o(e,"valideringsfeil.omBarnet.ankomstDato.ugyldigDatoFormat");if(r!==void 0&&!f(r).isSameOrBefore(t,"day"))return o(e,"valideringsfeil.omBarnet.ankomstDato.førFødselsdato")},ot=e=>t=>{if(!p(t))return o(e,"valideringsfeil.omBarnet.terminbekreftelseDato.duMåOppgi");if(!D.isISODateString(t))return o(e,"valideringsfeil.omBarnet.terminbekreftelseDato.ugyldigDatoFormat");if(f().isBefore(f(t)))return o(e,"valideringsfeil.omBarnet.terminbekreftelseDato.kanIkkeVæreFremITid")},L=({søkersituasjon:e,formValues:t,visibility:r,søknadGjelderEtNyttBarn:l})=>{const i=y();return e.situasjon==="fødsel"||t.adopsjonAvEktefellesBarn!==d.NO?null:S(j,{children:[a(m,{padBottom:"xl",children:a(B.DatePicker,{label:o(i,"omBarnet.adopsjonsdato.annetBarn"),name:n.adopsjonsdato,validate:le(i),placeholder:"dd.mm.åååå"})}),a(m,{padBottom:"xl",visible:r.isVisible(n.antallBarn),children:a(B.RadioGroup,{name:n.antallBarn,radios:[{label:o(i,"omBarnet.radiobutton.ettBarn"),value:"1"},{label:o(i,"omBarnet.radiobutton.toBarn"),value:"2"},{label:o(i,"omBarnet.radiobutton.flere"),value:"3"}],legend:o(i,"omBarnet.antallBarn.adopsjon.født")})}),a(m,{padBottom:"xl",visible:t.antallBarn!==void 0&&l&&parseInt(t.antallBarn,10)>=3,children:S(B.Select,{label:"Antall barn",name:n.antallBarnSelect,children:[a("option",{value:""}),a("option",{value:"3",children:"3"}),a("option",{value:"4",children:"4"}),a("option",{value:"5",children:"5"}),a("option",{value:"6",children:"6"}),a("option",{value:"7",children:"7"}),a("option",{value:"8",children:"8"}),a("option",{value:"9",children:"9"})]})}),a(m,{padBottom:"xl",visible:r.isVisible(n.fødselsdatoer),children:a(K,{name:n.fødselsdatoer,render:()=>[...Array(parseInt(t.antallBarn,10))].map((s,u)=>a(m,{padBottom:"xl",children:a(B.DatePicker,{name:`${n.fødselsdatoer}.${u}`,label:t.antallBarn==="1"?o(i,"omBarnet.fødselsdato"):o(i,`omBarnet.fødselsdato.adopsjon.${u+1}`),minDate:f(t.adopsjonsdato).subtract(15,"years").toDate(),maxDate:k(t.adopsjonsdato),validate:c=>oe(i)(c,t.adopsjonsdato),placeholder:"dd.mm.åååå",showYearSelector:!0})},re()))})}),a(m,{padBottom:"xl",visible:r.isVisible(n.adoptertIUtlandet),children:a(B.YesOrNoQuestion,{name:n.adoptertIUtlandet,legend:o(i,"omBarnet.adopteresFraUtlandet")})}),a(m,{padBottom:"xl",visible:r.isVisible(n.ankomstdato),children:a(B.DatePicker,{name:n.ankomstdato,label:o(i,"omBarnet.ankomstDato"),minDate:f(t.fødselsdatoer[0]).toDate(),maxDate:f().add(6,"months").toDate(),validate:s=>nt(i)(s,t.fødselsdatoer[0]),placeholder:"dd.mm.åååå"})}),a(m,{padBottom:"xl",visible:r.isVisible(n.omsorgsovertakelse),children:a(R,{children:a(E,{id:"omBarnet.veileder.omsorgsovertakelse"})})}),a(m,{padBottom:"xl",visible:r.isVisible(n.omsorgsovertakelse),children:a(Q,{legend:"Dokumentasjon om adopsjon",label:o(i,"omBarnet.adopsjon.vedlegg"),name:n.omsorgsovertakelse,attachments:t.omsorgsovertakelse||[],attachmentType:T.OMSORGSOVERTAKELSE,skjemanummer:O.OMSORGSOVERTAKELSESDATO})})]})};try{L.displayName="AdopsjonAnnetBarn",L.__docgenInfo={description:"",displayName:"AdopsjonAnnetBarn",props:{søkersituasjon:{defaultValue:null,description:"",name:"søkersituasjon",required:!0,type:{name:"Søkersituasjon"}},formValues:{defaultValue:null,description:"",name:"formValues",required:!0,type:{name:"OmBarnetFormData"}},visibility:{defaultValue:null,description:"",name:"visibility",required:!0,type:{name:"QuestionVisibility<OmBarnetFormField, undefined>"}},søknadGjelderEtNyttBarn:{defaultValue:null,description:"",name:"søknadGjelderEtNyttBarn",required:!0,type:{name:"boolean"}}}}}catch{}const W=({søkersituasjon:e,formValues:t,visibility:r,søknadGjelderEtNyttBarn:l})=>{const i=y();return e.situasjon==="fødsel"||t.adopsjonAvEktefellesBarn!==d.YES?null:S(j,{children:[a(m,{padBottom:"xl",children:a(B.DatePicker,{label:o(i,"omBarnet.adopsjonsdato.stebarn"),name:n.adopsjonsdato,validate:le(i),placeholder:"dd.mm.åååå"})}),a(m,{padBottom:"xl",visible:r.isVisible(n.antallBarn),children:a(B.RadioGroup,{name:n.antallBarn,radios:[{label:o(i,"omBarnet.radiobutton.ettBarn"),value:"1"},{label:o(i,"omBarnet.radiobutton.toBarn"),value:"2"},{label:o(i,"omBarnet.radiobutton.flere"),value:"3"}],legend:o(i,"omBarnet.antallBarn.adopsjon.født")})}),a(m,{padBottom:"xl",visible:t.antallBarn!==void 0&&l&&parseInt(t.antallBarn,10)>=3,children:S(B.Select,{label:"Antall barn",name:n.antallBarnSelect,children:[a("option",{value:""}),a("option",{value:"3",children:"3"}),a("option",{value:"4",children:"4"}),a("option",{value:"5",children:"5"}),a("option",{value:"6",children:"6"}),a("option",{value:"7",children:"7"}),a("option",{value:"8",children:"8"}),a("option",{value:"9",children:"9"})]})}),a(m,{padBottom:"xl",visible:r.isVisible(n.fødselsdatoer),children:a(K,{name:n.fødselsdatoer,render:()=>[...Array(parseInt(t.antallBarn,10))].map((s,u)=>S(m,{padBottom:"xl",children:[a(B.DatePicker,{name:`${n.fødselsdatoer}.${u}`,label:t.antallBarn==="1"?o(i,"omBarnet.fødselsdato"):o(i,`omBarnet.fødselsdato.adopsjon.${u+1}`),minDate:f().subtract(6,"month").toDate(),maxDate:k(t.adopsjonsdato),validate:c=>oe(i)(c,t.adopsjonsdato),placeholder:"dd.mm.åååå"})," "]},re()))})}),a(m,{padBottom:"xl",visible:r.isVisible(n.omsorgsovertakelse),children:a(R,{children:a(E,{id:"omBarnet.veileder.omsorgsovertakelse"})})}),a(m,{padBottom:"xl",visible:r.isVisible(n.omsorgsovertakelse),children:a(Q,{legend:"Dokumentasjon om adopsjon",label:o(i,"omBarnet.adopsjon.vedlegg"),name:n.omsorgsovertakelse,attachments:t.omsorgsovertakelse||[],attachmentType:T.OMSORGSOVERTAKELSE,skjemanummer:O.OMSORGSOVERTAKELSESDATO})})]})};try{W.displayName="AdopsjonEktefellesBarn",W.__docgenInfo={description:"",displayName:"AdopsjonEktefellesBarn",props:{søkersituasjon:{defaultValue:null,description:"",name:"søkersituasjon",required:!0,type:{name:"Søkersituasjon"}},formValues:{defaultValue:null,description:"",name:"formValues",required:!0,type:{name:"OmBarnetFormData"}},visibility:{defaultValue:null,description:"",name:"visibility",required:!0,type:{name:"QuestionVisibility<OmBarnetFormField, undefined>"}},søknadGjelderEtNyttBarn:{defaultValue:null,description:"",name:"søknadGjelderEtNyttBarn",required:!0,type:{name:"boolean"}}}}}catch{}const it=({visibility:e})=>{const t=y();return S(j,{children:[a(m,{padBottom:"xl",visible:e.isVisible(n.adopsjonAvEktefellesBarn),children:a(B.YesOrNoQuestion,{name:n.adopsjonAvEktefellesBarn,legend:o(t,"omBarnet.adopsjonGjelder")})}),a(m,{padBottom:"xl",visible:e.isVisible(n.erBarnetFødt),children:a(B.YesOrNoQuestion,{name:n.erBarnetFødt,legend:o(t,"omBarnet.erBarnetFødt")})})]})};try{BarnFdtEllerAdoptert.displayName="BarnFdtEllerAdoptert",BarnFdtEllerAdoptert.__docgenInfo={description:"",displayName:"BarnFdtEllerAdoptert",props:{visibility:{defaultValue:null,description:"",name:"visibility",required:!0,type:{name:"QuestionVisibility<OmBarnetFormField, undefined>"}}}}}catch{}const lt=({søkersituasjon:e,formValues:t,visibility:r,søknadGjelderEtNyttBarn:l,barnSøktOmFørMenIkkeRegistrert:i})=>{const{erBarnetFødt:s,antallBarn:u,fødselsdatoer:c}=t,v=y(),I=u!==void 0&&parseInt(u,10)>1?"omBarnet.fødselsdato.flereBarn":"omBarnet.fødselsdato";return e.situasjon==="adopsjon"||s!==d.YES||!l&&!i?null:S(j,{children:[a(m,{padBottom:"xl",visible:r.isVisible(n.antallBarn),children:a(B.RadioGroup,{name:n.antallBarn,radios:[{label:o(v,"omBarnet.radiobutton.ettBarn"),value:"1"},{label:o(v,"omBarnet.radiobutton.tvillinger"),value:"2"},{label:o(v,"omBarnet.radiobutton.flere"),value:"3"}],legend:o(v,"omBarnet.antallBarn.født")})}),a(m,{padBottom:"xl",visible:u!==void 0&&l&&parseInt(u,10)>=3,children:S(B.Select,{label:"Antall barn",name:n.antallBarnSelect,children:[a("option",{value:""}),a("option",{value:"3",children:"3"}),a("option",{value:"4",children:"4"}),a("option",{value:"5",children:"5"}),a("option",{value:"6",children:"6"}),a("option",{value:"7",children:"7"}),a("option",{value:"8",children:"8"}),a("option",{value:"9",children:"9"})]})}),a(m,{padBottom:"xl",visible:r.isVisible(n.fødselsdatoer),children:a(K,{name:n.fødselsdatoer,render:()=>[a(B.DatePicker,{name:`${n.fødselsdatoer}.0`,label:o(v,I),minDate:f().subtract(3,"years").toDate(),maxDate:f().toDate(),validate:at(v),placeholder:"dd.mm.åååå"},`${n.fødselsdatoer}.0`)]})}),a(m,{padBottom:"l",visible:r.isVisible(n.termindato),children:a(B.DatePicker,{name:n.termindato,label:o(v,"omBarnet.termindato.født"),minDate:f(c[0]).subtract(1,"months").toDate(),maxDate:f(c[0]).add(6,"months").toDate(),placeholder:"dd.mm.åååå",validate:ie(c[0],v)})})]})};try{Fdsel.displayName="Fdsel",Fdsel.__docgenInfo={description:"",displayName:"Fdsel",props:{søkersituasjon:{defaultValue:null,description:"",name:"søkersituasjon",required:!0,type:{name:"Søkersituasjon"}},formValues:{defaultValue:null,description:"",name:"formValues",required:!0,type:{name:"OmBarnetFormData"}},visibility:{defaultValue:null,description:"",name:"visibility",required:!0,type:{name:"QuestionVisibility<OmBarnetFormField, undefined>"}},søknadGjelderEtNyttBarn:{defaultValue:null,description:"",name:"søknadGjelderEtNyttBarn",required:!0,type:{name:"boolean"}},barnSøktOmFørMenIkkeRegistrert:{defaultValue:null,description:"",name:"barnSøktOmFørMenIkkeRegistrert",required:!0,type:{name:"boolean"}}}}}catch{}const dt=e=>{const t=f(e).add(12,"weeks");return f(t).isAfter(new Date,"day")},st=(e,t,r,l)=>{if(l==="adopsjon")return!1;let i;if(r!==void 0&&r.length>0&&(i=we(r).fødselsdato),!t&&!i)return!1;const s=i||k(t);return _(e)?C(s)?!0:dt(s):!0},mt=(e,t,r,l)=>e===d.NO&&t.length===0&&H(r,l),A=(e,t)=>e===d.NO&&t!==""&&!Ke(k(t)),pt=(e,t)=>e===d.NO&&A(e,t),H=(e,t)=>_(e)?p(t)?C(new Date(t)):!1:!0,ut=(e,t)=>e==="fødsel"?t:!1,ct=(e,t,r,l,i,s)=>i?A(t,e)&&r!==d.UNANSWERED||!A(t,e)&&s!==void 0&&p(s[0])||t===d.YES&&s!==void 0&&p(s[0]):t===d.YES&&p(e)||t===d.NO&&p(e)&&!A(t,e)||t===d.NO&&A(t,e)&&r===d.NO||t===d.NO&&A(t,e)&&r===d.YES&&p(l),Bt={[n.adopsjonAvEktefellesBarn]:{isIncluded:({situasjon:e})=>e==="adopsjon",isAnswered:({adopsjonAvEktefellesBarn:e})=>e!==d.UNANSWERED,visibilityFilter:({situasjon:e})=>e==="adopsjon"},[n.erBarnetFødt]:{isIncluded:({situasjon:e,søknadGjelderEtNyttBarn:t})=>t&&e==="fødsel",isAnswered:({erBarnetFødt:e})=>e!==d.UNANSWERED,visibilityFilter:({situasjon:e,søknadGjelderEtNyttBarn:t})=>ut(e,t)},[n.antallBarn]:{isIncluded:({søknadGjelderEtNyttBarn:e})=>e,isAnswered:({antallBarn:e})=>p(e),visibilityFilter:({adopsjonAvEktefellesBarn:e,erBarnetFødt:t,adopsjonsdato:r})=>t!==d.UNANSWERED||e!==d.UNANSWERED&&p(r)},[n.antallBarnSelect]:{isIncluded:({antallBarn:e,søknadGjelderEtNyttBarn:t})=>parseInt(e,10)>=3&&t,isAnswered:({antallBarnSelect:e})=>p(e),visibilityFilter:({adopsjonAvEktefellesBarn:e,erBarnetFødt:t,adopsjonsdato:r,antallBarn:l})=>parseInt(l,10)>=3&&(t!==d.UNANSWERED||e!==d.UNANSWERED&&p(r))},[n.adopsjonsdato]:{isIncluded:({adopsjonAvEktefellesBarn:e})=>e!==d.UNANSWERED,isAnswered:({adopsjonsdato:e})=>p(e),visibilityFilter:({adopsjonAvEktefellesBarn:e})=>e!==d.UNANSWERED},[n.fødselsdatoer]:{isIncluded:({erBarnetFødt:e,adopsjonAvEktefellesBarn:t,søknadGjelderEtNyttBarn:r})=>r&&(e===d.YES||t!==d.UNANSWERED),isAnswered:({fødselsdatoer:e})=>e.length>0&&p(e[0]),visibilityFilter:({antallBarn:e})=>p(e)},[n.omsorgsovertakelse]:{isIncluded:({adopsjonAvEktefellesBarn:e})=>e!==d.UNANSWERED,isAnswered:()=>!0,visibilityFilter:({adopsjonsdato:e,adopsjonAvEktefellesBarn:t,ankomstdato:r,adoptertIUtlandet:l,søknadGjelderEtNyttBarn:i,fødselsdatoer:s})=>ct(e,t,l,r,i,s)},[n.termindato]:{isIncluded:({rolle:e,fødselsdatoer:t,erBarnetFødt:r,situasjon:l,valgteRegistrerteBarn:i})=>st(e,t[0],i,l)||r===d.NO,isAnswered:({termindato:e})=>p(e),visibilityFilter:({fødselsdatoer:e,erBarnetFødt:t,antallBarn:r,valgteRegistrerteBarn:l})=>p(e[0])||t===d.NO&&p(r)||l!==void 0&&l.length>0},[n.terminbekreftelse]:{isIncluded:({erBarnetFødt:e,arbeidsforhold:t,rolle:r,termindato:l})=>mt(e,t,r,l),isAnswered:({terminbekreftelse:e})=>p(e),visibilityFilter:({termindato:e})=>p(e)},[n.terminbekreftelsedato]:{isIncluded:({erBarnetFødt:e,arbeidsforhold:t,rolle:r,termindato:l})=>e===d.NO&&t.length===0&&H(r,l),isAnswered:({terminbekreftelsedato:e})=>p(e),visibilityFilter:({termindato:e})=>p(e)},[n.adoptertIUtlandet]:{isIncluded:({adopsjonAvEktefellesBarn:e,adopsjonsdato:t})=>A(e,t),isAnswered:({adoptertIUtlandet:e})=>e!==d.UNANSWERED,visibilityFilter:({fødselsdatoer:e,søknadGjelderEtNyttBarn:t})=>t&&p(e[0])||!t},[n.ankomstdato]:{isIncluded:({adopsjonAvEktefellesBarn:e,adopsjonsdato:t})=>pt(e,t),isAnswered:({ankomstdato:e})=>p(e),visibilityFilter:({adoptertIUtlandet:e})=>e===d.YES}},ft=Ce(Bt),Y=({søkersituasjon:e,visibility:t,formValues:r,søknadGjelderEtNyttBarn:l,setErForTidligTilÅSøkePåTermin:i})=>{const s=y();if(e.situasjon==="adopsjon"||r.erBarnetFødt!==d.NO||!l)return null;const u=p(r.termindato)&&D.isISODateString(r.termindato)?!ae(r.termindato):!1;i(u);const c=_(e.rolle),v=c&&p(r.termindato),I=c?"omBarnet.antallBarn.termin.far":"omBarnet.antallBarn.termin",U=c?"omBarnet.veileder.terminbekreftelse.far":"omBarnet.veileder.terminbekreftelse",x=c?"omBarnet.termindato.infotekst.farMedmor":"omBarnet.termindato.infotekst";return S(j,{children:[a(m,{padBottom:"xl",visible:t.isVisible(n.antallBarn),children:a(B.RadioGroup,{name:n.antallBarn,radios:[{label:o(s,"omBarnet.radiobutton.ettBarn"),value:"1"},{label:o(s,"omBarnet.radiobutton.tvillinger"),value:"2"},{label:o(s,"omBarnet.radiobutton.flere"),value:"3"}],legend:o(s,I)})}),a(m,{padBottom:"xl",visible:r.antallBarn!==void 0&&parseInt(r.antallBarn,10)>=3,children:S(B.Select,{label:"Antall barn",name:n.antallBarnSelect,children:[a("option",{value:""}),a("option",{value:"3",children:"3"}),a("option",{value:"4",children:"4"}),a("option",{value:"5",children:"5"}),a("option",{value:"6",children:"6"}),a("option",{value:"7",children:"7"}),a("option",{value:"8",children:"8"}),a("option",{value:"9",children:"9"})]})}),a(m,{padBottom:"s",visible:t.isVisible(n.termindato),children:a(B.DatePicker,{name:n.termindato,label:o(s,"omBarnet.termindato.termin"),placeholder:"dd.mm.åååå",minDate:Se,maxDate:ve,validate:rt(s)})}),a(m,{padBottom:"xl",visible:t.isVisible(n.termindato),children:a(be,{header:o(s,"omBarnet.termindato.åpneLabel"),children:o(s,x)})}),v&&!H(e.rolle,r.termindato)&&a(m,{padBottom:"xl",children:a(R,{children:a(E,{id:"omBarnet.veileder.medMorEllerFarTermin",values:{lenke:a($e,{href:Qe.papirsøknad,children:a(E,{id:"omBarnet.papirsøknad.lenke"})})}})})}),a(m,{padBottom:"xl",visible:t.isVisible(n.terminbekreftelse),children:a(R,{children:a(E,{id:U})})}),a(m,{padBottom:"xl",visible:t.isVisible(n.terminbekreftelse),children:a(Q,{legend:"Dokumentasjon om terminbekreftelse",label:o(s,"omBarnet.terminbekreftelse.lastOpp"),name:n.terminbekreftelse,attachments:r.terminbekreftelse||[],attachmentType:T.TERMINBEKREFTELSE,skjemanummer:O.TERMINBEKREFTELSE})}),a(m,{padBottom:"xl",visible:t.isVisible(n.terminbekreftelsedato),children:a(B.DatePicker,{name:n.terminbekreftelsedato,label:o(s,"omBarnet.terminbekreftelseDato"),placeholder:"dd.mm.åååå",validate:ot(s),maxDate:he})}),u&&a(m,{padBottom:"xl",children:S(Ee,{variant:"warning",children:[a(m,{padBottom:"m",children:a(Fe,{level:"3",size:"small",children:a(E,{id:"omBarnet.termindato.erForTidligTilÅSøkePåTermin.heading"})})}),a(He,{children:a(E,{id:"omBarnet.termindato.erForTidligTilÅSøkePåTermin.innhold"})})]})})]})};try{Y.displayName="Termin",Y.__docgenInfo={description:"",displayName:"Termin",props:{søkersituasjon:{defaultValue:null,description:"",name:"søkersituasjon",required:!0,type:{name:"Søkersituasjon"}},formValues:{defaultValue:null,description:"",name:"formValues",required:!0,type:{name:"OmBarnetFormData"}},visibility:{defaultValue:null,description:"",name:"visibility",required:!0,type:{name:"QuestionVisibility<OmBarnetFormField, undefined>"}},søknadGjelderEtNyttBarn:{defaultValue:null,description:"",name:"søknadGjelderEtNyttBarn",required:!0,type:{name:"boolean"}},setErForTidligTilÅSøkePåTermin:{defaultValue:null,description:"",name:"setErForTidligTilÅSøkePåTermin",required:!0,type:{name:"(val: boolean) => void"}}}}}catch{}const kt=()=>({[n.erBarnetFødt]:d.UNANSWERED,[n.adopsjonAvEktefellesBarn]:d.UNANSWERED,[n.antallBarn]:"",[n.antallBarnSelect]:"",[n.adopsjonsdato]:"",[n.fødselsdatoer]:[],[n.omsorgsovertakelse]:[],[n.termindato]:"",[n.terminbekreftelse]:[],[n.terminbekreftelsedato]:"",[n.adoptertIUtlandet]:d.UNANSWERED,[n.ankomstdato]:""}),gt=(e,t)=>({erBarnetFødt:t.isVisible(n.erBarnetFødt)?e.erBarnetFødt:d.UNANSWERED,adopsjonAvEktefellesBarn:t.isVisible(n.adopsjonAvEktefellesBarn)?e.adopsjonAvEktefellesBarn:d.UNANSWERED,antallBarn:t.isVisible(n.antallBarn)?e.antallBarn:"",antallBarnSelect:t.isVisible(n.antallBarnSelect)?e.antallBarnSelect:"",adopsjonsdato:t.isVisible(n.adopsjonsdato)?e.adopsjonsdato:"",fødselsdatoer:t.isVisible(n.fødselsdatoer)?e.fødselsdatoer:[],omsorgsovertakelse:t.isVisible(n.omsorgsovertakelse)?e.omsorgsovertakelse:[],termindato:t.isVisible(n.termindato)?e.termindato:"",terminbekreftelse:t.isVisible(n.terminbekreftelse)?e.terminbekreftelse:[],terminbekreftelsedato:t.isVisible(n.terminbekreftelsedato)?e.terminbekreftelsedato:"",adoptertIUtlandet:t.isVisible(n.adoptertIUtlandet)?e.adoptertIUtlandet:d.UNANSWERED,ankomstdato:t.isVisible(n.ankomstdato)?e.ankomstdato:""}),St=(e,t,r,l)=>{if(e!==void 0&&t==="fødsel")return{...e,type:l?F.UFØDT:F.FØDT,termindato:p(r.termindato)?k(r.termindato):void 0,fødselsdatoer:e.fødselsdatoer,antallBarn:e.antallBarn};const i=G(r.omsorgsovertakelse,T.OMSORGSOVERTAKELSE,O.OMSORGSOVERTAKELSESDATO);return r.adopsjonAvEktefellesBarn===d.YES?{...e,type:F.ADOPTERT_STEBARN,adopsjonsdato:k(r.adopsjonsdato),omsorgsovertakelse:i}:{...e,type:F.ADOPTERT_ANNET_BARN,adopsjonsdato:k(r.adopsjonsdato),adoptertIUtlandet:$(r.adoptertIUtlandet),ankomstdato:r.adoptertIUtlandet===d.YES?k(r.ankomstdato):void 0,omsorgsovertakelse:i}},vt=(e,t,r,l,i)=>{if(r!==void 0)return St(r,l,e,i);const s=parseInt(e.antallBarn,10)<3?parseInt(e.antallBarn,10):parseInt(e.antallBarnSelect,10);if(e.erBarnetFødt===d.YES)return{type:F.FØDT,fødselsdatoer:e.fødselsdatoer.map(c=>k(c)),antallBarn:s,termindato:p(e.termindato)?k(e.termindato):void 0};if(e.erBarnetFødt===d.NO){const c=G(e.terminbekreftelse,T.TERMINBEKREFTELSE,O.TERMINBEKREFTELSE);return t.length===0?{type:F.UFØDT,terminbekreftelse:c,terminbekreftelsedato:k(e.terminbekreftelsedato),antallBarn:s,termindato:k(e.termindato)}:{type:F.UFØDT,antallBarn:s,termindato:k(e.termindato)}}const u=G(e.omsorgsovertakelse,T.OMSORGSOVERTAKELSE,O.OMSORGSOVERTAKELSESDATO);return e.adopsjonAvEktefellesBarn===d.YES?{type:F.ADOPTERT_STEBARN,adopsjonsdato:k(e.adopsjonsdato),antallBarn:s,fødselsdatoer:e.fødselsdatoer.map(c=>k(c)),omsorgsovertakelse:u}:{type:F.ADOPTERT_ANNET_BARN,fødselsdatoer:e.fødselsdatoer.map(c=>k(c)),adopsjonsdato:k(e.adopsjonsdato),antallBarn:s,adoptertIUtlandet:$(e.adoptertIUtlandet),ankomstdato:e.adoptertIUtlandet===d.YES?k(e.ankomstdato):void 0,omsorgsovertakelse:u}},bt=(e,t)=>{const r=kt();if(!e)return r;const l=e.antallBarn>2;return ne(e)?{...r,erBarnetFødt:d.YES,fødselsdatoer:e.fødselsdatoer.map(i=>b(i)),termindato:b(e.termindato),antallBarn:l?"3":e.antallBarn.toString(),antallBarnSelect:l?e.antallBarn.toString():""}:P(e)?t.length===0?{...r,erBarnetFødt:d.NO,terminbekreftelse:e.terminbekreftelse||[],terminbekreftelsedato:b(e.terminbekreftelsedato),termindato:b(e.termindato),antallBarn:l?"3":e.antallBarn.toString(),antallBarnSelect:l?e.antallBarn.toString():""}:{...r,erBarnetFødt:d.NO,termindato:b(e.termindato),antallBarn:l?"3":e.antallBarn.toString(),antallBarnSelect:l?e.antallBarn.toString():""}:je(e)?{...r,adopsjonAvEktefellesBarn:d.NO,fødselsdatoer:e.fødselsdatoer.map(i=>b(i)),adopsjonsdato:b(e.adopsjonsdato),antallBarn:l?"3":e.antallBarn.toString(),antallBarnSelect:l?e.antallBarn.toString():"",adoptertIUtlandet:ze(e.adoptertIUtlandet),omsorgsovertakelse:e.omsorgsovertakelse,ankomstdato:b(e.ankomstdato)}:Ie(e)?{...r,adopsjonAvEktefellesBarn:d.YES,adopsjonsdato:b(e.adopsjonsdato),antallBarn:l?"3":e.antallBarn.toString(),antallBarnSelect:l?e.antallBarn.toString():"",fødselsdatoer:e.fødselsdatoer.map(i=>b(i)),omsorgsovertakelse:e.omsorgsovertakelse}:r},q=({valgteBarn:e,visibility:t})=>{const r=y(),l=e.length,i=e.every(c=>Ve(c));e.sort(Ze);const s=e.map(c=>c.fødselsdato),u=e[0].fødselsdato;return S(j,{children:[a(m,{padBottom:"xl",children:S("div",{children:[a(m,{padBottom:"s",children:a(tt,{children:a(E,{id:"omBarnet.valgteBarn.tittel",values:{antallBarn:l}})})}),i?e.map(c=>a(m,{padBottom:"s",children:a(ee,{person:c,fødselsdatoForVisning:Z([c.fødselsdato]),visEtternavn:!1})},c.fnr)):a(m,{padBottom:"s",children:a(ee,{person:e[0],fødselsdatoForVisning:Z(s),altTekstHvisUkjentNavn:Re(void 0,s,e.length,r),visEtternavn:!1})})]})}),a(m,{padBottom:"l",visible:t.isVisible(n.termindato)&&e.length>0,children:a(B.DatePicker,{name:n.termindato,label:o(r,"omBarnet.termindato.født"),dayPickerProps:{defaultMonth:u},minDate:f(u).subtract(1,"months").toDate(),maxDate:f(u).add(6,"months").toDate(),placeholder:"dd.mm.åååå",validate:ie(b(u),r)})})]})};try{q.displayName="ValgteRegistrerteBarn",q.__docgenInfo={description:"",displayName:"ValgteRegistrerteBarn",props:{valgteBarn:{defaultValue:null,description:"",name:"valgteBarn",required:!0,type:{name:"RegistrertBarn[]"}},visibility:{defaultValue:null,description:"",name:"visibility",required:!0,type:{name:"QuestionVisibility<OmBarnetFormField, undefined>"}}}}}catch{}const w=()=>{const e=y(),{søkersituasjon:t,barn:r}=_e(),{arbeidsforhold:l,registrerteBarn:i}=Me(),{state:s}=Ne(),{søknadGjelderEtNyttBarn:u}=s,[c,v]=ye.useState(!1),I=g=>!P(r)&&r.fnr!==void 0&&r.fnr.length>0?r.fnr.includes(g.fnr):!1,U=r?k(Ue(r)):void 0,x=r&&ne(r)?i.filter(g=>g.fnr===void 0&&et(g.fødselsdato,U)):[],N=!u&&!P(r)?i.filter(g=>I(g)).concat(x):void 0,V=!u&&(N===void 0||N.length===0),de=g=>{const M=vt(g,l,!u&&!V?r:void 0,t.situasjon,V);return[Te.setOmBarnet(M)]},{handleSubmit:se,isSubmitting:z}=Oe(de,X.ANNEN_FORELDER,g=>Xe(g)),me=Pe(),pe=Ge();return Je(X.OM_BARNET),a(B.FormikWrapper,{initialValues:bt(r,l),onSubmit:se,renderForm:({values:g})=>{const h=ft.getVisbility({...g,arbeidsforhold:l,situasjon:t.situasjon,rolle:t.rolle,valgteRegistrerteBarn:N,søknadGjelderEtNyttBarn:V||u}),M=_(t.rolle)&&$(g.erBarnetFødt)===!1&&p(g.termindato)&&!C(k(g.termindato)),ue=h.areAllQuestionsAnswered()&&!M;return a(De,{bannerTitle:o(e,"søknad.pageheading"),activeStepId:"omBarnet",pageTitle:o(e,"søknad.omBarnet"),onCancel:me,onContinueLater:pe,steps:Le(e,!1),children:S(B.Form,{includeButtons:!1,includeValidationSummary:!0,cleanup:ce=>gt(ce,h),children:[N!==void 0&&N.length>0&&a(q,{valgteBarn:N,visibility:h}),a(it,{visibility:h}),a(L,{søkersituasjon:t,formValues:g,visibility:h,søknadGjelderEtNyttBarn:u}),a(W,{søkersituasjon:t,formValues:g,visibility:h,søknadGjelderEtNyttBarn:u}),a(Y,{søkersituasjon:t,formValues:g,visibility:h,søknadGjelderEtNyttBarn:V||u,setErForTidligTilÅSøkePåTermin:v}),a(lt,{søkersituasjon:t,formValues:g,visibility:h,søknadGjelderEtNyttBarn:u,barnSøktOmFørMenIkkeRegistrert:V}),a(m,{margin:"l",children:S(Ae,{children:[a(J,{variant:"secondary",as:xe,to:We("omBarnet"),children:a(E,{id:"backlink.label"})}),ue&&a(J,{type:"submit",disabled:z||c,loading:z,children:o(e,"søknad.gåVidere")})]})})]})})}})},qt=w;try{w.displayName="OmBarnet",w.__docgenInfo={description:"",displayName:"OmBarnet",props:{}}}catch{}export{qt as O};
//# sourceMappingURL=OmBarnet-5dc81d78.js.map

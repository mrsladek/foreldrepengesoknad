{"version":3,"file":"UttaksplanInfo-8cf5e2ff.js","sources":["../../src/app/steps/uttaksplan-info/components/scenarios/far-medmor-fødsel-begge-har-rett/farMedmorFødselBeggeHarRettFormConfig.ts","../../src/app/steps/uttaksplan-info/components/scenarios/far-medmor-fødsel-begge-har-rett/farMedmorFødselBeggeHarRettUtils.ts","../../src/uttaksplan/types/UttaksplanHexColor.ts","../../src/app/steps/uttaksplan-info/components/tilgjengeligeDagerGraf/multibar/Multibar.tsx","../../src/app/steps/uttaksplan-info/components/tilgjengeligeDagerGraf/TilgjengeligeDagerGraf.tsx","../../src/app/steps/uttaksplan-info/components/tilgjengeligeDagerGraf/tilgjengeligeDagerUtils.ts","../../src/app/utils/stønadskontoUtils.ts","../../src/app/steps/uttaksplan-info/components/scenarios/far-medmor-fødsel-begge-har-rett/farMedmorFødselBeggeHarRettQuestionsConfig.ts","../../src/app/steps/uttaksplan-info/components/scenarios/spørsmål/MorsSisteDagSpørsmål.tsx","../../src/app/steps/uttaksplan-info/components/scenarios/far-medmor-fødsel-og-mor-har-ikke-rett/validation/farMedmorFødselOgMorHarIkkeRettValidering.ts","../../src/app/steps/uttaksplan-info/components/scenarios/spørsmål/FarMedmorsFørsteDag.tsx","../../src/app/steps/uttaksplan-info/components/fordelingFellesperiode/range-input/RangeIcon.tsx","../../src/app/steps/uttaksplan-info/components/fordelingFellesperiode/range-input/preventDoubleTapZoom.ts","../../src/app/steps/uttaksplan-info/components/fordelingFellesperiode/range-input/AriaText.tsx","../../src/app/steps/uttaksplan-info/components/fordelingFellesperiode/range-input/sirkelknapp/Sirkelknapp.tsx","../../src/app/steps/uttaksplan-info/components/scenarios/spørsmål/AntallUkerOgDagerFellesperiodeFarMedmorSpørsmål.tsx","../../src/app/steps/uttaksplan-info/components/scenarios/spørsmål/DekningsgradSpørsmål.tsx","../../src/app/utils/hooks/useUttaksplanInfo.ts","../../src/app/utils/getDekningsgradFromString.ts","../../src/app/utils/uttaksplan/deltUttak.ts","../../src/app/utils/uttaksplan/ikkeDeltUttak.ts","../../src/app/utils/uttaksplan/lagUttaksplan.ts","../../src/app/steps/uttaksplan-info/components/scenarios/far-medmor-fødsel-begge-har-rett/FarMedmorFødselBeggeHarRett.tsx","../../src/app/steps/uttaksplan-info/utils/uttaksplanHarForMangeFlerbarnsuker.ts","../../src/app/steps/uttaksplan-info/components/scenarios/mor-fodsel/morFødselFormConfig.ts","../../src/app/steps/uttaksplan-info/components/scenarios/mor-fodsel/morFødselUtils.ts","../../src/app/steps/uttaksplan-info/components/scenarios/mor-fodsel/validation/morFodselValidering.ts","../../src/app/steps/uttaksplan-info/components/scenarios/mor-fodsel/VeilederStartdatoPermisjon.tsx","../../src/app/steps/uttaksplan-info/components/scenarios/mor-fodsel/StartdatoPermisjonMor.tsx","../../src/app/steps/uttaksplan-info/components/fordelingFellesperiode/range-input/RangeStepper.tsx","../../src/app/steps/uttaksplan-info/components/fordelingFellesperiode/range-input/RangeInput.tsx","../../src/app/steps/uttaksplan-info/components/fordelingFellesperiode/FordelingFellesperiodeSpørsmål.tsx","../../src/app/steps/uttaksplan-info/components/scenarios/mor-fodsel/morFødselQuestionsConfig.ts","../../src/app/utils/uttaksplanInfoUtils.ts","../../src/app/utils/uttaksplan/uttaksplanUtils.ts","../../src/app/steps/uttaksplan-info/utils/leggTilAnnenPartsPerioderISøkerensUttaksplan.ts","../../src/app/steps/uttaksplan-info/components/scenarios/mor-fodsel/MorFødsel.tsx","../../src/app/steps/uttaksplan-info/components/scenarios/mor-far-adopsjon/adopsjonStartdatoValg.ts","../../src/app/steps/uttaksplan-info/components/scenarios/mor-far-adopsjon/morFarAdopsjonFormConfig.ts","../../src/app/steps/uttaksplan-info/components/scenarios/mor-far-adopsjon/morFarAdopsjonUtils.ts","../../src/app/steps/uttaksplan-info/components/scenarios/mor-far-adopsjon/morFarAdopsjonQuestionsConfig.ts","../../src/app/steps/uttaksplan-info/components/scenarios/mor-far-adopsjon/validation/morFarAdopsjonValidering.ts","../../src/app/steps/uttaksplan-info/components/scenarios/mor-far-adopsjon/StartdatoAdopsjon.tsx","../../src/app/steps/uttaksplan-info/components/scenarios/mor-far-adopsjon/MorFarAdopsjon.tsx","../../src/app/steps/uttaksplan-info/components/scenarios/mor-far-adopsjon-annen-part-har-rett-i-eøs/morFarAdopsjonAnnenForelderHarRettIEØSFormConfig.ts","../../src/app/steps/uttaksplan-info/components/scenarios/mor-far-adopsjon-annen-part-har-rett-i-eøs/morFarAdopsjonAnnenForelderHarRettIEØSQuestionsConfig.ts","../../src/app/steps/uttaksplan-info/components/scenarios/mor-far-adopsjon-annen-part-har-rett-i-eøs/morFarAdopsjonAnnenForelderHarRettIEØSUtils.ts","../../src/app/steps/uttaksplan-info/components/scenarios/mor-far-adopsjon-annen-part-har-rett-i-eøs/MorFarAdopsjonAnnenForelderHarRettIEØS.tsx","../../src/app/steps/uttaksplan-info/components/scenarios/mor-far-fødsel-annen-part-har-rett-i-eøs/morFarFødselAnnenForelderHarRettIEØSFormConfig.ts","../../src/app/steps/uttaksplan-info/components/scenarios/mor-far-fødsel-annen-part-har-rett-i-eøs/morFarFødselAnnenForelderHarRettIEØSQuestionsConfig.ts","../../src/app/steps/uttaksplan-info/components/scenarios/mor-far-fødsel-annen-part-har-rett-i-eøs/morFarFødselAnnenForelderHarRettIEØSUtils.ts","../../src/app/steps/uttaksplan-info/components/scenarios/mor-far-fødsel-annen-part-har-rett-i-eøs/MorFarFødselAnnenForelderHarRettIEØS.tsx","../../src/app/steps/uttaksplan-info/components/scenarios/far-medmor-aleneomsorg-fødsel/farMedmorAleneomsorgFødselFormConfig.ts","../../src/app/steps/uttaksplan-info/components/scenarios/far-medmor-aleneomsorg-fødsel/farMedmorAleneomsorgFødselQuestionsConfig.ts","../../src/app/steps/uttaksplan-info/components/scenarios/far-medmor-aleneomsorg-fødsel/farMedmorAleneomsorgFødselUtils.ts","../../src/app/steps/uttaksplan-info/components/scenarios/far-medmor-aleneomsorg-fødsel/validation/farMedmorAleneomsorgFødselValidation.ts","../../src/app/steps/uttaksplan-info/components/scenarios/far-medmor-aleneomsorg-fødsel/FarMedmorAleneomsorgFødsel.tsx","../../src/app/steps/uttaksplan-info/components/scenarios/far-medmor-fødsel-og-mor-har-ikke-rett/farMedmorFødselOgMorHarIkkeRettFormConfig.ts","../../src/app/steps/uttaksplan-info/components/scenarios/far-medmor-fødsel-og-mor-har-ikke-rett/farMedmorFødselOgMorHarIkkeRettUtils.ts","../../src/app/steps/uttaksplan-info/components/scenarios/far-medmor-fødsel-og-mor-har-ikke-rett/farMedmorFødselOgMorHarIkkeRettQuestionsConfig.ts","../../src/app/steps/uttaksplan-info/components/scenarios/far-medmor-fødsel-og-mor-har-ikke-rett/FarMedmorFødselOgMorHarIkkeRett.tsx","../../src/app/steps/uttaksplan-info/components/scenarios/farMedmor-førstegangssøknad-med-annen-part/farMedmorFørstegangssøknadMedAnnenPartFormConfig.ts","../../src/app/steps/uttaksplan-info/components/scenarios/farMedmor-førstegangssøknad-med-annen-part/farMedmorFørstegangssøknadMedAnnenPartQuestionsConfig.ts","../../src/app/steps/uttaksplan-info/components/scenarios/farMedmor-førstegangssøknad-med-annen-part/farMedmorFørstegangssøknadMedAnnenPartUtils.ts","../../src/app/steps/uttaksplan-info/components/scenarios/farMedmor-førstegangssøknad-med-annen-part/FarMedmorFørstegangssøknadMedAnnenPart.tsx","../../src/app/steps/uttaksplan-info/components/scenarios/scenarios.ts","../../src/app/steps/uttaksplan-info/components/UttaksplanInfoScenarios.tsx","../../src/app/api/getStønadskontoParams.ts","../../src/app/steps/uttaksplan-info/UttaksplanInfo.tsx"],"sourcesContent":["import { getTypedFormComponents } from '@navikt/sif-common-formik-ds/lib';\n\nexport enum FarMedmorFødselBeggeHarRettFormField {\n    dekningsgrad = 'dekningsgrad',\n    morsSisteDag = 'morsSisteDag',\n    farMedmorsFørsteDag = 'farMedmorsFørsteDag',\n    antallUkerFellesperiode = 'antallUkerFellesperiode',\n    antallDagerFellesperiode = 'antallDagerFellesperiode',\n}\n\nexport interface FarMedmorFødselBeggeHarRettFormData {\n    [FarMedmorFødselBeggeHarRettFormField.dekningsgrad]: string;\n    [FarMedmorFødselBeggeHarRettFormField.morsSisteDag]: string;\n    [FarMedmorFødselBeggeHarRettFormField.farMedmorsFørsteDag]: string;\n    [FarMedmorFødselBeggeHarRettFormField.antallUkerFellesperiode]: string;\n    [FarMedmorFødselBeggeHarRettFormField.antallDagerFellesperiode]: string;\n}\n\nexport const FarMedmorFødselBeggeHarRettFormComponents = getTypedFormComponents<\n    FarMedmorFødselBeggeHarRettFormField,\n    FarMedmorFødselBeggeHarRettFormData\n>();\n","import { FarMedmorFødselBeggeHarRettUttaksplanInfo } from 'app/context/types/UttaksplanInfo';\nimport { Dekningsgrad } from 'app/types/Dekningsgrad';\nimport {\n    FarMedmorFødselBeggeHarRettFormData,\n    FarMedmorFødselBeggeHarRettFormField,\n} from './farMedmorFødselBeggeHarRettFormConfig';\n\nconst initialFarMedmorFødselBeggeHarRettValues: FarMedmorFødselBeggeHarRettFormData = {\n    [FarMedmorFødselBeggeHarRettFormField.dekningsgrad]: '',\n    [FarMedmorFødselBeggeHarRettFormField.morsSisteDag]: '',\n    [FarMedmorFødselBeggeHarRettFormField.farMedmorsFørsteDag]: '',\n    [FarMedmorFødselBeggeHarRettFormField.antallUkerFellesperiode]: '0',\n    [FarMedmorFødselBeggeHarRettFormField.antallDagerFellesperiode]: '0',\n};\n\nexport const mapFarMedmorFødselBeggeHarRettToState = (\n    values: Partial<FarMedmorFødselBeggeHarRettFormData>\n): FarMedmorFødselBeggeHarRettUttaksplanInfo => {\n    return {\n        antallDagerFellesperiode:\n            values.antallDagerFellesperiode === undefined || values.antallDagerFellesperiode.trim().length === 0\n                ? '0'\n                : values.antallDagerFellesperiode,\n        antallUkerFellesperiode:\n            values.antallUkerFellesperiode === undefined || values.antallUkerFellesperiode.trim().length === 0\n                ? '0'\n                : values.antallUkerFellesperiode,\n        farMedmorsFørsteDag: values.farMedmorsFørsteDag!,\n        morsSisteDag: values.morsSisteDag!,\n    };\n};\n\nexport const getInitialFarMedmorFødselBeggeHarRettValues = (\n    state: FarMedmorFødselBeggeHarRettUttaksplanInfo | undefined,\n    dekningsgrad: Dekningsgrad\n): FarMedmorFødselBeggeHarRettFormData => {\n    if (!state) {\n        return initialFarMedmorFødselBeggeHarRettValues;\n    }\n\n    return {\n        ...initialFarMedmorFødselBeggeHarRettValues,\n        antallDagerFellesperiode: state.antallDagerFellesperiode,\n        antallUkerFellesperiode: state.antallUkerFellesperiode,\n        morsSisteDag: state.morsSisteDag,\n        farMedmorsFørsteDag: state.farMedmorsFørsteDag,\n        dekningsgrad,\n    };\n};\n","export enum UttaksplanHexColor {\n    lilla = '#544066',\n    blaa = '#0067C5',\n    gronn = '#06893a',\n    yellow = '#ff9100',\n    graa = '#7f756c',\n    rammeGraa = '#c6c2bf',\n    rod = '#BA3A26',\n}\n","import { bemUtils } from '@navikt/fp-common';\n\nimport './multibar.less';\n\ninterface BarProps {\n    width: number;\n    color: string;\n    color2?: string;\n    text?: React.ReactNode;\n}\n\ninterface Props {\n    borderColor: string;\n    leftBar?: BarProps;\n    rightBar?: BarProps;\n    centerBar?: BarProps;\n}\n\nconst getBarStyle = ({ width, color, color2 }: BarProps): React.CSSProperties => {\n    return {\n        width: `${width}%`,\n        background: color2 ? `linear-gradient(to right bottom, ${color} 49%, ${color2} 51%)` : color,\n    };\n};\n\nconst Multibar: React.FunctionComponent<Props> = ({ leftBar, rightBar, centerBar, borderColor }) => {\n    const bem = bemUtils('multibar');\n\n    return (\n        <div className={bem.block}>\n            <div className={bem.element('bars')}>\n                {leftBar && leftBar.width > 0 && (\n                    <div className={bem.element('bar', 'left')} style={getBarStyle(leftBar)}>\n                        {leftBar && leftBar.text}\n                    </div>\n                )}\n                {centerBar && (\n                    <div\n                        className={bem.element('bar', 'center')}\n                        style={{ ...getBarStyle(centerBar), left: leftBar ? `${leftBar.width}%` : undefined }}\n                    >\n                        {centerBar && centerBar.text}\n                    </div>\n                )}\n                {rightBar && rightBar.width > 0 && (\n                    <div className={bem.element('bar', 'right')} style={getBarStyle(rightBar)}>\n                        {rightBar && rightBar.text}\n                    </div>\n                )}\n            </div>\n            <div className={bem.element('background')} style={{ borderColor }} />\n        </div>\n    );\n};\n\nexport default Multibar;\n","import { FormattedMessage, useIntl } from 'react-intl';\nimport { getNavnGenitivEierform } from 'app/utils/personUtils';\nimport { bemUtils, intlUtils } from '@navikt/fp-common';\nimport { UttaksplanHexColor } from 'uttaksplan/types/UttaksplanHexColor';\nimport { getVarighetString } from 'app/utils/dateUtils';\nimport Multibar from './multibar/Multibar';\nimport { TilgjengeligeDager } from 'app/types/TilgjengeligeDager';\nimport Personkort from 'app/components/personkort/Personkort';\n\nimport './tilgjengeligeDagerGraf.less';\nimport { Label } from '@navikt/ds-react';\n\ninterface Props {\n    tilgjengeligeDager: TilgjengeligeDager;\n    navnMor: string;\n    navnFarMedmor: string;\n    erFarEllerMedmor: boolean;\n    erDeltUttak: boolean;\n}\n\nexport const getProsentFordelingPerDel = (\n    tilgjengeligeDager: TilgjengeligeDager,\n    inkluderForeldrepengerFørTermin: boolean\n): {\n    pstMor: number;\n    pstFelles: number;\n    pstFarMedmor: number;\n} => {\n    const pstMultiplikator =\n        100 / (inkluderForeldrepengerFørTermin ? tilgjengeligeDager.dagerTotalt : tilgjengeligeDager.dagerEtterTermin);\n\n    const pstMor =\n        pstMultiplikator * tilgjengeligeDager.dagerMor +\n        (inkluderForeldrepengerFørTermin ? tilgjengeligeDager.dagerForeldrepengerFørFødsel : 0);\n    const pstFarMedmor = pstMultiplikator * tilgjengeligeDager.dagerFarMedmor;\n    const pstFelles = 100 - pstMor - pstFarMedmor;\n\n    return {\n        pstMor,\n        pstFarMedmor,\n        pstFelles,\n    };\n};\n\nconst DeltOmsorgGraf: React.FunctionComponent<Props> = ({\n    tilgjengeligeDager,\n    navnFarMedmor,\n    navnMor,\n    erFarEllerMedmor,\n}) => {\n    const intl = useIntl();\n    const bem = bemUtils('tilgjengeligeDagerGraf');\n    const fordeling = getProsentFordelingPerDel(tilgjengeligeDager, true);\n    const txtMor =\n        tilgjengeligeDager.dagerForeldrepengerFørFødsel > 0\n            ? `${tilgjengeligeDager.dagerForeldrepengerFørFødsel / 5} + ${tilgjengeligeDager.dagerMor / 5} ${intlUtils(\n                  intl,\n                  'uker',\n                  { uker: 15 }\n              )}`\n            : getVarighetString(tilgjengeligeDager.dagerMor, intl);\n    return (\n        <div className={bem.classNames(bem.block, bem.modifier('flereForeldre'))}>\n            <div className={bem.element('bars')}>\n                <div className={bem.element('forelder1')} style={{ width: `${fordeling.pstMor}%` }}>\n                    <div className={bem.element('barTitle')}>\n                        <Personkort textValign=\"bottom\">\n                            <FormattedMessage\n                                id=\"tilgjengeligeDagerGraf.person.del\"\n                                values={{ navnEierform: getNavnGenitivEierform(navnMor, intl.locale) }}\n                            />\n                        </Personkort>\n                    </div>\n                    <Multibar\n                        borderColor={UttaksplanHexColor.graa}\n                        leftBar={{\n                            color: UttaksplanHexColor.lilla,\n                            width: 100,\n                            text: <div className={bem.element('barTekst')}>{txtMor}</div>,\n                        }}\n                    />\n                </div>\n                <div className={bem.element('felles')} style={{ width: `${fordeling.pstFelles}%` }}>\n                    <div className={bem.element('barTitle')}>\n                        <FormattedMessage id=\"tilgjengeligeDagerGraf.fellesperiode\" />\n                    </div>\n                    <Multibar\n                        borderColor={UttaksplanHexColor.graa}\n                        leftBar={{\n                            color: UttaksplanHexColor.lilla,\n                            color2: UttaksplanHexColor.blaa,\n                            width: 100,\n                            text: (\n                                <div className={bem.element('barTekst')}>\n                                    {getVarighetString(tilgjengeligeDager.dagerFelles, intl)}\n                                </div>\n                            ),\n                        }}\n                    />\n                </div>\n                {navnFarMedmor && (\n                    <div className={bem.element('forelder2')} style={{ width: `${fordeling.pstFarMedmor}%` }}>\n                        <div className={bem.element('barTitle')}>\n                            <Personkort invertert={true} textValign=\"bottom\">\n                                <FormattedMessage\n                                    id=\"tilgjengeligeDagerGraf.person.del\"\n                                    values={{\n                                        navnEierform: getNavnGenitivEierform(navnFarMedmor, intl.locale),\n                                    }}\n                                />\n                            </Personkort>\n                        </div>\n                        <Multibar\n                            borderColor={UttaksplanHexColor.graa}\n                            leftBar={{\n                                color: UttaksplanHexColor.blaa,\n                                width: 100,\n                                text: (\n                                    <div className={bem.element('barTekst')}>\n                                        {getVarighetString(tilgjengeligeDager.dagerFarMedmor, intl)}\n                                    </div>\n                                ),\n                            }}\n                        />\n                    </div>\n                )}\n            </div>\n            {!erFarEllerMedmor && tilgjengeligeDager.dagerForeldrepengerFørFødsel > 0 && (\n                <div style={{ paddingTop: '0.625rem' }}>\n                    <Label>\n                        <FormattedMessage id=\"tilgjengeligeDagerGraf.uttakFørFødselInfo\" values={{ navn: navnMor }} />\n                    </Label>\n                </div>\n            )}\n            {erFarEllerMedmor && tilgjengeligeDager.dagerForeldrepengerFørFødsel > 0 && (\n                <div style={{ paddingTop: '0.625rem' }}>\n                    <Label>\n                        <FormattedMessage\n                            id=\"tilgjengeligeDagerGraf.uttakFørFødselInfoFarMedmor\"\n                            values={{ navn: navnMor }}\n                        />\n                    </Label>\n                </div>\n            )}\n        </div>\n    );\n};\n\nconst AleneomsorgGraf: React.FunctionComponent<Props> = ({ tilgjengeligeDager, erFarEllerMedmor }) => {\n    const intl = useIntl();\n    const bem = bemUtils('tilgjengeligeDagerGraf');\n    const txt =\n        tilgjengeligeDager.dagerForeldrepengerFørFødsel > 0\n            ? `${tilgjengeligeDager.dagerForeldrepengerFørFødsel / 5} + ${\n                  tilgjengeligeDager.dagerForeldrepenger / 5\n              } uker`\n            : getVarighetString(tilgjengeligeDager.dagerEtterTermin, intl);\n    return (\n        <div className={bem.block}>\n            <div style={{ position: 'relative' }}>\n                <div className={bem.element('barTitle')}>\n                    <Label>\n                        <FormattedMessage id=\"tilgjengeligeDagerGraf.periodeMedForeldrepenger\" />\n                    </Label>\n                </div>\n            </div>\n            <Multibar\n                borderColor={UttaksplanHexColor.graa}\n                leftBar={{\n                    color: erFarEllerMedmor ? UttaksplanHexColor.blaa : UttaksplanHexColor.lilla,\n                    width: 100,\n                    text: <div className={bem.element('barTekst')}>{txt}</div>,\n                }}\n            />\n            {!erFarEllerMedmor && tilgjengeligeDager.dagerForeldrepengerFørFødsel > 0 && (\n                <div style={{ paddingTop: '0.625rem' }}>\n                    <Label>\n                        <FormattedMessage id=\"tilgjengeligeDagerGraf.uttakFørFødselInfoIkkeDeltUttak\" />\n                    </Label>\n                </div>\n            )}\n        </div>\n    );\n};\n\nconst TilgjengeligeDagerGraf: React.FunctionComponent<Props> = (props) => {\n    return props.erDeltUttak ? <DeltOmsorgGraf {...props} /> : <AleneomsorgGraf {...props} />;\n};\n\nexport default TilgjengeligeDagerGraf;\n","import { Forelder } from 'app/types/Forelder';\nimport { TilgjengeligStønadskonto } from 'app/types/TilgjengeligStønadskonto';\nimport { StønadskontoType } from 'uttaksplan/types/StønadskontoType';\nimport { TilgjengeligeDager } from './../../../../types/TilgjengeligeDager';\n\nexport const summerAntallDagerIKontoer = (kontoer: TilgjengeligStønadskonto[]): number => {\n    return kontoer.reduce((dager, konto) => konto.dager + dager, 0);\n};\n\nconst getMorsStønadskontoer = (kontoer: TilgjengeligStønadskonto[]): TilgjengeligStønadskonto[] =>\n    kontoer.filter((konto) => konto.konto === StønadskontoType.Mødrekvote);\n\nconst getFarsStønadskontoer = (kontoer: TilgjengeligStønadskonto[]): TilgjengeligStønadskonto[] =>\n    kontoer.filter((konto) => konto.konto === StønadskontoType.Fedrekvote);\n\nconst getForeldrepengeKontoer = (kontoer: TilgjengeligStønadskonto[]): TilgjengeligStønadskonto[] =>\n    kontoer.filter((konto) => konto.konto === StønadskontoType.Foreldrepenger);\n\nconst getFellesStønadskontoer = (kontoer: TilgjengeligStønadskonto[]): TilgjengeligStønadskonto[] =>\n    kontoer.filter((konto) => konto.konto === StønadskontoType.Fellesperiode);\n\nconst kontoErFørTermin = (konto: TilgjengeligStønadskonto): boolean => {\n    return konto.konto === StønadskontoType.ForeldrepengerFørFødsel;\n};\n\nconst kontoErEtterTermin = (konto: TilgjengeligStønadskonto): boolean => {\n    return konto.konto !== StønadskontoType.ForeldrepengerFørFødsel;\n};\n\nexport const getTilgjengeligeDager = (\n    kontoer: TilgjengeligStønadskonto[],\n    erDeltUttak: boolean,\n    forelderVedAleneomsorg: Forelder | undefined\n): TilgjengeligeDager => {\n    const kontoerEtterTermin = kontoer.filter(kontoErEtterTermin);\n\n    const dagerTotalt = summerAntallDagerIKontoer(kontoer);\n    const dagerForeldrepengerFørFødsel = summerAntallDagerIKontoer(kontoer.filter(kontoErFørTermin));\n    const dagerEtterTermin = summerAntallDagerIKontoer(kontoerEtterTermin);\n    const dagerForeldrepenger = summerAntallDagerIKontoer(getForeldrepengeKontoer(kontoerEtterTermin));\n    const dagerMor = summerAntallDagerIKontoer(getMorsStønadskontoer(kontoerEtterTermin));\n    const dagerFar = summerAntallDagerIKontoer(getFarsStønadskontoer(kontoerEtterTermin));\n    const dagerFelles = summerAntallDagerIKontoer(getFellesStønadskontoer(kontoerEtterTermin));\n\n    const dagerKunTilMor = erDeltUttak === false && forelderVedAleneomsorg === Forelder.mor;\n    const dagerKunTilFar = erDeltUttak === false && forelderVedAleneomsorg === Forelder.farMedmor;\n\n    const maksDagerFar = dagerKunTilFar ? dagerForeldrepenger : dagerFar + dagerFelles;\n    const maksDagerMor = dagerKunTilMor ? dagerForeldrepenger + dagerForeldrepengerFørFødsel : dagerMor + dagerFelles;\n\n    return {\n        dagerTotalt,\n        dagerForeldrepengerFørFødsel,\n        dagerEtterTermin,\n        dagerForeldrepenger,\n        dagerMor,\n        dagerFarMedmor: dagerFar,\n        dagerFelles,\n        maksDagerFar,\n        maksDagerMor,\n        stønadskontoer: kontoer,\n    };\n};\n","import { Dekningsgrad } from 'app/types/Dekningsgrad';\nimport { TilgjengeligeStønadskontoerDTO } from 'app/types/TilgjengeligeStønadskontoerDTO';\nimport { TilgjengeligStønadskonto } from 'app/types/TilgjengeligStønadskonto';\nimport { StønadskontoType } from 'uttaksplan/types/StønadskontoType';\n\nconst opprettAktivitetsFriKonto = (\n    kontoer: TilgjengeligStønadskonto[],\n    generellMinsterett: number\n): TilgjengeligStønadskonto[] => {\n    const nyeKontoer: TilgjengeligStønadskonto[] = [];\n    nyeKontoer.push({ ...kontoer[0], dager: kontoer[0].dager - generellMinsterett });\n    nyeKontoer.push({ konto: StønadskontoType.AktivitetsfriKvote, dager: generellMinsterett });\n    return nyeKontoer;\n};\n\nconst mapTilgjengeligStønadskontoDTOToTilgjengeligStønadskonto = (\n    stønadskontoerDTO: TilgjengeligeStønadskontoerDTO\n): TilgjengeligStønadskonto[] => {\n    let tilgjengeligeStønadskontoer: TilgjengeligStønadskonto[] = [];\n\n    Object.keys(stønadskontoerDTO.kontoer)\n        .filter((konto: string) => konto !== StønadskontoType.Flerbarnsdager)\n        .forEach((konto) => {\n            tilgjengeligeStønadskontoer.push({\n                konto: konto as StønadskontoType,\n                dager: stønadskontoerDTO.kontoer[konto],\n            });\n        });\n\n    const generellMinsterett = stønadskontoerDTO.minsteretter.generellMinsterett;\n\n    if (generellMinsterett > 0) {\n        tilgjengeligeStønadskontoer = opprettAktivitetsFriKonto(tilgjengeligeStønadskontoer, generellMinsterett);\n    }\n    return tilgjengeligeStønadskontoer;\n};\n\nexport const getValgtStønadskontoFor80Og100Prosent = (\n    kontoer80: TilgjengeligeStønadskontoerDTO,\n    kontoer100: TilgjengeligeStønadskontoerDTO\n) => {\n    const åttiProsent = mapTilgjengeligStønadskontoDTOToTilgjengeligStønadskonto(kontoer80);\n    const hundreProsent = mapTilgjengeligStønadskontoDTOToTilgjengeligStønadskonto(kontoer100);\n    return {\n        [Dekningsgrad.ÅTTI_PROSENT]: åttiProsent,\n        [Dekningsgrad.HUNDRE_PROSENT]: hundreProsent,\n    };\n};\n","import { hasValue } from '@navikt/fp-common';\nimport { QuestionConfig, Questions } from '@navikt/sif-common-question-config/lib';\nimport { andreAugust2022ReglerGjelder, ISOStringToDate } from 'app/utils/dateUtils';\nimport { getSisteUttaksdag6UkerEtterFødsel } from 'app/utils/wlbUtils';\nimport dayjs from 'dayjs';\nimport {\n    FarMedmorFødselBeggeHarRettFormData,\n    FarMedmorFødselBeggeHarRettFormField,\n} from './farMedmorFødselBeggeHarRettFormConfig';\n\nexport interface FarMedmorFødselBeggeHarRettFormPayload extends FarMedmorFødselBeggeHarRettFormData {\n    familiehendelsesdato: Date;\n}\nconst includeFellesperiodeSpørsmål = (farMedmorsFørsteDag: string, familiehendelsesdato: Date) => {\n    return (\n        hasValue(farMedmorsFørsteDag) &&\n        (!andreAugust2022ReglerGjelder ||\n            dayjs(ISOStringToDate(farMedmorsFørsteDag)).isAfter(\n                getSisteUttaksdag6UkerEtterFødsel(familiehendelsesdato),\n                'day'\n            ))\n    );\n};\nconst FarMedmorFødselBeggeHarRettFormConfig: QuestionConfig<\n    FarMedmorFødselBeggeHarRettFormPayload,\n    FarMedmorFødselBeggeHarRettFormField\n> = {\n    [FarMedmorFødselBeggeHarRettFormField.dekningsgrad]: {\n        isIncluded: () => true,\n        isAnswered: ({ dekningsgrad }) => hasValue(dekningsgrad),\n    },\n    [FarMedmorFødselBeggeHarRettFormField.morsSisteDag]: {\n        isIncluded: ({ familiehendelsesdato }) => !andreAugust2022ReglerGjelder(familiehendelsesdato),\n        isAnswered: ({ morsSisteDag, familiehendelsesdato }) =>\n            andreAugust2022ReglerGjelder(familiehendelsesdato) || hasValue(morsSisteDag),\n        visibilityFilter: ({ dekningsgrad }) => hasValue(dekningsgrad),\n    },\n    [FarMedmorFødselBeggeHarRettFormField.farMedmorsFørsteDag]: {\n        isIncluded: ({ morsSisteDag, familiehendelsesdato }) =>\n            andreAugust2022ReglerGjelder(familiehendelsesdato) || hasValue(morsSisteDag),\n        isAnswered: ({ farMedmorsFørsteDag }) => hasValue(farMedmorsFørsteDag),\n    },\n    [FarMedmorFødselBeggeHarRettFormField.antallDagerFellesperiode]: {\n        isIncluded: ({ farMedmorsFørsteDag, familiehendelsesdato }) =>\n            includeFellesperiodeSpørsmål(farMedmorsFørsteDag, familiehendelsesdato),\n        isAnswered: () => true,\n    },\n    [FarMedmorFødselBeggeHarRettFormField.antallUkerFellesperiode]: {\n        isIncluded: ({ farMedmorsFørsteDag, familiehendelsesdato }) =>\n            includeFellesperiodeSpørsmål(farMedmorsFørsteDag, familiehendelsesdato),\n\n        isAnswered: () => true,\n    },\n};\n\nconst farMedmorFødselBeggeHarRettQuestionsConfig = Questions<\n    FarMedmorFødselBeggeHarRettFormPayload,\n    FarMedmorFødselBeggeHarRettFormField\n>(FarMedmorFødselBeggeHarRettFormConfig);\n\nexport default farMedmorFødselBeggeHarRettQuestionsConfig;\n","import { intlUtils } from '@navikt/fp-common';\nimport { TypedFormComponents } from '@navikt/sif-common-formik-ds/lib';\nimport { uttaksplanDatoavgrensninger } from 'app/steps/uttaksplan-info/utils/uttaksplanDatoavgrensninger';\nimport { ISOStringToDate } from 'app/utils/dateUtils';\nimport { FunctionComponent } from 'react';\nimport { useIntl } from 'react-intl';\n\ninterface Props {\n    FormComponents: TypedFormComponents<any, any, string>;\n    fieldName: string;\n    navnMor: string;\n    familiehendelsesdato: string;\n}\n\nconst MorsSisteDagSpørsmål: FunctionComponent<Props> = ({\n    FormComponents,\n    fieldName,\n    familiehendelsesdato,\n    navnMor,\n}) => {\n    const intl = useIntl();\n\n    const maxDate = ISOStringToDate(uttaksplanDatoavgrensninger.morsSisteUttaksdag(familiehendelsesdato).maxDate);\n    const minDate = ISOStringToDate(uttaksplanDatoavgrensninger.morsSisteUttaksdag(familiehendelsesdato).minDate);\n\n    return (\n        <FormComponents.DatePicker\n            name={fieldName}\n            label={intlUtils(intl, 'uttaksplaninfo.morSinSisteUttaksdag.label', { navnMor })}\n            maxDate={maxDate}\n            minDate={minDate}\n            showYearSelector={true}\n            disableWeekend={true}\n            placeholder={'dd.mm.åååå'}\n        />\n    );\n};\n\nexport default MorsSisteDagSpørsmål;\n","import { formatDateExtended, intlUtils } from '@navikt/fp-common';\nimport { ISOStringToDate } from 'app/utils/dateUtils';\nimport dayjs from 'dayjs';\nimport { IntlShape } from 'react-intl';\nimport { Uttaksdagen } from '../../../../utils/Uttaksdagen';\nimport { isISODateString } from '@navikt/ds-datepicker';\n\nexport const validateStartdatoFarMedmor =\n    (intl: IntlShape, minDato: Date, maxDato: Date) => (permisjonStartdato: string) => {\n        if (!isISODateString(permisjonStartdato)) {\n            return intlUtils(intl, 'valideringsfeil.uttaksplaninfo.startdatoPermisjon.gyldigDato');\n        }\n        if (!Uttaksdagen(ISOStringToDate(permisjonStartdato)!).erUttaksdag()) {\n            return intlUtils(intl, 'valideringsfeil.uttaksplaninfo.startdatoHelg');\n        }\n        if (dayjs(permisjonStartdato).isBefore(minDato, 'd') || dayjs(permisjonStartdato).isAfter(maxDato, 'd')) {\n            return intlUtils(intl, 'valideringsfeil.dateOutsideRange.fom', {\n                fom: formatDateExtended(minDato),\n                tom: formatDateExtended(maxDato),\n            });\n        }\n\n        return undefined;\n    };\n","import { Block, formatDate, intlUtils } from '@navikt/fp-common';\nimport LenkeKnapp from 'app/components/lenke-knapp/LenkeKnapp';\nimport { Uttaksdagen } from 'app/steps/uttaksplan-info/utils/Uttaksdagen';\nimport { uttaksplanDatoavgrensninger } from 'app/steps/uttaksplan-info/utils/uttaksplanDatoavgrensninger';\nimport { Situasjon } from 'app/types/Situasjon';\nimport { andreAugust2022ReglerGjelder, ISOStringToDate } from 'app/utils/dateUtils';\nimport { FunctionComponent } from 'react';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport { validateStartdatoFarMedmor } from '../far-medmor-fødsel-og-mor-har-ikke-rett/validation/farMedmorFødselOgMorHarIkkeRettValidering';\nimport { TypedFormComponents, dateToISOString } from '@navikt/sif-common-formik-ds/lib';\n\ninterface Props {\n    FormComponents: TypedFormComponents<any, any, string>;\n    fieldName: string;\n    familiehendelsesdato: Date;\n    setFieldValue: (field: string, value: any, shouldValidate?: boolean | undefined) => void;\n    morsSisteDag: Date | undefined;\n    navnMor: string;\n    termindato: Date | undefined;\n    situasjon: Situasjon;\n    morHarRettTilForeldrepengerIEØS: boolean;\n}\n\nconst FarMedmorsFørsteDag: FunctionComponent<Props> = ({\n    FormComponents,\n    fieldName,\n    familiehendelsesdato,\n    morsSisteDag,\n    setFieldValue,\n    navnMor,\n    termindato,\n    situasjon,\n    morHarRettTilForeldrepengerIEØS,\n}) => {\n    const intl = useIntl();\n    const maxDate = ISOStringToDate(\n        uttaksplanDatoavgrensninger.startdatoPermisjonFarMedmor(familiehendelsesdato, termindato, situasjon).maxDate\n    );\n    const minDate = ISOStringToDate(\n        uttaksplanDatoavgrensninger.startdatoPermisjonFarMedmor(familiehendelsesdato, termindato, situasjon).minDate\n    );\n\n    return (\n        <>\n            <Block padBottom=\"l\">\n                <FormComponents.DatePicker\n                    name={fieldName}\n                    label={intlUtils(intl, 'uttaksplaninfo.farSinFørsteUttaksdagSpørsmål.label')}\n                    maxDate={maxDate}\n                    minDate={minDate}\n                    showYearSelector={true}\n                    disableWeekend={true}\n                    placeholder={'dd.mm.åååå'}\n                    validate={validateStartdatoFarMedmor(intl, minDate!, maxDate!)}\n                />\n            </Block>\n            {!andreAugust2022ReglerGjelder(familiehendelsesdato) && !morHarRettTilForeldrepengerIEØS && (\n                <LenkeKnapp\n                    text={\n                        <FormattedMessage\n                            id=\"uttaksplaninfo.farSinFørsteUttaksdagSpørsmål.førsteUttaksdagEtterAnnenPart\"\n                            values={{\n                                navn: navnMor,\n                                dato: formatDate(Uttaksdagen(morsSisteDag!).neste()),\n                            }}\n                        />\n                    }\n                    onClick={() => {\n                        const farSinFørsteUttaksdag: string | undefined = morsSisteDag\n                            ? dateToISOString(Uttaksdagen(morsSisteDag).neste())\n                            : undefined;\n\n                        setFieldValue(fieldName, farSinFørsteUttaksdag);\n                    }}\n                />\n            )}\n        </>\n    );\n};\n\nexport default FarMedmorsFørsteDag;\n","import { Component } from 'react';\n\ninterface RangeIconProps {\n    type: 'plus' | 'minus';\n}\n\nexport default class RangeIcon extends Component<RangeIconProps> {\n    renderPlusIcon() {\n        return (\n            <path\n                d=\"M18.2616283,12.5217391 L12.5222595,12.5217391 L12.5222595,18.2608696 C12.5222595,18.5488696 12.2874672,18.7826087 12.0004988,18.7826087 C11.7124868,18.7826087 11.478738,18.5488696 11.478738,18.2608696 L11.478738,12.5217391 L5.73936926,12.5217391 C5.4513573,12.5206957 5.21656494,12.288 5.21760846,12 C5.21760846,11.7130435 5.4513573,11.4782609 5.73936926,11.4782609 L11.478738,11.4782609 L11.478738,5.73913043 C11.478738,5.45113043 11.7124868,5.2173913 12.0004988,5.2173913 C12.2874672,5.2173913 12.5222595,5.45113043 12.5222595,5.73913043 L12.5222595,11.4782609 L18.2616283,11.4782609 C18.5485967,11.4782609 18.7844326,11.712 18.783389,12 C18.783389,12.288 18.5496402,12.5217391 18.2616283,12.5217391 Z\"\n                id=\"Inner\"\n                fill=\"#FFFFFF\"\n            />\n        );\n    }\n\n    renderMinusIcon() {\n        return (\n            <path\n                d=\"M18.2616283,12.5217391 L5.73936926,12.5217391 C5.4513573,12.5206957 5.21656494,12.288 5.21760846,12 C5.21760846,11.7130435 5.4513573,11.4782609 5.73936926,11.4782609 L18.2616283,11.4782609 C18.5485967,11.4782609 18.7844326,11.712 18.783389,12 C18.783389,12.288 18.5496402,12.5217391 18.2616283,12.5217391 Z\"\n                id=\"Inner\"\n                fill=\"#FFFFFF\"\n            />\n        );\n    }\n\n    render() {\n        const { type } = this.props;\n        const icon = type === 'minus' ? this.renderMinusIcon() : this.renderPlusIcon();\n\n        return (\n            <svg\n                focusable=\"false\"\n                role=\"img\"\n                aria-hidden=\"true\"\n                width=\"24px\"\n                height=\"24px\"\n                viewBox=\"0 0 24 24\"\n                className=\"rangeIcon\"\n            >\n                <g id=\"Icons/subtract/default\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n                    {icon}\n                </g>\n            </svg>\n        );\n    }\n}\n","// Ensure touches occur rapidly\nconst delay = 500;\n// Sequential touches must be in close vicinity\nconst minZoomTouchDelta = 10;\n\n// Track state of the last touch\nlet lastTapAt = 0;\nlet lastClientX = 0;\nlet lastClientY = 0;\n\nexport default function preventDoubleTapZoom(event: React.TouchEvent<any>) {\n    // Exit early if this involves more than one finger (e.g. pinch to zoom)\n    if (event.touches.length > 1) {\n        return;\n    }\n\n    const tapAt = new Date().getTime();\n    const timeDiff = tapAt - lastTapAt;\n    const { clientX, clientY } = event.touches[0];\n    const xDiff = Math.abs(lastClientX - clientX);\n    const yDiff = Math.abs(lastClientY - clientY);\n    if (xDiff < minZoomTouchDelta && yDiff < minZoomTouchDelta && event.touches.length === 1 && timeDiff < delay) {\n        event.preventDefault();\n        // Trigger a fake click for the tap we just prevented\n        (event.target as any).click();\n    }\n    lastClientX = clientX;\n    lastClientY = clientY;\n    lastTapAt = tapAt;\n}\n","import { createElement } from 'react';\n\n/**\n *  Skjuler tekst slik at den ikke er synlig på skjerm, men leses av skjermleser\n */\nexport interface AriaTextProps {\n    id?: string;\n    children?: React.ReactNode;\n    tag?: string;\n}\n\nconst AriaText: React.FunctionComponent<AriaTextProps> = ({ id, children, tag }) => {\n    const tagName = tag || 'span';\n    return createElement(tagName, { id, className: 'sr-only' }, children);\n};\nexport default AriaText;\n","import classnames from 'classnames';\nimport preventDoubleTapZoom from '../preventDoubleTapZoom';\nimport AriaText from '../AriaText';\nimport './sirkelknapp.less';\nimport { guid } from '@navikt/fp-common';\n\nexport type Stil = 'hvit' | 'bla' | 'info';\n\nexport interface SirkelknappProps {\n    /** Tekst som blir lest opp og satt som tittel på knappen */\n    ariaLabel: string;\n    /** Ikon som brukes inne i knappen */\n    ikon: React.ReactNode;\n    /** Funksjon som kalles knappen klikkes på */\n    onClick: () => void;\n    /** Om knappen er disabled eller ikke. Default false. */\n    disabled?: boolean;\n    /** Om knappen skal ha tilstanded pressed/valgt. Default false. */\n    toggle?: {\n        pressed: boolean;\n    };\n    /** Layout varianter */\n    stil?: Stil;\n    /** Størrelse - default normal */\n    size?: 'normal' | 'stor';\n    posisjoneringFraHøyre?: number;\n}\n\nconst Sirkelknapp: React.FunctionComponent<SirkelknappProps> = ({\n    onClick,\n    ariaLabel,\n    ikon,\n    toggle,\n    disabled,\n    stil = 'info',\n    size = 'normal',\n    posisjoneringFraHøyre,\n}) => {\n    const labelId = guid();\n    return (\n        <button\n            style={{ left: posisjoneringFraHøyre }}\n            type=\"button\"\n            onClick={() => onClick()}\n            onTouchStart={preventDoubleTapZoom}\n            aria-labelledby={labelId}\n            className={classnames(`sirkelknapp`, `sirkelknapp--${stil}`, `sirkelknapp--${size}`, {\n                'sirkelknapp--pressed': toggle && toggle.pressed,\n                'sirkelknapp--disabled': disabled,\n            })}\n            disabled={disabled}\n            aria-pressed={toggle ? toggle.pressed : undefined}\n        >\n            <span className=\"sirkelknapp__ikon\" role=\"presentation\">\n                {ikon}\n            </span>\n            <AriaText id={labelId}>{ariaLabel}</AriaText>\n        </button>\n    );\n};\n\nexport default Sirkelknapp;\n","import { bemUtils, Block, intlUtils } from '@navikt/fp-common';\nimport { Label, ReadMore } from '@navikt/ds-react';\nimport { getNumberFromNumberInputValue, TypedFormComponents } from '@navikt/sif-common-formik-ds/lib';\nimport { FunctionComponent } from 'react';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport RangeIcon from '../../fordelingFellesperiode/range-input/RangeIcon';\nimport Sirkelknapp from '../../fordelingFellesperiode/range-input/sirkelknapp/Sirkelknapp';\n\nimport './antallUkerOgDagerFellesperiodeFarMedmorSpørsmål.less';\n\ninterface Props {\n    FormComponents: TypedFormComponents<any, any, string>;\n    ukerFieldName: string;\n    dagerFieldName: string;\n    antallUker: string;\n    antallDager: string;\n    setFieldValue: (field: string, value: any, shouldValidate?: boolean | undefined) => void;\n    ukerMedFellesperiode: number;\n}\n\nconst getNumberFromStringInput = (input: string): number | undefined => {\n    return input === undefined || input.trim().length === 0 ? 0 : getNumberFromNumberInputValue(input);\n};\n\nconst leggTil = (currentAntall: string, max: number): string => {\n    const number = getNumberFromStringInput(currentAntall);\n\n    if (number === undefined || Math.round(number) !== number) {\n        return currentAntall;\n    }\n\n    if (number + 1 > max) {\n        return max.toString();\n    }\n\n    return (number + 1).toString();\n};\n\nconst trekkFra = (currentAntall: string, min: number): string => {\n    const number = getNumberFromStringInput(currentAntall);\n\n    if (number === undefined || number === 0 || Math.round(number) !== number) {\n        return currentAntall;\n    }\n\n    if (number - 1 < min) {\n        return min.toString();\n    }\n\n    return (number - 1).toString();\n};\n\nconst AntallUkerOgDagerFellesperiodeFarMedmorSpørsmål: FunctionComponent<Props> = ({\n    FormComponents,\n    ukerFieldName,\n    dagerFieldName,\n    antallDager,\n    antallUker,\n    setFieldValue,\n    ukerMedFellesperiode,\n}) => {\n    const bem = bemUtils('antallUkerOgDagerFellesperiodeFarMedmorSpørsmål');\n    const intl = useIntl();\n\n    return (\n        <>\n            <legend>\n                <Label>\n                    <FormattedMessage id=\"uttaksplaninfo.fellesperiode.tittel\" />\n                </Label>\n            </legend>\n            <div className={bem.block}>\n                <div className={bem.element('stepper')}>\n                    <div className={bem.element('icon')}>\n                        <Sirkelknapp\n                            stil=\"hvit\"\n                            ariaLabel=\"Mink antall uker med en uke\"\n                            ikon={<RangeIcon type=\"minus\" />}\n                            disabled={\n                                antallUker === undefined ||\n                                parseInt(antallUker, 10) === 0 ||\n                                antallUker.trim().length === 0\n                                    ? true\n                                    : false\n                            }\n                            onClick={() => setFieldValue(ukerFieldName, trekkFra(antallUker, 0))}\n                        />\n                    </div>\n                    <FormComponents.NumberInput\n                        className={bem.element('uker')}\n                        integerValue={true}\n                        name={ukerFieldName}\n                        label={intlUtils(intl, 'uker.fellesperiode')}\n                        width=\"xs\"\n                        step=\"1\"\n                    />\n                    <div className={bem.element('icon')}>\n                        <Sirkelknapp\n                            stil=\"hvit\"\n                            ariaLabel=\"Øk antall uker med en uke\"\n                            ikon={<RangeIcon type=\"plus\" />}\n                            disabled={parseInt(antallUker, 10) >= ukerMedFellesperiode ? true : false}\n                            onClick={() => setFieldValue(ukerFieldName, leggTil(antallUker, ukerMedFellesperiode))}\n                        />\n                    </div>\n                </div>\n                <div className={bem.element('stepper')}>\n                    <div className={bem.element('icon')}>\n                        <Sirkelknapp\n                            stil=\"hvit\"\n                            ariaLabel=\"Mink antall dager med en dag\"\n                            ikon={<RangeIcon type=\"minus\" />}\n                            onClick={() => setFieldValue(dagerFieldName, trekkFra(antallDager, 0))}\n                            disabled={\n                                antallDager === undefined ||\n                                parseInt(antallDager, 10) === 0 ||\n                                antallDager.trim().length === 0\n                                    ? true\n                                    : false\n                            }\n                        />\n                    </div>\n                    <FormComponents.NumberInput\n                        className={bem.element('uker')}\n                        integerValue={true}\n                        name={dagerFieldName}\n                        label={intlUtils(intl, 'dager.fellesperiode')}\n                        width=\"xs\"\n                        step=\"1\"\n                    />\n                    <div className={bem.element('icon')}>\n                        <Sirkelknapp\n                            stil=\"hvit\"\n                            ariaLabel=\"Øk antall dager med en dag\"\n                            ikon={<RangeIcon type=\"plus\" />}\n                            onClick={() => setFieldValue(dagerFieldName, leggTil(antallDager, 4))}\n                            disabled={parseInt(antallDager, 10) === 4 ? true : false}\n                        />\n                    </div>\n                </div>\n            </div>\n            <Block margin=\"m\">\n                <ReadMore header={intlUtils(intl, 'uttaksplaninfo.fellesperiode.apneLabel')}>\n                    <FormattedMessage id=\"uttaksplaninfo.fellesperiode.lesMerInfo\" />\n                </ReadMore>\n            </Block>\n        </>\n    );\n};\n\nexport default AntallUkerOgDagerFellesperiodeFarMedmorSpørsmål;\n","import { FunctionComponent } from 'react';\nimport { useIntl } from 'react-intl';\nimport { Block, intlUtils } from '@navikt/fp-common';\nimport { Dekningsgrad } from 'app/types/Dekningsgrad';\nimport { getAntallUker } from 'app/steps/uttaksplan-info/utils/stønadskontoer';\nimport { TilgjengeligStønadskonto } from 'app/types/TilgjengeligStønadskonto';\nimport { TypedFormComponents } from '@navikt/sif-common-formik-ds/lib';\nimport { ReadMore } from '@navikt/ds-react';\n\ninterface Props {\n    FormKomponent: TypedFormComponents<any, any, any>;\n    dekningsgradFeltNavn: string;\n    tilgjengeligeStønadskontoer: {\n        [Dekningsgrad.ÅTTI_PROSENT]: TilgjengeligStønadskonto[];\n        [Dekningsgrad.HUNDRE_PROSENT]: TilgjengeligStønadskonto[];\n    };\n    erDeltUttak: boolean;\n}\n\nconst DekningsgradSpørsmål: FunctionComponent<Props> = ({\n    FormKomponent,\n    dekningsgradFeltNavn,\n    tilgjengeligeStønadskontoer,\n    erDeltUttak,\n}) => {\n    const intl = useIntl();\n    const spørsmålTekst = erDeltUttak\n        ? 'uttaksplaninfo.dekningsgrad.label.deltUttak'\n        : 'uttaksplaninfo.dekningsgrad.label.ikkeDeltUttak';\n    return (\n        <Block padBottom=\"l\">\n            <FormKomponent.RadioGroup\n                name={dekningsgradFeltNavn}\n                radios={[\n                    {\n                        label: intlUtils(intl, 'uttaksplaninfo.49Uker', {\n                            antallUker: getAntallUker(tilgjengeligeStønadskontoer[Dekningsgrad.HUNDRE_PROSENT]),\n                        }),\n                        value: Dekningsgrad.HUNDRE_PROSENT,\n                    },\n                    {\n                        label: intlUtils(intl, 'uttaksplaninfo.59Uker', {\n                            antallUker: getAntallUker(tilgjengeligeStønadskontoer[Dekningsgrad.ÅTTI_PROSENT]),\n                        }),\n                        value: Dekningsgrad.ÅTTI_PROSENT,\n                    },\n                ]}\n                legend={intlUtils(intl, spørsmålTekst)}\n            />\n            <ReadMore header=\"Les mer om lengden på foreldrepengeperioden\">\n                Den totale utbetalingen blir høyere hvis du velger 100 prosent. Valget gjelder dere begge, og kan ikke\n                endres senere.\n            </ReadMore>\n        </Block>\n    );\n};\n\nexport default DekningsgradSpørsmål;\n","import { useForeldrepengesøknadContext } from 'app/context/hooks/useForeldrepengesøknadContext';\nimport UttaksplanInfo from 'app/context/types/UttaksplanInfo';\n\nconst useUttaksplanInfo = <T extends UttaksplanInfo>(): T | undefined => {\n    const { state } = useForeldrepengesøknadContext();\n    //TODO (TOR) Fiks casting\n    return <T>state.uttaksplanInfo;\n};\n\nexport default useUttaksplanInfo;\n","import { Dekningsgrad } from 'app/types/Dekningsgrad';\n\nexport const getDekningsgradFromString = (dekningsgrad: string | undefined) => {\n    if (!dekningsgrad) {\n        return Dekningsgrad.HUNDRE_PROSENT;\n    }\n\n    return dekningsgrad === Dekningsgrad.HUNDRE_PROSENT ? Dekningsgrad.HUNDRE_PROSENT : Dekningsgrad.ÅTTI_PROSENT;\n};\n","import { sorterPerioder } from 'app/steps/uttaksplan-info/utils/Periodene';\nimport { getTidsperiode, Tidsperioden } from 'app/steps/uttaksplan-info/utils/Tidsperioden';\nimport { Uttaksdagen } from 'app/steps/uttaksplan-info/utils/Uttaksdagen';\nimport { Forelder } from 'app/types/Forelder';\nimport { Situasjon } from 'app/types/Situasjon';\nimport { TilgjengeligStønadskonto } from 'app/types/TilgjengeligStønadskonto';\nimport { UtsettelseÅrsakType } from 'uttaksplan/types/UtsettelseÅrsakType';\nimport { isUttaksperiode, Periode, Periodetype } from 'uttaksplan/types/Periode';\nimport { StønadskontoType } from 'uttaksplan/types/StønadskontoType';\nimport {\n    andreAugust2022ReglerGjelder,\n    dateIsSameOrAfter,\n    skalFarUtsetteEtterMorSinSisteUttaksdag,\n    tidperiodeOverlapperDato,\n} from '../dateUtils';\nimport {\n    farMedmorsTidsperiodeSkalSplittesPåFamiliehendelsesdato,\n    getLengdePåForeslåttWLBUttakFarMedmor,\n    starterTidsperiodeInnenforToUkerFørFødselTilSeksUkerEtterFødsel,\n} from '../wlbUtils';\nimport { splittPeriodePåDato, splittUttaksperiodePåFamiliehendelsesdato } from 'uttaksplan/builder/leggTilPeriode';\nimport { guid } from '@navikt/fp-common';\n\nconst deltUttakAdopsjonSøktFørst = (\n    famDato: Date,\n    erFarEllerMedmor: boolean,\n    tilgjengeligeStønadskontoer: TilgjengeligStønadskonto[],\n    startdatoPermisjon: Date | undefined,\n    fellesperiodeukerMor: number | undefined,\n    harAnnenForelderSøktFP: boolean | undefined,\n    førsteUttaksdagNesteBarnsSak: Date | undefined\n): Periode[] => {\n    if (harAnnenForelderSøktFP !== true) {\n        const førsteUttaksdag = Uttaksdagen(startdatoPermisjon || famDato).denneEllerNeste();\n        const perioder: Periode[] = [];\n        const kontoType = erFarEllerMedmor ? StønadskontoType.Fedrekvote : StønadskontoType.Mødrekvote;\n        const forelder = erFarEllerMedmor ? Forelder.farMedmor : Forelder.mor;\n        const konto: TilgjengeligStønadskonto | undefined = tilgjengeligeStønadskontoer.find((k) =>\n            erFarEllerMedmor ? k.konto === StønadskontoType.Fedrekvote : k.konto === StønadskontoType.Mødrekvote\n        );\n        let currentTomDate: Date = førsteUttaksdag;\n\n        if (konto !== undefined) {\n            const periodeMødrekvote: Periode = {\n                id: guid(),\n                type: Periodetype.Uttak,\n                forelder,\n                konto: kontoType,\n                tidsperiode: getTidsperiode(currentTomDate, konto.dager),\n                ønskerSamtidigUttak: false,\n                gradert: false,\n            };\n\n            currentTomDate = Uttaksdagen(periodeMødrekvote.tidsperiode.tom).neste();\n\n            if (\n                førsteUttaksdagNesteBarnsSak !== undefined &&\n                tidperiodeOverlapperDato(periodeMødrekvote.tidsperiode, førsteUttaksdagNesteBarnsSak)\n            ) {\n                const splittedePerioder = splittPeriodePåDato(periodeMødrekvote, førsteUttaksdagNesteBarnsSak);\n                splittedePerioder.forEach((periode) => perioder.push(periode));\n            } else {\n                perioder.push(periodeMødrekvote);\n            }\n        }\n\n        if (fellesperiodeukerMor !== undefined && fellesperiodeukerMor > 0) {\n            const periodeFellesperiode: Periode = {\n                id: guid(),\n                type: Periodetype.Uttak,\n                forelder,\n                konto: StønadskontoType.Fellesperiode,\n                tidsperiode: getTidsperiode(currentTomDate, fellesperiodeukerMor * 5),\n                ønskerSamtidigUttak: false,\n                gradert: false,\n            };\n            if (\n                førsteUttaksdagNesteBarnsSak !== undefined &&\n                tidperiodeOverlapperDato(periodeFellesperiode.tidsperiode, førsteUttaksdagNesteBarnsSak)\n            ) {\n                const splittedePerioder = splittPeriodePåDato(periodeFellesperiode, førsteUttaksdagNesteBarnsSak);\n                splittedePerioder.forEach((periode) => perioder.push(periode));\n            } else {\n                perioder.push(periodeFellesperiode);\n            }\n        }\n\n        return perioder.sort(sorterPerioder);\n    } else {\n        return [];\n    }\n};\n\nconst deltUttakAdopsjonSøktSist = (\n    familiehendelsesdato: Date,\n    tilgjengeligeStønadskontoer: TilgjengeligStønadskonto[],\n    erFarEllerMedmor: boolean,\n    antallDagerFellesperiodeFarMedmor: number | undefined,\n    antallUkerFellesperiodeFarMedmor: number | undefined,\n    morSinSisteUttaksdag: Date,\n    farSinFørsteUttaksdag: Date,\n    begrunnelseForUtsettelse: UtsettelseÅrsakType | undefined,\n    førsteUttaksdagNesteBarnsSak: Date | undefined\n) => {\n    if (erFarEllerMedmor) {\n        // Oppfører seg identisk som fødselsscenario\n        return deltUttakFødselFarMedmor(\n            tilgjengeligeStønadskontoer,\n            antallDagerFellesperiodeFarMedmor,\n            antallUkerFellesperiodeFarMedmor,\n            morSinSisteUttaksdag,\n            farSinFørsteUttaksdag,\n            begrunnelseForUtsettelse,\n            familiehendelsesdato,\n            undefined,\n            undefined,\n            førsteUttaksdagNesteBarnsSak,\n            'adopsjon'\n        );\n    } else {\n        const forslag = deltUttakFødselFarMedmor(\n            tilgjengeligeStønadskontoer,\n            antallDagerFellesperiodeFarMedmor,\n            antallUkerFellesperiodeFarMedmor,\n            morSinSisteUttaksdag,\n            farSinFørsteUttaksdag,\n            begrunnelseForUtsettelse,\n            familiehendelsesdato,\n            undefined,\n            undefined,\n            førsteUttaksdagNesteBarnsSak,\n            'adopsjon'\n        );\n\n        const forslagGjortOmTilMor = forslag.map((periode) => {\n            if (\n                isUttaksperiode(periode) &&\n                (periode.konto === StønadskontoType.Fedrekvote || periode.konto === StønadskontoType.Fellesperiode)\n            ) {\n                if (periode.konto === StønadskontoType.Fedrekvote) {\n                    return {\n                        ...periode,\n                        konto: StønadskontoType.Mødrekvote,\n                        forelder: Forelder.mor,\n                    };\n                } else {\n                    return {\n                        ...periode,\n                        forelder: Forelder.mor,\n                    };\n                }\n            }\n\n            return periode;\n        });\n\n        return forslagGjortOmTilMor;\n    }\n};\n\nconst deltUttakAdopsjon = (\n    famDato: Date,\n    erFarEllerMedmor: boolean,\n    tilgjengeligeStønadskontoer: TilgjengeligStønadskonto[],\n    startdatoPermisjon: Date | undefined,\n    fellesperiodeukerMor: number | undefined,\n    harAnnenForelderSøktFP: boolean | undefined,\n    antallDagerFellesperiodeFarMedmor: number | undefined,\n    antallUkerFellesperiodeFarMedmor: number | undefined,\n    morSinSisteUttaksdag: Date | undefined,\n    farSinFørsteUttaksdag: Date | undefined,\n    begrunnelseForUtsettelse: UtsettelseÅrsakType | undefined,\n    førsteUttaksdagNesteBarnsSak: Date | undefined\n) => {\n    if (!harAnnenForelderSøktFP) {\n        return deltUttakAdopsjonSøktFørst(\n            famDato,\n            erFarEllerMedmor,\n            tilgjengeligeStønadskontoer,\n            startdatoPermisjon,\n            fellesperiodeukerMor,\n            harAnnenForelderSøktFP,\n            førsteUttaksdagNesteBarnsSak\n        );\n    } else {\n        return deltUttakAdopsjonSøktSist(\n            famDato,\n            tilgjengeligeStønadskontoer,\n            erFarEllerMedmor,\n            antallDagerFellesperiodeFarMedmor,\n            antallUkerFellesperiodeFarMedmor,\n            morSinSisteUttaksdag!,\n            farSinFørsteUttaksdag!,\n            begrunnelseForUtsettelse,\n            førsteUttaksdagNesteBarnsSak\n        );\n    }\n};\n\nconst deltUttakFødselMor = (\n    famDato: Date,\n    tilgjengeligeStønadskontoer: TilgjengeligStønadskonto[],\n    ønsketStartdatoPermisjon: Date | undefined,\n    fellesperiodeukerMor: number | undefined\n): Periode[] => {\n    const førsteUttaksdag = Uttaksdagen(famDato).denneEllerNeste();\n    const perioder: Periode[] = [];\n    const skalHaForeldrePengerFørFødsel = ønsketStartdatoPermisjon ? true : false;\n    const fpFørFødselKonto: TilgjengeligStønadskonto | undefined = tilgjengeligeStønadskontoer.find(\n        (konto) => konto.konto === StønadskontoType.ForeldrepengerFørFødsel\n    );\n    const mkKonto: TilgjengeligStønadskonto | undefined = tilgjengeligeStønadskontoer.find(\n        (konto) => konto.konto === StønadskontoType.Mødrekvote\n    );\n    let currentTomDate: Date = førsteUttaksdag;\n    if (fpFørFødselKonto !== undefined && skalHaForeldrePengerFørFødsel && ønsketStartdatoPermisjon) {\n        const startdatoPermisjon = Uttaksdagen(ønsketStartdatoPermisjon).denneEllerNeste();\n        const dagerFørFødsel = Uttaksdagen(startdatoPermisjon).getUttaksdagerFremTilDato(currentTomDate);\n        const merEnnTreUkerPermisjonFørFødsel = dagerFørFødsel > 15;\n        const startdatoFpFørFødsel = Uttaksdagen(førsteUttaksdag).trekkFra(\n            merEnnTreUkerPermisjonFørFødsel ? 15 : dagerFørFødsel\n        );\n\n        if (merEnnTreUkerPermisjonFørFødsel) {\n            const ekstraPeriodeFørFødsel: Periode = {\n                id: guid(),\n                type: Periodetype.Uttak,\n                forelder: Forelder.mor,\n                konto: StønadskontoType.Fellesperiode,\n                tidsperiode: getTidsperiode(startdatoPermisjon, dagerFørFødsel - 15),\n                vedlegg: [],\n            };\n\n            perioder.push(ekstraPeriodeFørFødsel);\n        }\n\n        const periodeFørFødsel: Periode = {\n            id: guid(),\n            type: Periodetype.Uttak,\n            forelder: Forelder.mor,\n            konto: StønadskontoType.ForeldrepengerFørFødsel,\n            tidsperiode: {\n                fom: startdatoFpFørFødsel,\n                tom: Uttaksdagen(currentTomDate).forrige(),\n            },\n        };\n\n        perioder.push(periodeFørFødsel);\n    } else {\n        const periodeFørFødsel: Periode = {\n            id: guid(),\n            type: Periodetype.Uttak,\n            forelder: Forelder.mor,\n            konto: StønadskontoType.ForeldrepengerFørFødsel,\n            skalIkkeHaUttakFørTermin: true,\n            tidsperiode: {} as any,\n            vedlegg: [],\n        };\n        perioder.push(periodeFørFødsel);\n    }\n\n    if (mkKonto !== undefined) {\n        const periodeMødrekvote: Periode = {\n            id: guid(),\n            type: Periodetype.Uttak,\n            forelder: Forelder.mor,\n            konto: StønadskontoType.Mødrekvote,\n            tidsperiode: getTidsperiode(currentTomDate, mkKonto.dager),\n            ønskerSamtidigUttak: false,\n            gradert: false,\n        };\n\n        currentTomDate = Uttaksdagen(periodeMødrekvote.tidsperiode.tom).neste();\n\n        perioder.push(periodeMødrekvote);\n    }\n\n    if (fellesperiodeukerMor !== undefined && fellesperiodeukerMor > 0) {\n        const ekstraPermisjonFørFødsel = perioder.find(\n            (p) => isUttaksperiode(p) && p.konto === StønadskontoType.Fellesperiode\n        );\n\n        let trekkEkstraPermisjonDager = 0;\n        if (ekstraPermisjonFørFødsel) {\n            trekkEkstraPermisjonDager = Tidsperioden(ekstraPermisjonFørFødsel.tidsperiode).getAntallUttaksdager();\n        }\n\n        if (fellesperiodeukerMor * 5 - trekkEkstraPermisjonDager > 0) {\n            const periodeFellesperiodeMor: Periode = {\n                id: guid(),\n                type: Periodetype.Uttak,\n                forelder: Forelder.mor,\n                konto: StønadskontoType.Fellesperiode,\n                tidsperiode: getTidsperiode(currentTomDate, fellesperiodeukerMor * 5 - trekkEkstraPermisjonDager),\n                ønskerSamtidigUttak: false,\n                gradert: false,\n            };\n\n            perioder.push(periodeFellesperiodeMor);\n        }\n    }\n\n    return perioder.sort(sorterPerioder);\n};\n\nconst deltUttakFødselFarMedmor = (\n    tilgjengeligeStønadskontoer: TilgjengeligStønadskonto[],\n    antallDagerFellesperiodeFarMedmor: number | undefined,\n    antallUkerFellesperiodeFarMedmor: number | undefined,\n    morSinSisteUttaksdag: Date,\n    farSinFørsteUttaksdag: Date,\n    begrunnelseForUtsettelse: UtsettelseÅrsakType | undefined,\n    familiehendelsesdato: Date,\n    termindato: Date | undefined,\n    morHarRettPåForeldrepengerIEØS: boolean | undefined,\n    førsteUttaksdagNesteBarnsSak: Date | undefined,\n    situasjon = 'fødsel'\n): Periode[] => {\n    if (\n        !andreAugust2022ReglerGjelder(familiehendelsesdato) &&\n        dateIsSameOrAfter(morSinSisteUttaksdag, farSinFørsteUttaksdag) &&\n        !morHarRettPåForeldrepengerIEØS\n    ) {\n        return [];\n    }\n\n    const perioder: Periode[] = [];\n    const startDatoUttak = Uttaksdagen(farSinFørsteUttaksdag).denneEllerNeste();\n    let sisteUttaksDag = Uttaksdagen(farSinFørsteUttaksdag).denneEllerNeste();\n    const fedrekvoteKonto: TilgjengeligStønadskonto | undefined = tilgjengeligeStønadskontoer.find(\n        (konto) => konto.konto === StønadskontoType.Fedrekvote\n    );\n    const fellesKonto: TilgjengeligStønadskonto | undefined = tilgjengeligeStønadskontoer.find(\n        (konto) => konto.konto === StønadskontoType.Fellesperiode\n    );\n\n    const morHarRett = true;\n\n    if (\n        begrunnelseForUtsettelse &&\n        morSinSisteUttaksdag !== undefined &&\n        skalFarUtsetteEtterMorSinSisteUttaksdag(farSinFørsteUttaksdag, morSinSisteUttaksdag)\n    ) {\n        perioder.push({\n            id: guid(),\n            årsak: begrunnelseForUtsettelse,\n            type: Periodetype.Utsettelse,\n            forelder: Forelder.farMedmor,\n            erArbeidstaker: false, // TODO\n            tidsperiode: {\n                fom: Uttaksdagen(morSinSisteUttaksdag).neste(),\n                tom: Uttaksdagen(farSinFørsteUttaksdag).forrige(),\n            },\n        });\n    }\n\n    if (fedrekvoteKonto !== undefined) {\n        const erPeriodeWLBRundtFødsel =\n            situasjon === 'fødsel' &&\n            andreAugust2022ReglerGjelder(familiehendelsesdato) &&\n            starterTidsperiodeInnenforToUkerFørFødselTilSeksUkerEtterFødsel(\n                getTidsperiode(startDatoUttak, 1),\n                familiehendelsesdato,\n                termindato\n            );\n\n        const lengdePåForeslåttUttak = erPeriodeWLBRundtFødsel\n            ? getLengdePåForeslåttWLBUttakFarMedmor(familiehendelsesdato, startDatoUttak)\n            : fedrekvoteKonto.dager;\n\n        const fedrekvotePeriode: Periode = {\n            id: guid(),\n            type: Periodetype.Uttak,\n            forelder: Forelder.farMedmor,\n            konto: StønadskontoType.Fedrekvote,\n            tidsperiode: getTidsperiode(startDatoUttak, lengdePåForeslåttUttak),\n            ønskerSamtidigUttak: erPeriodeWLBRundtFødsel,\n            samtidigUttakProsent: erPeriodeWLBRundtFødsel ? '100' : undefined,\n        };\n\n        sisteUttaksDag = Uttaksdagen(fedrekvotePeriode.tidsperiode.tom).neste();\n\n        if (\n            farMedmorsTidsperiodeSkalSplittesPåFamiliehendelsesdato(\n                fedrekvotePeriode,\n                familiehendelsesdato,\n                morHarRett,\n                termindato\n            )\n        ) {\n            const fedrekvotePerioder = splittUttaksperiodePåFamiliehendelsesdato(\n                fedrekvotePeriode,\n                familiehendelsesdato\n            );\n            fedrekvotePerioder.forEach((periode) => perioder.push(periode));\n        } else if (\n            førsteUttaksdagNesteBarnsSak !== undefined &&\n            tidperiodeOverlapperDato(fedrekvotePeriode.tidsperiode, førsteUttaksdagNesteBarnsSak)\n        ) {\n            const fedrekvotePerioder = splittPeriodePåDato(fedrekvotePeriode, førsteUttaksdagNesteBarnsSak);\n            fedrekvotePerioder.forEach((periode) => perioder.push(periode));\n        } else {\n            perioder.push(fedrekvotePeriode);\n        }\n    }\n\n    if (fellesKonto !== undefined) {\n        let antallDagerFellesperiode = 0;\n\n        if (antallUkerFellesperiodeFarMedmor !== undefined && antallUkerFellesperiodeFarMedmor !== 0) {\n            antallDagerFellesperiode = 5 * antallUkerFellesperiodeFarMedmor;\n        }\n\n        if (antallDagerFellesperiodeFarMedmor !== undefined && antallDagerFellesperiodeFarMedmor !== 0) {\n            antallDagerFellesperiode = antallDagerFellesperiode + antallDagerFellesperiodeFarMedmor;\n        }\n\n        if (antallDagerFellesperiode > 0) {\n            const fellesPeriode: Periode = {\n                id: guid(),\n                type: Periodetype.Uttak,\n                forelder: Forelder.farMedmor,\n                konto: StønadskontoType.Fellesperiode,\n                tidsperiode: getTidsperiode(sisteUttaksDag, antallDagerFellesperiode),\n                ønskerSamtidigUttak: false,\n                gradert: false,\n            };\n\n            perioder.push(fellesPeriode);\n        }\n    }\n\n    return perioder;\n};\n\nconst deltUttakFødsel = (\n    famDato: Date,\n    erFarEllerMedmor: boolean,\n    tilgjengeligeStønadskontoer: TilgjengeligStønadskonto[],\n    startdatoPermisjon: Date | undefined,\n    fellesperiodeukerMor: number | undefined,\n    antallDagerFellesperiodeFarMedmor: number | undefined,\n    antallUkerFellesperiodeFarMedmor: number | undefined,\n    morSinSisteUttaksdag: Date | undefined,\n    farSinFørsteUttaksdag: Date | undefined,\n    begrunnelseForUtsettelse: UtsettelseÅrsakType | undefined,\n    annenForelderHarRettPåForeldrepengerIEØS: boolean | undefined,\n    førsteUttaksdagNesteBarnsSak: Date | undefined,\n    termindato?: Date | undefined\n) => {\n    if (!erFarEllerMedmor) {\n        return deltUttakFødselMor(famDato, tilgjengeligeStønadskontoer, startdatoPermisjon, fellesperiodeukerMor);\n    } else {\n        const tilgjengeligeStønadskontoerUtenFPP = tilgjengeligeStønadskontoer.filter(\n            (konto) => konto.konto !== StønadskontoType.ForeldrepengerFørFødsel\n        );\n\n        return deltUttakFødselFarMedmor(\n            tilgjengeligeStønadskontoerUtenFPP,\n            antallDagerFellesperiodeFarMedmor,\n            antallUkerFellesperiodeFarMedmor,\n            morSinSisteUttaksdag!,\n            farSinFørsteUttaksdag!,\n            begrunnelseForUtsettelse,\n            famDato,\n            termindato,\n            annenForelderHarRettPåForeldrepengerIEØS,\n            førsteUttaksdagNesteBarnsSak\n        );\n    }\n};\n\nexport interface DeltUttakParams {\n    situasjon: Situasjon;\n    famDato: Date;\n    erFarEllerMedmor: boolean;\n    tilgjengeligeStønadskontoer: TilgjengeligStønadskonto[];\n    startdatoPermisjon: Date | undefined;\n    fellesperiodeukerMor: number | undefined;\n    harAnnenForelderSøktFP: boolean | undefined;\n    antallDagerFellesperiodeFarMedmor: number | undefined;\n    antallUkerFellesperiodeFarMedmor: number | undefined;\n    morSinSisteUttaksdag: Date | undefined;\n    farSinFørsteUttaksdag: Date | undefined;\n    begrunnelseForUtsettelse: UtsettelseÅrsakType | undefined;\n    førsteUttaksdagNesteBarnsSak: Date | undefined;\n    annenForelderHarRettPåForeldrepengerIEØS?: boolean;\n    termindato?: Date;\n}\n\nexport const deltUttak = (params: DeltUttakParams) => {\n    if (params.situasjon === 'adopsjon') {\n        return deltUttakAdopsjon(\n            params.famDato,\n            params.erFarEllerMedmor,\n            params.tilgjengeligeStønadskontoer,\n            params.startdatoPermisjon,\n            params.fellesperiodeukerMor,\n            params.harAnnenForelderSøktFP,\n            params.antallDagerFellesperiodeFarMedmor,\n            params.antallUkerFellesperiodeFarMedmor,\n            params.morSinSisteUttaksdag,\n            params.farSinFørsteUttaksdag,\n            params.begrunnelseForUtsettelse,\n            params.førsteUttaksdagNesteBarnsSak\n        );\n    }\n\n    if (params.situasjon === 'fødsel') {\n        return deltUttakFødsel(\n            params.famDato,\n            params.erFarEllerMedmor,\n            params.tilgjengeligeStønadskontoer,\n            params.startdatoPermisjon,\n            params.fellesperiodeukerMor,\n            params.antallDagerFellesperiodeFarMedmor,\n            params.antallUkerFellesperiodeFarMedmor,\n            params.morSinSisteUttaksdag,\n            params.farSinFørsteUttaksdag,\n            params.begrunnelseForUtsettelse,\n            params.annenForelderHarRettPåForeldrepengerIEØS,\n            params.førsteUttaksdagNesteBarnsSak,\n            params.termindato\n        );\n    }\n\n    return [];\n};\n","import { sorterPerioder } from 'app/steps/uttaksplan-info/utils/Periodene';\nimport { getTidsperiode, Tidsperioden } from 'app/steps/uttaksplan-info/utils/Tidsperioden';\nimport { Uttaksdagen } from 'app/steps/uttaksplan-info/utils/Uttaksdagen';\nimport { Forelder } from 'app/types/Forelder';\nimport { Situasjon } from 'app/types/Situasjon';\nimport { TilgjengeligStønadskonto } from 'app/types/TilgjengeligStønadskonto';\nimport { splittPeriodePåDato, splittUttaksperiodePåFamiliehendelsesdato } from 'uttaksplan/builder/leggTilPeriode';\nimport { isUttaksperiode, Periode, Periodetype, Uttaksperiode } from 'uttaksplan/types/Periode';\nimport { StønadskontoType } from 'uttaksplan/types/StønadskontoType';\nimport { andreAugust2022ReglerGjelder, tidperiodeOverlapperDato } from '../dateUtils';\nimport { farMedmorsTidsperiodeSkalSplittesPåFamiliehendelsesdato } from '../wlbUtils';\nimport { guid } from '@navikt/fp-common';\n\nconst ikkeDeltUttakAdopsjonFarMedmor = (\n    famDato: Date,\n    foreldrepengerKonto: TilgjengeligStønadskonto,\n    startdatoPermisjon: Date | undefined,\n    erMorUfør: boolean | undefined,\n    aktivitetsfriKvote: TilgjengeligStønadskonto | undefined,\n    bareFarMedmorHarRett: boolean,\n    førsteUttaksdagNesteBarnsSak: Date | undefined\n) => {\n    const førsteUttaksdag = Uttaksdagen(startdatoPermisjon || famDato).denneEllerNeste();\n    const perioder: Uttaksperiode[] = [];\n\n    if (erMorUfør !== true) {\n        let startDatoNestePeriode = førsteUttaksdag;\n        if (andreAugust2022ReglerGjelder(famDato) && !!bareFarMedmorHarRett) {\n            const aktivitetsFriPeriode: Uttaksperiode = {\n                id: guid(),\n                type: Periodetype.Uttak,\n                forelder: Forelder.farMedmor,\n                konto: StønadskontoType.AktivitetsfriKvote,\n                tidsperiode: getTidsperiode(førsteUttaksdag, aktivitetsfriKvote!.dager),\n                vedlegg: [],\n                gradert: false,\n                harIkkeAktivitetskrav: true,\n            };\n            if (\n                førsteUttaksdagNesteBarnsSak !== undefined &&\n                tidperiodeOverlapperDato(aktivitetsFriPeriode.tidsperiode, førsteUttaksdagNesteBarnsSak)\n            ) {\n                const splittetPeriode = splittPeriodePåDato(\n                    aktivitetsFriPeriode,\n                    førsteUttaksdagNesteBarnsSak\n                ) as Uttaksperiode[];\n                splittetPeriode.forEach((sp) => perioder.push(sp));\n            } else {\n                perioder.push(aktivitetsFriPeriode);\n            }\n            startDatoNestePeriode = Uttaksdagen(aktivitetsFriPeriode.tidsperiode.tom).neste();\n        }\n        const periode: Uttaksperiode = {\n            id: guid(),\n            type: Periodetype.Uttak,\n            forelder: Forelder.farMedmor,\n            konto: foreldrepengerKonto.konto,\n            tidsperiode: getTidsperiode(startDatoNestePeriode, foreldrepengerKonto.dager),\n            vedlegg: [],\n            gradert: false,\n        };\n        if (\n            førsteUttaksdagNesteBarnsSak !== undefined &&\n            tidperiodeOverlapperDato(periode.tidsperiode, førsteUttaksdagNesteBarnsSak)\n        ) {\n            const splittetPeriode = splittPeriodePåDato(periode, førsteUttaksdagNesteBarnsSak) as Uttaksperiode[];\n            splittetPeriode.forEach((sp) => perioder.push(sp));\n        } else {\n            perioder.push(periode);\n        }\n    } else {\n        const aktivitetsFriPeriode: Uttaksperiode = {\n            id: guid(),\n            type: Periodetype.Uttak,\n            forelder: Forelder.farMedmor,\n            konto: StønadskontoType.AktivitetsfriKvote,\n            tidsperiode: getTidsperiode(førsteUttaksdag, aktivitetsfriKvote!.dager),\n            vedlegg: [],\n            gradert: false,\n            harIkkeAktivitetskrav: true,\n        };\n\n        if (\n            førsteUttaksdagNesteBarnsSak !== undefined &&\n            tidperiodeOverlapperDato(aktivitetsFriPeriode.tidsperiode, førsteUttaksdagNesteBarnsSak)\n        ) {\n            const splittetPeriode = splittPeriodePåDato(\n                aktivitetsFriPeriode,\n                førsteUttaksdagNesteBarnsSak\n            ) as Uttaksperiode[];\n            splittetPeriode.forEach((sp) => perioder.push(sp));\n        } else {\n            perioder.push(aktivitetsFriPeriode);\n        }\n\n        const aktivitetskravPeriode: Uttaksperiode = {\n            id: guid(),\n            type: Periodetype.Uttak,\n            forelder: Forelder.farMedmor,\n            konto: StønadskontoType.Foreldrepenger,\n            tidsperiode: getTidsperiode(\n                Uttaksdagen(aktivitetsFriPeriode.tidsperiode.tom).neste(),\n                foreldrepengerKonto.dager\n            ),\n            vedlegg: [],\n            gradert: false,\n        };\n\n        if (\n            førsteUttaksdagNesteBarnsSak !== undefined &&\n            tidperiodeOverlapperDato(aktivitetskravPeriode.tidsperiode, førsteUttaksdagNesteBarnsSak)\n        ) {\n            const splittetPeriode = splittPeriodePåDato(\n                aktivitetskravPeriode,\n                førsteUttaksdagNesteBarnsSak\n            ) as Uttaksperiode[];\n            splittetPeriode.forEach((sp) => perioder.push(sp));\n        } else {\n            perioder.push(aktivitetskravPeriode);\n        }\n    }\n\n    return perioder;\n};\n\nconst ikkeDeltUttakAdopsjonMor = (\n    famDato: Date,\n    foreldrepengerKonto: TilgjengeligStønadskonto,\n    startdatoPermisjon: Date | undefined,\n    førsteUttaksdagNesteBarnsSak: Date | undefined\n) => {\n    const førsteUttaksdag = Uttaksdagen(startdatoPermisjon || famDato).denneEllerNeste();\n    const periode: Uttaksperiode = {\n        id: guid(),\n        type: Periodetype.Uttak,\n        forelder: Forelder.mor,\n        konto: foreldrepengerKonto.konto,\n        tidsperiode: getTidsperiode(førsteUttaksdag, foreldrepengerKonto.dager),\n        vedlegg: [],\n        gradert: false,\n    };\n    if (\n        førsteUttaksdagNesteBarnsSak !== undefined &&\n        tidperiodeOverlapperDato(periode.tidsperiode, førsteUttaksdagNesteBarnsSak)\n    ) {\n        return splittPeriodePåDato(periode, førsteUttaksdagNesteBarnsSak);\n    }\n    return [periode];\n};\n\nconst ikkeDeltUttakAdopsjon = (\n    famDato: Date,\n    erFarEllerMedmor: boolean,\n    foreldrepengerKonto: TilgjengeligStønadskonto,\n    startdatoPermisjon: Date | undefined,\n    erMorUfør: boolean | undefined,\n    aktivitetsfriKvote: TilgjengeligStønadskonto | undefined,\n    bareFarMedmorHarRett: boolean,\n    førsteUttaksdagNesteBarnsSak: Date | undefined\n) => {\n    if (!erFarEllerMedmor) {\n        return ikkeDeltUttakAdopsjonMor(famDato, foreldrepengerKonto, startdatoPermisjon, førsteUttaksdagNesteBarnsSak);\n    } else {\n        return ikkeDeltUttakAdopsjonFarMedmor(\n            famDato,\n            foreldrepengerKonto,\n            startdatoPermisjon,\n            erMorUfør,\n            aktivitetsfriKvote,\n            bareFarMedmorHarRett,\n            førsteUttaksdagNesteBarnsSak\n        );\n    }\n};\n\nconst ikkeDeltUttakFødselMor = (\n    famDato: Date,\n    foreldrepengerKonto: TilgjengeligStønadskonto,\n    startdatoPermisjon: Date | undefined,\n    foreldrePengerFørFødselKonto: TilgjengeligStønadskonto\n) => {\n    const førsteUttaksdag = Uttaksdagen(famDato).denneEllerNeste();\n    const perioder: Periode[] = [];\n    const skalHaForeldrePengerFørFødsel = startdatoPermisjon ? true : false;\n\n    if (foreldrePengerFørFødselKonto !== undefined && skalHaForeldrePengerFørFødsel && startdatoPermisjon) {\n        const dagerFørFødsel = Uttaksdagen(startdatoPermisjon).getUttaksdagerFremTilDato(førsteUttaksdag);\n        const merEnnTreUkerPermisjonFørFødsel = dagerFørFødsel > 15;\n        const startdatoFpFørFødsel = Uttaksdagen(førsteUttaksdag).trekkFra(\n            merEnnTreUkerPermisjonFørFødsel ? 15 : dagerFørFødsel\n        );\n\n        if (merEnnTreUkerPermisjonFørFødsel) {\n            const ekstraPeriodeFørFødsel: Periode = {\n                id: guid(),\n                type: Periodetype.Uttak,\n                forelder: Forelder.mor,\n                konto: StønadskontoType.Foreldrepenger,\n                tidsperiode: getTidsperiode(startdatoPermisjon, dagerFørFødsel - 15),\n                vedlegg: [],\n            };\n\n            perioder.push(ekstraPeriodeFørFødsel);\n        }\n\n        const periodeFørFødsel: Periode = {\n            id: guid(),\n            type: Periodetype.Uttak,\n            forelder: Forelder.mor,\n            konto: foreldrePengerFørFødselKonto.konto,\n            tidsperiode: {\n                fom: startdatoFpFørFødsel,\n                tom: Uttaksdagen(førsteUttaksdag).forrige(),\n            },\n            vedlegg: [],\n        };\n\n        perioder.push(periodeFørFødsel);\n    } else {\n        const periodeFørFødsel: Periode = {\n            id: guid(),\n            type: Periodetype.Uttak,\n            forelder: Forelder.mor,\n            konto: StønadskontoType.ForeldrepengerFørFødsel,\n            skalIkkeHaUttakFørTermin: true,\n            tidsperiode: {} as any,\n            vedlegg: [],\n        };\n\n        perioder.push(periodeFørFødsel);\n    }\n\n    const ekstraPermisjonFørFødsel = perioder.find(\n        (p) => isUttaksperiode(p) && p.konto === StønadskontoType.Foreldrepenger\n    );\n\n    const antallDagerIForeldrepenger = ekstraPermisjonFørFødsel\n        ? getTidsperiode(\n              førsteUttaksdag,\n              foreldrepengerKonto.dager - Tidsperioden(ekstraPermisjonFørFødsel.tidsperiode).getAntallUttaksdager()\n          )\n        : getTidsperiode(førsteUttaksdag, foreldrepengerKonto.dager);\n\n    const foreldrepengerPeriode: Periode = {\n        id: guid(),\n        type: Periodetype.Uttak,\n        forelder: Forelder.mor,\n        konto: foreldrepengerKonto.konto,\n        tidsperiode: antallDagerIForeldrepenger,\n        vedlegg: [],\n        gradert: false,\n    };\n\n    perioder.push(foreldrepengerPeriode);\n\n    return perioder.sort(sorterPerioder);\n};\n\nconst ikkeDeltUttakFødselFarMedmor = (\n    famDato: Date,\n    foreldrepengerKonto: TilgjengeligStønadskonto,\n    startdatoPermisjon: Date | undefined,\n    erMorUfør: boolean | undefined,\n    aktivitetsfriKvote: TilgjengeligStønadskonto | undefined,\n    bareFarMedmorHarRett: boolean,\n    termindato: Date | undefined,\n    førsteUttaksdagNesteBarnsSak: Date | undefined\n) => {\n    const startDato = Uttaksdagen(startdatoPermisjon || famDato).denneEllerNeste();\n    const morHarRett = false;\n    const perioder: Periode[] = [];\n\n    if (erMorUfør !== true) {\n        let startDatoNestePeriode = startDato;\n        if (andreAugust2022ReglerGjelder(famDato) && !!bareFarMedmorHarRett) {\n            const aktivitetsFriPeriode: Uttaksperiode = {\n                id: guid(),\n                type: Periodetype.Uttak,\n                forelder: Forelder.farMedmor,\n                konto: StønadskontoType.AktivitetsfriKvote,\n                tidsperiode: getTidsperiode(startDato, aktivitetsfriKvote!.dager),\n                vedlegg: [],\n                harIkkeAktivitetskrav: true,\n            };\n            if (\n                farMedmorsTidsperiodeSkalSplittesPåFamiliehendelsesdato(\n                    aktivitetsFriPeriode,\n                    famDato,\n                    morHarRett,\n                    termindato\n                )\n            ) {\n                const aktivitetsFriePerioder = splittUttaksperiodePåFamiliehendelsesdato(aktivitetsFriPeriode, famDato);\n                aktivitetsFriePerioder.forEach((periode) => perioder.push(periode));\n            } else if (\n                førsteUttaksdagNesteBarnsSak !== undefined &&\n                tidperiodeOverlapperDato(aktivitetsFriPeriode.tidsperiode, førsteUttaksdagNesteBarnsSak)\n            ) {\n                const aktivitetsFriePerioder = splittPeriodePåDato(aktivitetsFriPeriode, førsteUttaksdagNesteBarnsSak);\n                aktivitetsFriePerioder.forEach((periode) => perioder.push(periode));\n            } else {\n                perioder.push(aktivitetsFriPeriode);\n            }\n            startDatoNestePeriode = Uttaksdagen(aktivitetsFriPeriode.tidsperiode.tom).neste();\n        }\n\n        const periode: Uttaksperiode = {\n            id: guid(),\n            type: Periodetype.Uttak,\n            forelder: Forelder.farMedmor,\n            konto: foreldrepengerKonto.konto,\n            tidsperiode: getTidsperiode(startDatoNestePeriode, foreldrepengerKonto.dager),\n            vedlegg: [],\n            gradert: false,\n        };\n\n        perioder.push(periode);\n    } else {\n        const aktivitetsFriPeriode: Uttaksperiode = {\n            id: guid(),\n            type: Periodetype.Uttak,\n            forelder: Forelder.farMedmor,\n            konto: StønadskontoType.AktivitetsfriKvote,\n            tidsperiode: getTidsperiode(startDato, aktivitetsfriKvote!.dager),\n            vedlegg: [],\n            gradert: false,\n            harIkkeAktivitetskrav: true,\n        };\n\n        if (\n            farMedmorsTidsperiodeSkalSplittesPåFamiliehendelsesdato(\n                aktivitetsFriPeriode,\n                famDato,\n                morHarRett,\n                termindato\n            )\n        ) {\n            const aktivitetsFriePerioder = splittUttaksperiodePåFamiliehendelsesdato(aktivitetsFriPeriode, famDato);\n            aktivitetsFriePerioder.forEach((periode) => perioder.push(periode));\n        } else {\n            perioder.push(aktivitetsFriPeriode);\n        }\n\n        const aktivitetskravPeriode: Uttaksperiode = {\n            id: guid(),\n            type: Periodetype.Uttak,\n            forelder: Forelder.farMedmor,\n            konto: StønadskontoType.Foreldrepenger,\n            tidsperiode: getTidsperiode(\n                Uttaksdagen(aktivitetsFriPeriode.tidsperiode.tom).neste(),\n                foreldrepengerKonto.dager\n            ),\n            vedlegg: [],\n            gradert: false,\n        };\n        perioder.push(aktivitetskravPeriode);\n    }\n\n    return perioder.sort(sorterPerioder);\n};\n\nconst ikkeDeltUttakFødsel = (\n    famDato: Date,\n    erFarEllerMedmor: boolean,\n    foreldrepengerKonto: TilgjengeligStønadskonto,\n    startdatoPermisjon: Date | undefined,\n    foreldrePengerFørFødselKonto: TilgjengeligStønadskonto | undefined,\n    erMorUfør: boolean | undefined,\n    aktivitetsfriKvote: TilgjengeligStønadskonto | undefined,\n    bareFarMedmorHarRett: boolean,\n    termindato: Date | undefined,\n    førsteUttaksdagNesteBarnsSak: Date | undefined\n) => {\n    if (!erFarEllerMedmor) {\n        return ikkeDeltUttakFødselMor(famDato, foreldrepengerKonto, startdatoPermisjon, foreldrePengerFørFødselKonto!);\n    } else {\n        return ikkeDeltUttakFødselFarMedmor(\n            famDato,\n            foreldrepengerKonto,\n            startdatoPermisjon,\n            erMorUfør,\n            aktivitetsfriKvote,\n            bareFarMedmorHarRett,\n            termindato,\n            førsteUttaksdagNesteBarnsSak\n        );\n    }\n};\n\nexport const ikkeDeltUttak = (\n    situasjon: Situasjon,\n    famDato: Date,\n    erFarEllerMedmor: boolean,\n    tilgjengeligeStønadskontoer: TilgjengeligStønadskonto[],\n    startdatoPermisjon: Date | undefined,\n    erMorUfør: boolean | undefined,\n    bareFarMedmorHarRett: boolean,\n    termindato: Date | undefined,\n    førsteUttaksdagNesteBarnsSak: Date | undefined\n) => {\n    const foreldrepengerKonto = tilgjengeligeStønadskontoer.find(\n        (konto) => konto.konto === StønadskontoType.Foreldrepenger\n    );\n    const foreldrePengerFørFødselKonto = tilgjengeligeStønadskontoer.find(\n        (konto) => konto.konto === StønadskontoType.ForeldrepengerFørFødsel\n    );\n    const aktivitetsfriKvote = tilgjengeligeStønadskontoer.find(\n        (konto) => konto.konto === StønadskontoType.AktivitetsfriKvote\n    );\n\n    if (situasjon === 'adopsjon') {\n        return ikkeDeltUttakAdopsjon(\n            famDato,\n            erFarEllerMedmor,\n            foreldrepengerKonto!,\n            startdatoPermisjon,\n            erMorUfør,\n            aktivitetsfriKvote,\n            bareFarMedmorHarRett,\n            førsteUttaksdagNesteBarnsSak\n        );\n    }\n\n    if (situasjon === 'fødsel') {\n        return ikkeDeltUttakFødsel(\n            famDato,\n            erFarEllerMedmor,\n            foreldrepengerKonto!,\n            startdatoPermisjon,\n            foreldrePengerFørFødselKonto,\n            erMorUfør,\n            aktivitetsfriKvote,\n            bareFarMedmorHarRett,\n            termindato,\n            førsteUttaksdagNesteBarnsSak\n        );\n    }\n\n    return [];\n};\n","import { Situasjon } from 'app/types/Situasjon';\nimport { TilgjengeligStønadskonto } from 'app/types/TilgjengeligStønadskonto';\nimport { UttaksplanSkjemadata } from 'app/types/UttaksplanSkjemaData';\nimport { finnOgSettInnHull } from 'uttaksplan/builder/uttaksplanbuilderUtils';\nimport { Periode } from 'uttaksplan/types/Periode';\nimport { ISOStringToDate } from '../dateUtils';\nimport { deltUttak } from './deltUttak';\nimport { ikkeDeltUttak } from './ikkeDeltUttak';\n\nexport interface LagUttaksplanParams {\n    situasjon: Situasjon;\n    familiehendelsesdato: Date;\n    erDeltUttak: boolean;\n    erEndringssøknad: boolean;\n    søkerErFarEllerMedmor: boolean;\n    annenForelderErUfør: boolean;\n    tilgjengeligeStønadskontoer: TilgjengeligStønadskonto[];\n    uttaksplanSkjema: UttaksplanSkjemadata;\n    erEnkelEndringssøknad: boolean;\n    førsteUttaksdagEtterSeksUker: Date;\n    søkerHarMidlertidigOmsorg: boolean;\n    bareFarMedmorHarRett: boolean;\n    harAktivitetskravIPeriodeUtenUttak: boolean;\n    termindato: Date | undefined;\n    førsteUttaksdagNesteBarnsSak: Date | undefined;\n    annenForelderHarRettPåForeldrepengerIEØS?: boolean;\n}\n\nexport const lagUttaksplan = (params: LagUttaksplanParams): Periode[] => {\n    const {\n        situasjon,\n        familiehendelsesdato,\n        erDeltUttak,\n        erEndringssøknad,\n        søkerErFarEllerMedmor,\n        annenForelderErUfør,\n        tilgjengeligeStønadskontoer,\n        uttaksplanSkjema,\n        bareFarMedmorHarRett,\n        termindato,\n        harAktivitetskravIPeriodeUtenUttak,\n        annenForelderHarRettPåForeldrepengerIEØS,\n        førsteUttaksdagNesteBarnsSak,\n    } = params;\n\n    if (uttaksplanSkjema.ønskerIkkeFlerePerioder || erEndringssøknad) {\n        return [];\n    }\n    const erAdopsjon = situasjon === 'adopsjon';\n\n    const {\n        harAnnenForelderSøktFP,\n        startdatoPermisjon,\n        fellesperiodeukerMor,\n        antallDagerFellesperiodeFarMedmor,\n        antallUkerFellesperiodeFarMedmor,\n        morSinSisteUttaksdag,\n        farSinFørsteUttaksdag,\n        begrunnelseForUtsettelse,\n    } = uttaksplanSkjema;\n\n    const morSinSisteUttaksdagDate = ISOStringToDate(morSinSisteUttaksdag);\n    if (familiehendelsesdato) {\n        if (erDeltUttak) {\n            const forslag = deltUttak({\n                situasjon,\n                famDato: familiehendelsesdato,\n                erFarEllerMedmor: søkerErFarEllerMedmor,\n                tilgjengeligeStønadskontoer,\n                startdatoPermisjon: ISOStringToDate(startdatoPermisjon),\n                fellesperiodeukerMor,\n                harAnnenForelderSøktFP,\n                antallDagerFellesperiodeFarMedmor,\n                antallUkerFellesperiodeFarMedmor,\n                morSinSisteUttaksdag: morSinSisteUttaksdagDate,\n                farSinFørsteUttaksdag: ISOStringToDate(farSinFørsteUttaksdag),\n                begrunnelseForUtsettelse,\n                annenForelderHarRettPåForeldrepengerIEØS,\n                termindato,\n                førsteUttaksdagNesteBarnsSak,\n            });\n\n            return finnOgSettInnHull(\n                forslag,\n                harAktivitetskravIPeriodeUtenUttak,\n                familiehendelsesdato,\n                erAdopsjon,\n                false,\n                søkerErFarEllerMedmor,\n                førsteUttaksdagNesteBarnsSak\n            );\n        } else {\n            const forslag = ikkeDeltUttak(\n                situasjon,\n                familiehendelsesdato,\n                søkerErFarEllerMedmor,\n                tilgjengeligeStønadskontoer,\n                ISOStringToDate(startdatoPermisjon),\n                annenForelderErUfør,\n                bareFarMedmorHarRett,\n                termindato,\n                førsteUttaksdagNesteBarnsSak\n            );\n\n            return finnOgSettInnHull(\n                forslag,\n                harAktivitetskravIPeriodeUtenUttak,\n                familiehendelsesdato,\n                erAdopsjon,\n                søkerErFarEllerMedmor,\n                søkerErFarEllerMedmor,\n                førsteUttaksdagNesteBarnsSak\n            );\n        }\n    }\n\n    return [];\n};\n","import { isAnnenForelderOppgitt } from 'app/context/types/AnnenForelder';\nimport isFarEllerMedmor from 'app/utils/isFarEllerMedmor';\nimport { FunctionComponent } from 'react';\nimport { getNavnGenitivEierform } from 'app/utils/personUtils';\nimport { Block, StepButtonWrapper, intlUtils } from '@navikt/fp-common';\nimport useSøknad from 'app/utils/hooks/useSøknad';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport {\n    FarMedmorFødselBeggeHarRettFormComponents,\n    FarMedmorFødselBeggeHarRettFormData,\n    FarMedmorFødselBeggeHarRettFormField,\n} from './farMedmorFødselBeggeHarRettFormConfig';\nimport {\n    getInitialFarMedmorFødselBeggeHarRettValues,\n    mapFarMedmorFødselBeggeHarRettToState,\n} from './farMedmorFødselBeggeHarRettUtils';\nimport TilgjengeligeDagerGraf from '../../tilgjengeligeDagerGraf/TilgjengeligeDagerGraf';\nimport { getTilgjengeligeDager } from '../../tilgjengeligeDagerGraf/tilgjengeligeDagerUtils';\nimport { TilgjengeligeStønadskontoerDTO } from 'app/types/TilgjengeligeStønadskontoerDTO';\nimport { getValgtStønadskontoFor80Og100Prosent } from 'app/utils/stønadskontoUtils';\nimport { getFamiliehendelsedato, getTermindato } from 'app/utils/barnUtils';\nimport useSøkerinfo from 'app/utils/hooks/useSøkerinfo';\nimport farMedmorFødselBeggeHarRettQuestionsConfig, {\n    FarMedmorFødselBeggeHarRettFormPayload,\n} from './farMedmorFødselBeggeHarRettQuestionsConfig';\nimport MorsSisteDagSpørsmål from '../spørsmål/MorsSisteDagSpørsmål';\nimport FarMedmorsFørsteDag from '../spørsmål/FarMedmorsFørsteDag';\nimport AntallUkerOgDagerFellesperiodeFarMedmorSpørsmål from '../spørsmål/AntallUkerOgDagerFellesperiodeFarMedmorSpørsmål';\nimport { getErMorUfør } from 'app/utils/annenForelderUtils';\nimport { Forelder } from 'app/types/Forelder';\nimport { EksisterendeSak } from 'app/types/EksisterendeSak';\nimport DekningsgradSpørsmål from '../spørsmål/DekningsgradSpørsmål';\nimport actionCreator from 'app/context/action/actionCreator';\nimport SøknadRoutes from 'app/routes/routes';\nimport useOnValidSubmit from 'app/utils/hooks/useOnValidSubmit';\nimport useUttaksplanInfo from 'app/utils/hooks/useUttaksplanInfo';\nimport { FarMedmorFødselBeggeHarRettUttaksplanInfo } from 'app/context/types/UttaksplanInfo';\nimport { getDekningsgradFromString } from 'app/utils/getDekningsgradFromString';\nimport { lagUttaksplan } from 'app/utils/uttaksplan/lagUttaksplan';\nimport { Uttaksdagen } from 'app/steps/uttaksplan-info/utils/Uttaksdagen';\nimport { storeAppState } from 'app/utils/submitUtils';\nimport { ForeldrepengesøknadContextState } from 'app/context/ForeldrepengesøknadContextConfig';\nimport { andreAugust2022ReglerGjelder, ISOStringToDate } from 'app/utils/dateUtils';\nimport { getAntallUker } from 'app/steps/uttaksplan-info/utils/stønadskontoer';\nimport { useForeldrepengesøknadContext } from 'app/context/hooks/useForeldrepengesøknadContext';\nimport { Button, GuidePanel } from '@navikt/ds-react';\nimport { Link } from 'react-router-dom';\nimport { getPreviousStepHref } from 'app/steps/stepsConfig';\n\ninterface Props {\n    tilgjengeligeStønadskontoer100DTO: TilgjengeligeStønadskontoerDTO;\n    tilgjengeligeStønadskontoer80DTO: TilgjengeligeStønadskontoerDTO;\n    eksisterendeSakAnnenPart: EksisterendeSak | undefined;\n}\n\nconst FarMedmorFødselFørsteganggsøknadBeggeHarRett: FunctionComponent<Props> = ({\n    tilgjengeligeStønadskontoer100DTO,\n    tilgjengeligeStønadskontoer80DTO,\n}) => {\n    const intl = useIntl();\n    const { state } = useForeldrepengesøknadContext();\n    const { annenForelder, søkersituasjon, barn, dekningsgrad, erEndringssøknad } = useSøknad();\n    const { person } = useSøkerinfo();\n    const erFarEllerMedmor = isFarEllerMedmor(søkersituasjon.rolle);\n    const erFødsel = søkersituasjon.situasjon === 'fødsel';\n    const lagretUttaksplanInfo = useUttaksplanInfo<FarMedmorFødselBeggeHarRettUttaksplanInfo>();\n\n    const navnFar = erFarEllerMedmor\n        ? person.fornavn\n        : isAnnenForelderOppgitt(annenForelder)\n        ? annenForelder.fornavn\n        : '';\n    const familiehendelsesdato = getFamiliehendelsedato(barn);\n    const navnMor = erFarEllerMedmor && isAnnenForelderOppgitt(annenForelder) ? annenForelder.fornavn : person.fornavn;\n\n    const erMorUfør = getErMorUfør(annenForelder, erFarEllerMedmor);\n    const tilgjengeligeStønadskontoer = getValgtStønadskontoFor80Og100Prosent(\n        tilgjengeligeStønadskontoer80DTO,\n        tilgjengeligeStønadskontoer100DTO\n    );\n\n    const familiehendelsesdatoDate = ISOStringToDate(familiehendelsesdato);\n    const termindato = getTermindato(barn);\n    const førsteUttaksdagNesteBarnsSak =\n        state.barnFraNesteSak !== undefined ? state.barnFraNesteSak.startdatoFørsteStønadsperiode : undefined;\n    const onValidSubmitHandler = (values: Partial<FarMedmorFødselBeggeHarRettFormData>) => {\n        const antallUker = getAntallUker(tilgjengeligeStønadskontoer[values.dekningsgrad! === '100' ? 100 : 80]);\n        return [\n            actionCreator.setAntallUkerIUttaksplan(antallUker),\n            actionCreator.setUttaksplanInfo(mapFarMedmorFødselBeggeHarRettToState(values)),\n            actionCreator.setDekningsgrad(getDekningsgradFromString(values.dekningsgrad)),\n            actionCreator.lagUttaksplanforslag(\n                lagUttaksplan({\n                    annenForelderErUfør: erMorUfør,\n                    erDeltUttak: true,\n                    erEndringssøknad,\n                    erEnkelEndringssøknad: erEndringssøknad,\n                    familiehendelsesdato: familiehendelsesdatoDate!,\n                    førsteUttaksdagEtterSeksUker: Uttaksdagen(\n                        Uttaksdagen(familiehendelsesdatoDate!).denneEllerNeste()\n                    ).leggTil(30),\n                    situasjon: erFødsel ? 'fødsel' : 'adopsjon',\n                    søkerErFarEllerMedmor: erFarEllerMedmor,\n                    søkerHarMidlertidigOmsorg: false,\n                    tilgjengeligeStønadskontoer:\n                        tilgjengeligeStønadskontoer[getDekningsgradFromString(values.dekningsgrad)],\n                    uttaksplanSkjema: {\n                        morSinSisteUttaksdag: values.morsSisteDag,\n                        farSinFørsteUttaksdag: values.farMedmorsFørsteDag,\n                        antallDagerFellesperiodeFarMedmor: parseInt(values.antallDagerFellesperiode || '0', 10),\n                        antallUkerFellesperiodeFarMedmor: parseInt(values.antallUkerFellesperiode || '0', 10),\n                    },\n                    bareFarMedmorHarRett: false,\n                    termindato,\n                    harAktivitetskravIPeriodeUtenUttak: false,\n                    førsteUttaksdagNesteBarnsSak,\n                })\n            ),\n        ];\n    };\n    const { handleSubmit, isSubmitting } = useOnValidSubmit(\n        onValidSubmitHandler,\n        SøknadRoutes.UTTAKSPLAN,\n        (state: ForeldrepengesøknadContextState) => storeAppState(state)\n    );\n\n    return (\n        <FarMedmorFødselBeggeHarRettFormComponents.FormikWrapper\n            initialValues={getInitialFarMedmorFødselBeggeHarRettValues(lagretUttaksplanInfo, dekningsgrad)}\n            onSubmit={handleSubmit}\n            renderForm={({ values: formValues, setFieldValue }) => {\n                const visibility = farMedmorFødselBeggeHarRettQuestionsConfig.getVisbility({\n                    ...formValues,\n                    familiehendelsesdato: familiehendelsesdatoDate!,\n                } as FarMedmorFødselBeggeHarRettFormPayload);\n\n                const valgtStønadskonto = tilgjengeligeStønadskontoer[formValues.dekningsgrad === '100' ? 100 : 80];\n                const tilgjengeligeDager = valgtStønadskonto\n                    ? getTilgjengeligeDager(valgtStønadskonto, false, Forelder.farMedmor)\n                    : undefined;\n\n                return (\n                    <FarMedmorFødselBeggeHarRettFormComponents.Form\n                        includeButtons={false}\n                        includeValidationSummary={true}\n                    >\n                        <Block padBottom=\"xl\">\n                            <GuidePanel>\n                                <FormattedMessage\n                                    id=\"uttaksplaninfo.veileder.informasjonTilAnnenForelder\"\n                                    values={{\n                                        navn: isAnnenForelderOppgitt(annenForelder)\n                                            ? getNavnGenitivEierform(annenForelder.fornavn, intl.locale)\n                                            : '',\n                                    }}\n                                />\n                            </GuidePanel>\n                        </Block>\n                        <Block padBottom=\"l\">\n                            <DekningsgradSpørsmål\n                                FormKomponent={FarMedmorFødselBeggeHarRettFormComponents}\n                                dekningsgradFeltNavn={FarMedmorFødselBeggeHarRettFormField.dekningsgrad}\n                                tilgjengeligeStønadskontoer={tilgjengeligeStønadskontoer}\n                                erDeltUttak={true}\n                            />\n                        </Block>\n                        <Block padBottom=\"xl\" visible={formValues.dekningsgrad !== ''}>\n                            {tilgjengeligeDager && (\n                                <TilgjengeligeDagerGraf\n                                    erDeltUttak={true}\n                                    erFarEllerMedmor={true}\n                                    navnFarMedmor={navnFar}\n                                    navnMor={navnMor}\n                                    tilgjengeligeDager={tilgjengeligeDager}\n                                />\n                            )}\n                        </Block>\n                        <Block\n                            padBottom=\"xl\"\n                            visible={\n                                erFarEllerMedmor &&\n                                formValues.dekningsgrad !== '' &&\n                                !andreAugust2022ReglerGjelder(ISOStringToDate(familiehendelsesdato)!)\n                            }\n                        >\n                            <GuidePanel>\n                                <FormattedMessage\n                                    id=\"uttaksplaninfo.veileder.farMedmor.infoOmTidsromMellomMorsSisteDagOgFarsFørsteDag\"\n                                    values={{ navnMor }}\n                                />\n                            </GuidePanel>\n                        </Block>\n                        <Block\n                            padBottom=\"xl\"\n                            visible={visibility.isVisible(FarMedmorFødselBeggeHarRettFormField.morsSisteDag)}\n                        >\n                            <MorsSisteDagSpørsmål\n                                FormComponents={FarMedmorFødselBeggeHarRettFormComponents}\n                                fieldName={FarMedmorFødselBeggeHarRettFormField.morsSisteDag}\n                                navnMor={navnMor}\n                                familiehendelsesdato={familiehendelsesdato}\n                            />\n                        </Block>\n                        <Block\n                            padBottom=\"xl\"\n                            visible={visibility.isVisible(FarMedmorFødselBeggeHarRettFormField.farMedmorsFørsteDag)}\n                        >\n                            <FarMedmorsFørsteDag\n                                FormComponents={FarMedmorFødselBeggeHarRettFormComponents}\n                                fieldName={FarMedmorFødselBeggeHarRettFormField.farMedmorsFørsteDag}\n                                familiehendelsesdato={familiehendelsesdatoDate!}\n                                setFieldValue={setFieldValue}\n                                morsSisteDag={ISOStringToDate(formValues.morsSisteDag)}\n                                navnMor={navnMor}\n                                termindato={termindato}\n                                situasjon={søkersituasjon.situasjon}\n                                morHarRettTilForeldrepengerIEØS={false}\n                            />\n                        </Block>\n                        <Block\n                            padBottom=\"xl\"\n                            visible={visibility.isVisible(\n                                FarMedmorFødselBeggeHarRettFormField.antallDagerFellesperiode\n                            )}\n                        >\n                            {tilgjengeligeDager && (\n                                <AntallUkerOgDagerFellesperiodeFarMedmorSpørsmål\n                                    FormComponents={FarMedmorFødselBeggeHarRettFormComponents}\n                                    ukerFieldName={FarMedmorFødselBeggeHarRettFormField.antallUkerFellesperiode}\n                                    dagerFieldName={FarMedmorFødselBeggeHarRettFormField.antallDagerFellesperiode}\n                                    antallDager={formValues.antallDagerFellesperiode!}\n                                    antallUker={formValues.antallUkerFellesperiode!}\n                                    setFieldValue={setFieldValue}\n                                    ukerMedFellesperiode={tilgjengeligeDager.dagerFelles / 5}\n                                />\n                            )}\n                        </Block>\n                        <Block>\n                            <StepButtonWrapper>\n                                <Button variant=\"secondary\" as={Link} to={getPreviousStepHref('uttaksplanInfo')}>\n                                    <FormattedMessage id=\"backlink.label\" />\n                                </Button>\n                                {visibility.areAllQuestionsAnswered() && (\n                                    <Button type=\"submit\" disabled={isSubmitting} loading={isSubmitting}>\n                                        {intlUtils(intl, 'søknad.gåVidere')}\n                                    </Button>\n                                )}\n                            </StepButtonWrapper>\n                        </Block>\n                    </FarMedmorFødselBeggeHarRettFormComponents.Form>\n                );\n            }}\n        />\n    );\n};\n\nexport default FarMedmorFødselFørsteganggsøknadBeggeHarRett;\n","import { Periode, isUttaksperiode } from 'uttaksplan/types/Periode';\nimport { Dekningsgrad } from 'app/types/Dekningsgrad';\nimport { finnAntallDagerÅTrekke } from './uttaksPlanStatus';\n\nexport const getFlerbarnsuker = (dekningsgrad: string, antallBarn: number): number => {\n    if (antallBarn === 2) {\n        if (dekningsgrad === Dekningsgrad.HUNDRE_PROSENT) {\n            return 17;\n        } else {\n            return 21;\n        }\n    } else {\n        if (dekningsgrad === Dekningsgrad.HUNDRE_PROSENT) {\n            return 46;\n        } else {\n            return 56;\n        }\n    }\n};\n\nexport const uttaksplanHarForMangeFlerbarnsdager = (\n    uttaksplan: Periode[],\n    dekningsgrad: Dekningsgrad,\n    antallBarn: number\n) => {\n    const result: number = uttaksplan\n        .slice()\n        .filter((periode) => isUttaksperiode(periode) && periode.ønskerFlerbarnsdager === true)\n        .reduce((sum: number, periode: Periode) => {\n            if (isUttaksperiode(periode)) {\n                return finnAntallDagerÅTrekke(periode) + sum;\n            } else {\n                return sum;\n            }\n        }, 0);\n\n    return result > getFlerbarnsuker(dekningsgrad, antallBarn) * 5;\n};\n","import { getTypedFormComponents } from '@navikt/sif-common-formik-ds/lib';\n\nexport enum MorFødselFormField {\n    dekningsgrad = 'dekningsgrad',\n    permisjonStartdato = 'permisjonStartdato',\n    skalIkkeHaUttakFørTermin = 'skalIkkeHaUttakFørTermin',\n    fellesperiodeukerMor = 'fellesperiodeukerMor',\n}\n\nexport interface MorFødselFormData {\n    [MorFødselFormField.dekningsgrad]: string;\n    [MorFødselFormField.permisjonStartdato]: string;\n    [MorFødselFormField.skalIkkeHaUttakFørTermin]: boolean;\n    [MorFødselFormField.fellesperiodeukerMor]: number | undefined;\n}\n\nexport const MorFødselFormComponents = getTypedFormComponents<MorFødselFormField, MorFødselFormData>();\n","import { MorFødselUttaksplanInfo } from 'app/context/types/UttaksplanInfo';\nimport { Dekningsgrad } from 'app/types/Dekningsgrad';\nimport { MorFødselFormData, MorFødselFormField } from './morFødselFormConfig';\nimport { dateToISOString } from '@navikt/sif-common-formik-ds/lib';\n\nconst initialMorFødselValues: MorFødselFormData = {\n    [MorFødselFormField.dekningsgrad]: '',\n    [MorFødselFormField.permisjonStartdato]: '',\n    [MorFødselFormField.skalIkkeHaUttakFørTermin]: false,\n    [MorFødselFormField.fellesperiodeukerMor]: undefined,\n};\n\nexport const mapMorFødselFormToState = (values: Partial<MorFødselFormData>): MorFødselUttaksplanInfo => {\n    return {\n        permisjonStartdato: values.permisjonStartdato!,\n        skalIkkeHaUttakFørTermin: values.skalIkkeHaUttakFørTermin!,\n        fellesperiodeukerMor: values.fellesperiodeukerMor,\n    };\n};\n\nexport const getInitialMorFødselValues = (\n    defaultPermisjonStartdato: Date,\n    lagretUttaksplanInfo: MorFødselUttaksplanInfo | undefined,\n    dekningsgrad: Dekningsgrad\n): MorFødselFormData => {\n    if (lagretUttaksplanInfo) {\n        return {\n            ...lagretUttaksplanInfo,\n            [MorFødselFormField.dekningsgrad]: dekningsgrad,\n        };\n    }\n\n    return {\n        ...initialMorFødselValues,\n        [MorFødselFormField.permisjonStartdato]: dateToISOString(defaultPermisjonStartdato),\n    };\n};\n","import { intlUtils } from '@navikt/fp-common';\nimport dayjs from 'dayjs';\nimport { IntlShape } from 'react-intl';\nimport uttaksConstants from 'app/constants';\nimport { Uttaksdagen } from '../../../../utils/Uttaksdagen';\nimport { uttaksplanDatoavgrensninger } from '../../../../utils/uttaksplanDatoavgrensninger';\nimport { ISOStringToDate } from 'app/utils/dateUtils';\nimport { isISODateString } from '@navikt/ds-datepicker';\nimport { dateToISOString } from '@navikt/sif-common-formik-ds/lib';\n\nexport const validateErStartdatoFørTermindato =\n    (intl: IntlShape, familiehendelsedato: Date, skalIkkeHaUttakFørTermin: boolean) => (permisjonStartdato: string) => {\n        if (!(permisjonStartdato === undefined && skalIkkeHaUttakFørTermin)) {\n            if (!isISODateString(permisjonStartdato)) {\n                return intlUtils(intl, 'valideringsfeil.uttaksplaninfo.startdatoPermisjon.gyldigDato');\n            }\n        }\n\n        if (permisjonStartdato !== undefined && !Uttaksdagen(ISOStringToDate(permisjonStartdato)!).erUttaksdag()) {\n            return intlUtils(intl, 'valideringsfeil.uttaksplaninfo.startdatoHelg');\n        }\n\n        if (!skalIkkeHaUttakFørTermin) {\n            const avgrensninger = uttaksplanDatoavgrensninger.startdatoFørTermin(dateToISOString(familiehendelsedato));\n            if (\n                (avgrensninger.minDate &&\n                    avgrensninger.maxDate &&\n                    dayjs(permisjonStartdato).isBefore(avgrensninger.minDate, 'day')) ||\n                dayjs(permisjonStartdato).isAfter(avgrensninger.maxDate, 'day')\n            ) {\n                return intlUtils(intl, 'valideringsfeil.uttaksplaninfo.startdatoUtenforGyldigTidsrom', {\n                    uker: uttaksConstants.MAKS_ANTALL_UKER_FORELDREPENGER_FØR_FØDSEL,\n                });\n            }\n        }\n\n        return undefined;\n    };\n","import * as React from 'react';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport dayjs from 'dayjs';\nimport { Block, intlUtils } from '@navikt/fp-common';\nimport { formaterDato, getVarighetString } from 'app/utils/dateUtils';\nimport { Uttaksdagen } from '../../../utils/Uttaksdagen';\nimport { GuidePanel } from '@navikt/ds-react';\n\ntype ugyldigStartdatoÅrsak = undefined | 'helgedag' | 'fortidlig';\n\nexport interface Props {\n    startdato: Date | undefined;\n    antallDager: number;\n    antallDagerFørFødselIhtRegler: number;\n    skalIkkeHaUttakFørTermin: boolean | undefined;\n    førsteMuligeStartdato: Date | undefined;\n    visKunFeil?: boolean;\n}\n\nexport const getÅrsakDersomUgyldigStartdato = (\n    startdato: Date | undefined,\n    førsteMuligeStartdato: Date | undefined\n): ugyldigStartdatoÅrsak => {\n    if (startdato === undefined) {\n        return;\n    }\n    if (Uttaksdagen(startdato).erUttaksdag() === false) {\n        return 'helgedag';\n    } else if (førsteMuligeStartdato && dayjs(startdato).isBefore(førsteMuligeStartdato, 'day')) {\n        return 'fortidlig';\n    }\n\n    return undefined;\n};\n\nconst VeilederStartdatoPermisjon: React.FunctionComponent<Props> = ({\n    startdato,\n    antallDager,\n    antallDagerFørFødselIhtRegler,\n    skalIkkeHaUttakFørTermin,\n    førsteMuligeStartdato,\n    visKunFeil,\n}) => {\n    const intl = useIntl();\n\n    const ugyldigDatoÅrsak = startdato && getÅrsakDersomUgyldigStartdato(startdato, førsteMuligeStartdato);\n\n    const msg = React.useMemo(() => {\n        if (ugyldigDatoÅrsak && førsteMuligeStartdato) {\n            return ugyldigDatoÅrsak === 'fortidlig'\n                ? intlUtils(intl, 'uttaksplaninfo.veileder.forTidligStartdato', {\n                      dato: formaterDato(førsteMuligeStartdato),\n                  })\n                : intlUtils(intl, 'uttaksplaninfo.veileder.helgedag');\n        }\n        if (visKunFeil) {\n            return undefined;\n        }\n        if (skalIkkeHaUttakFørTermin === true) {\n            return <FormattedMessage id=\"uttaksplaninfo.informasjon.foreldrepengerFørFødselSkalIkkeHa\" />;\n        } else if (antallDager < antallDagerFørFødselIhtRegler) {\n            return (\n                <FormattedMessage\n                    id=\"uttaksplaninfo.informasjon.foreldrepengerFørFødselMindreEnnTreUker\"\n                    values={{\n                        varighet: getVarighetString(antallDagerFørFødselIhtRegler - antallDager, intl),\n                    }}\n                />\n            );\n        } else if (antallDager > antallDagerFørFødselIhtRegler) {\n            return (\n                <FormattedMessage\n                    id=\"uttaksplaninfo.informasjon.foreldrepengerFørFødselMerEnnTreUker\"\n                    values={{\n                        varighet: getVarighetString(antallDager - antallDagerFørFødselIhtRegler, intl),\n                    }}\n                />\n            );\n        }\n        return undefined;\n    }, [\n        ugyldigDatoÅrsak,\n        antallDager,\n        antallDagerFørFødselIhtRegler,\n        førsteMuligeStartdato,\n        intl,\n        skalIkkeHaUttakFørTermin,\n        visKunFeil,\n    ]);\n\n    return (\n        <Block margin=\"none\" visible={msg !== undefined}>\n            <GuidePanel>{msg}</GuidePanel>\n        </Block>\n    );\n};\n\nexport default VeilederStartdatoPermisjon;\n","import { FunctionComponent } from 'react';\nimport { IntlShape, useIntl } from 'react-intl';\nimport dayjs from 'dayjs';\nimport { Block, intlUtils, bemUtils } from '@navikt/fp-common';\nimport { MorFødselFormComponents, MorFødselFormField } from './morFødselFormConfig';\nimport useSøknad from 'app/utils/hooks/useSøknad';\nimport { isFødtBarn } from 'app/context/types/Barn';\nimport { Tidsperioden, getValidTidsperiode } from 'app/steps/uttaksplan-info/utils/Tidsperioden';\nimport uttaksConstants from 'app/constants';\nimport { Uttaksdagen } from 'app/steps/uttaksplan-info/utils/Uttaksdagen';\nimport { getFamiliehendelsedato } from 'app/utils/barnUtils';\nimport { validateErStartdatoFørTermindato } from './validation/morFodselValidering';\nimport VeilederStartdatoPermisjon from './VeilederStartdatoPermisjon';\nimport { uttaksplanDatoavgrensninger } from 'app/steps/uttaksplan-info/utils/uttaksplanDatoavgrensninger';\nimport { getVarighetString, ISOStringToDate } from 'app/utils/dateUtils';\n\nimport './startdatoPermisjonMor.less';\n\nconst getVarighetForStartdato = (antallDager: number, barnetErFødt: boolean, intl: IntlShape): string | undefined =>\n    antallDager > 0\n        ? barnetErFødt\n            ? intlUtils(intl, 'uttaksplaninfo.spørsmål.startdatoPermisjon.barnetErFødt.varighet', {\n                  varighet: getVarighetString(antallDager, intl),\n              })\n            : intlUtils(intl, 'uttaksplaninfo.spørsmål.startdatoPermisjon.varighet', {\n                  varighet: getVarighetString(antallDager, intl),\n              })\n        : undefined;\n\ninterface Props {\n    permisjonStartdato: string;\n    skalIkkeHaUttakFørTermin: boolean;\n}\n\nconst StartdatoPermisjonMor: FunctionComponent<Props> = ({ permisjonStartdato, skalIkkeHaUttakFørTermin }) => {\n    const intl = useIntl();\n    const { barn } = useSøknad();\n    const bem = bemUtils('datoInput');\n\n    const erBarnFødt = isFødtBarn(barn);\n    const spørsmålNår = erBarnFødt\n        ? intlUtils(intl, 'uttaksplaninfo.spørsmål.startdatoPermisjon.barnetErFødt.label')\n        : intlUtils(intl, 'uttaksplaninfo.spørsmål.startdatoPermisjon.label');\n\n    const spørsmålHaddeIkke = erBarnFødt\n        ? intlUtils(intl, 'uttaksplaninfo.spørsmål.startdatoPermisjon.skalIkkeHaUttak.barnetErFødt.label')\n        : intlUtils(intl, 'uttaksplaninfo.spørsmål.startdatoPermisjon.skalIkkeHaUttak.label');\n\n    const familiehendelsesdato = getFamiliehendelsedato(barn);\n    const familiehendelsesdatoDate = dayjs(familiehendelsesdato).toDate();\n    const sisteUttaksdagFørTermin = Uttaksdagen(familiehendelsesdatoDate).forrige();\n    const startdato = skalIkkeHaUttakFørTermin !== true ? permisjonStartdato : undefined;\n    const tidsperiode = getValidTidsperiode({\n        fom: ISOStringToDate(startdato)!,\n        tom: sisteUttaksdagFørTermin,\n    });\n    const antallDager = tidsperiode ? Tidsperioden(tidsperiode).getAntallUttaksdager() : 0;\n    const antallDagerFørFødselIhtRegler = uttaksConstants.ANTALL_UKER_FORELDREPENGER_FØR_FØDSEL * 5;\n    const visVeileder = antallDager !== antallDagerFørFødselIhtRegler;\n\n    const datoAvgrensninger = uttaksplanDatoavgrensninger.startdatoFørTermin(familiehendelsesdato);\n    const maksDato = Uttaksdagen(familiehendelsesdatoDate).forrige();\n\n    return (\n        <>\n            <Block padBottom=\"l\">\n                <div className={bem.block}>\n                    <MorFødselFormComponents.DatePicker\n                        name={MorFødselFormField.permisjonStartdato}\n                        label={spørsmålNår}\n                        disabled={skalIkkeHaUttakFørTermin}\n                        maxDate={maksDato}\n                        dayPickerProps={{\n                            defaultMonth: ISOStringToDate(permisjonStartdato) || familiehendelsesdatoDate,\n                        }}\n                        validate={validateErStartdatoFørTermindato(\n                            intl,\n                            familiehendelsesdatoDate,\n                            skalIkkeHaUttakFørTermin\n                        )}\n                        disableWeekend\n                        placeholder={'dd.mm.åååå'}\n                    />\n                    <div className={bem.element('postfix')}>\n                        {getVarighetForStartdato(antallDager, erBarnFødt, intl)}\n                    </div>\n                </div>\n            </Block>\n            <Block padBottom={visVeileder ? 'l' : 'm'}>\n                <MorFødselFormComponents.Checkbox\n                    name={MorFødselFormField.skalIkkeHaUttakFørTermin}\n                    label={spørsmålHaddeIkke}\n                    autoComplete=\"off\"\n                />\n            </Block>\n            <Block padBottom={visVeileder ? 'l' : 'm'} visible={visVeileder}>\n                <VeilederStartdatoPermisjon\n                    startdato={ISOStringToDate(startdato)}\n                    antallDager={antallDager}\n                    skalIkkeHaUttakFørTermin={skalIkkeHaUttakFørTermin === true}\n                    antallDagerFørFødselIhtRegler={antallDagerFørFødselIhtRegler}\n                    førsteMuligeStartdato={datoAvgrensninger.minDate ? new Date(datoAvgrensninger.minDate) : undefined}\n                />\n            </Block>\n        </>\n    );\n};\n\nexport default StartdatoPermisjonMor;\n","import * as React from 'react';\nimport RangeIcon from './RangeIcon';\nimport Sirkelknapp from './sirkelknapp/Sirkelknapp';\n\nimport './rangeStepper.less';\n\nexport type Direction = 'next' | 'previous';\n\nexport interface Props {\n    onClick: () => void;\n    direction: Direction;\n    label: string;\n    disabled?: boolean;\n}\n\nconst RangeStepper: React.FunctionComponent<Props> = ({ direction, onClick, label, disabled }) => (\n    <Sirkelknapp\n        stil=\"hvit\"\n        onClick={() => onClick()}\n        ariaLabel={label}\n        disabled={disabled}\n        ikon={direction === 'previous' ? <RangeIcon type=\"minus\" /> : <RangeIcon type=\"plus\" />}\n    />\n);\n\nexport default RangeStepper;\n","import classnames from 'classnames';\nimport { bemUtils, guid } from '@navikt/fp-common';\nimport Fieldset from 'app/components/fieldset/Fieldset';\nimport AriaText from './AriaText';\nimport RangeStepper from './RangeStepper';\nimport { BodyShort, ReadMore } from '@navikt/ds-react';\nimport './rangeInput.less';\nimport { Component } from 'react';\n\nexport interface RangeInputElementRendererOptions {\n    value: number;\n    min: number;\n    max: number;\n}\n\nexport type RangeInputElementRenderer = (options: RangeInputElementRendererOptions) => React.ReactElement<any>;\n\nexport type RangeValueLabelPlacement = 'above' | 'below';\n\ninterface Props {\n    label: string;\n    hjelpetekst?: React.ReactNode;\n    ariaLabelText: string;\n    hjelpetekstApneLabel: string;\n    value: number;\n    min: number;\n    max: number;\n    step?: number;\n    inputId?: string;\n    bottomContentRenderer?: RangeInputElementRenderer;\n    valueLabelRenderer?: RangeInputElementRenderer;\n    valueLabelPlacement?: RangeValueLabelPlacement;\n    ariaValueChangedMessage?: (value: number) => string;\n    steppers?: {\n        increaseLabel: string;\n        reduceLabel: string;\n    };\n    onChange: (value: number) => void;\n}\n\ninterface State {\n    active: boolean;\n}\n\nconst defaultValueLabelRenderer: RangeInputElementRenderer = (options: RangeInputElementRendererOptions) => (\n    <div className=\"rangeInput__valueLabels\">\n        <div className=\"rangeInput__valueLabels__left\">{options.min}</div>\n        <div className=\"rangeInput__valueLabels__right\">{options.max}</div>\n    </div>\n);\n\nconst defaultBottomContentRenderer: RangeInputElementRenderer = (options: RangeInputElementRendererOptions) => (\n    <div className=\"rangeInput__bottomContent\">\n        <BodyShort>{options.max - options.min}</BodyShort>\n    </div>\n);\n\nclass RangeInput extends Component<Props, State> {\n    container: HTMLDivElement | null = null;\n\n    constructor(props: Props) {\n        super(props);\n        this.handleBlur = this.handleBlur.bind(this);\n        this.handleFocus = this.handleFocus.bind(this);\n        this.deactivateIfOutside = this.deactivateIfOutside.bind(this);\n        this.state = {\n            active: false,\n        };\n    }\n    handleBlur(_e: React.FocusEvent<HTMLDivElement>) {\n        if (!this.container) {\n            return;\n        }\n        setTimeout(() => this.deactivateIfOutside(), 0);\n    }\n    handleFocus(_e: React.FocusEvent<HTMLDivElement>) {\n        this.setState({\n            active: true,\n        });\n    }\n    deactivateIfOutside() {\n        if (\n            this.container &&\n            window.document.activeElement &&\n            !this.container.contains(window.document.activeElement)\n        ) {\n            this.setState({\n                active: false,\n            });\n        }\n    }\n    render() {\n        const {\n            label,\n            hjelpetekst,\n            ariaLabelText,\n            inputId,\n            valueLabelRenderer,\n            steppers,\n            ariaValueChangedMessage,\n            bottomContentRenderer,\n            hjelpetekstApneLabel,\n            valueLabelPlacement = 'above',\n            ...rest\n        } = this.props;\n\n        const { value, min, max, onChange } = this.props;\n        const id = inputId || guid();\n        const labelRenderer = valueLabelRenderer || defaultValueLabelRenderer;\n        const ariaLabelId = `${id}_label`;\n        const bottomRenderer = bottomContentRenderer || defaultBottomContentRenderer;\n\n        const bemWrapper = bemUtils('rangeInputWrapper');\n        const bemRangeInput = bemUtils('rangeInput');\n        const bemStepper = bemUtils('rangeInput__stepper');\n\n        return (\n            <div className={bemWrapper.block}>\n                <Fieldset legend={<>{label}</>} className={'uttakfordeler'}>\n                    <div aria-live=\"polite\">\n                        {valueLabelPlacement === 'above' && labelRenderer({ value, min, max })}\n                    </div>\n                    <div\n                        className={classnames(bemRangeInput.block, {\n                            [bemRangeInput.modifier('withSteppers')]: steppers !== undefined,\n                        })}\n                        ref={(c) => (this.container = c)}\n                        onBlur={this.handleBlur}\n                        onFocus={this.handleFocus}\n                    >\n                        {steppers && (\n                            <div className={`${bemStepper.block} ${bemStepper.modifier('previous')}`}>\n                                <RangeStepper\n                                    direction=\"previous\"\n                                    onClick={() => (value > min ? onChange(value - 1) : null)}\n                                    label={steppers ? steppers.reduceLabel : 'Mindre'}\n                                />\n                            </div>\n                        )}\n                        <div className={bemRangeInput.element('range')}>\n                            <AriaText id={ariaLabelId}>{ariaLabelText}</AriaText>\n                            <input\n                                {...rest}\n                                id={id}\n                                aria-labelledby={ariaLabelId}\n                                type=\"range\"\n                                onChange={(e) => onChange(parseInt(e.target.value, 10))}\n                            />\n                            <div role=\"alert\" aria-live=\"assertive\" className=\"sr-only\">\n                                {ariaValueChangedMessage && this.state.active\n                                    ? ariaValueChangedMessage(value)\n                                    : undefined}\n                            </div>\n                        </div>\n                        {steppers && (\n                            <div className={`${bemStepper.block} ${bemStepper.modifier('next')}`}>\n                                <RangeStepper\n                                    direction=\"next\"\n                                    onClick={() => (value < max ? onChange(value + 1) : null)}\n                                    label={steppers ? steppers.increaseLabel : 'Mer'}\n                                />\n                            </div>\n                        )}\n                    </div>\n                    <div aria-live=\"polite\">\n                        {valueLabelPlacement === 'below' && labelRenderer({ value, min, max })}\n                    </div>\n                    {bottomRenderer({ value, min, max })}\n                    <ReadMore header={hjelpetekstApneLabel}>{hjelpetekst}</ReadMore>\n                </Fieldset>\n            </div>\n        );\n    }\n}\n\nexport default RangeInput;\n","import { useEffect } from 'react';\nimport { useIntl, FormattedMessage } from 'react-intl';\nimport { Block, intlUtils } from '@navikt/fp-common';\nimport lenker from 'app/links/links';\nimport RangeInput from './range-input/RangeInput';\nimport { TilgjengeligStønadskonto } from 'app/types/TilgjengeligStønadskonto';\nimport {\n    getAntallUkerFedrekvote,\n    getAntallUkerFellesperiode,\n    getAntallUkerMødrekvote,\n} from '../../utils/stønadskontoer';\nimport { BodyShort, Ingress, Link } from '@navikt/ds-react';\n\nimport './fordelingFellesperiodeSpørsmål.less';\n\nexport interface OwnProps {\n    setFieldValue: (field: string, value: any, shouldValidate?: boolean | undefined) => void;\n    valgtFellesperiodeukerMor: number | undefined;\n    mor: string;\n    farMedmor: string;\n    annenForelderErFarEllerMedmor: boolean;\n    valgtStønadskonto: TilgjengeligStønadskonto[] | undefined;\n}\n\nconst FordelingFellesperiodeSpørsmål: React.FunctionComponent<OwnProps> = ({\n    setFieldValue,\n    valgtFellesperiodeukerMor,\n    annenForelderErFarEllerMedmor,\n    mor,\n    farMedmor,\n    valgtStønadskonto,\n}) => {\n    const intl = useIntl();\n\n    const fellesperiodeukerMor =\n        valgtFellesperiodeukerMor !== undefined || !valgtStønadskonto\n            ? valgtFellesperiodeukerMor\n            : Math.round((getAntallUkerFellesperiode(valgtStønadskonto) || 0) / 2);\n\n    useEffect(() => {\n        setFieldValue('fellesperiodeukerMor', fellesperiodeukerMor);\n    }, [setFieldValue, fellesperiodeukerMor]);\n\n    if (!valgtStønadskonto) {\n        return null;\n    }\n\n    const ukerFellesperiode = Math.floor(getAntallUkerFellesperiode(valgtStønadskonto));\n    const antallUkerFedreKvote = getAntallUkerFedrekvote(valgtStønadskonto);\n    const antallUkerMødreKvote = getAntallUkerMødrekvote(valgtStønadskonto);\n\n    const infotekst = intlUtils(intl, 'uttaksplaninfo.fordeling.veiledning', {\n        pakrevdForelder1: antallUkerMødreKvote,\n        pakrevdForelder2: antallUkerFedreKvote,\n        navnForelder1: mor,\n        navnForelder2: farMedmor,\n    });\n\n    const annenForeldersNavn = annenForelderErFarEllerMedmor ? farMedmor : mor;\n    return (\n        <RangeInput\n            label={intlUtils(intl, 'uttaksplaninfo.spørsmål.fordeling')}\n            hjelpetekst={\n                <BodyShort as=\"div\">\n                    <Block padBottom=\"l\">{infotekst}</Block>\n                    <Link href={lenker.nav_aktivitetskrav} target=\"_blank\">\n                        <FormattedMessage id=\"uttaksplaninfo.fordeling.veiledning.lenketekst\" />\n                    </Link>\n                </BodyShort>\n            }\n            hjelpetekstApneLabel={intlUtils(intl, 'uttaksplaninfo.fordeling.veiledning.lenketekst.apneLabel')}\n            ariaLabelText={intlUtils(intl, 'uttaksplaninfo.spørsmål.fordeling')}\n            value={fellesperiodeukerMor!}\n            min={0}\n            max={ukerFellesperiode}\n            onChange={(fellesperiodeukerMor) => setFieldValue('fellesperiodeukerMor', fellesperiodeukerMor)}\n            steppers={{\n                reduceLabel: intl.formatMessage({ id: 'uttaksplaninfo.fordeling.reduser.tooltip' }),\n                increaseLabel: intl.formatMessage({ id: 'uttaksplaninfo.fordeling.øk.tooltip' }),\n            }}\n            ariaValueChangedMessage={(value) =>\n                intl.formatMessage(\n                    { id: 'uttaksplaninfo.fordeling.valgtVerdi' },\n                    {\n                        ukerForelder: value,\n                        ukerTotalt: ukerFellesperiode,\n                        navnForelder: mor || intl.formatMessage({ id: 'uttaksplan.mor' }),\n                    }\n                )\n            }\n            valueLabelRenderer={(options) => (\n                <Ingress as=\"p\" className=\"m-text-center fordelingFellesperiode--valgtVerdi\">\n                    <FormattedMessage\n                        id=\"uttaksplaninfo.fordeling.valgtVerdi\"\n                        values={{\n                            ukerForelder: options.value,\n                            ukerTotalt: options.max,\n                            navnForelder: mor || intl.formatMessage({ id: 'uttaksplan.mor' }),\n                        }}\n                    />\n                </Ingress>\n            )}\n            valueLabelPlacement=\"above\"\n            bottomContentRenderer={(options) => (\n                <BodyShort className=\"m-text-center fordelingFellesperiode--bottomContent\">\n                    <FormattedMessage\n                        id=\"uttaksplaninfo.fordeling.annenForeldersFellesperiode\"\n                        values={{ annenForeldersNavn, antallUker: options.max - options.value }}\n                    />\n                </BodyShort>\n            )}\n        />\n    );\n};\n\nexport default FordelingFellesperiodeSpørsmål;\n","import { QuestionConfig, Questions } from '@navikt/sif-common-question-config';\nimport { hasValue } from '@navikt/fp-common';\nimport { MorFødselFormData, MorFødselFormField } from './morFødselFormConfig';\n\nexport interface MorFødselQuestionsPayload extends MorFødselFormData {\n    harRettPåForeldrepengerINorge: boolean | undefined;\n    erAleneOmOmsorg: boolean | undefined;\n}\n\nconst MorFødselFormConfig: QuestionConfig<MorFødselQuestionsPayload, MorFødselFormField> = {\n    [MorFødselFormField.dekningsgrad]: {\n        isAnswered: ({ dekningsgrad }) => hasValue(dekningsgrad),\n        isIncluded: () => true,\n    },\n    [MorFødselFormField.permisjonStartdato]: {\n        isAnswered: ({ permisjonStartdato }) => hasValue(permisjonStartdato),\n        isIncluded: () => true,\n        visibilityFilter: ({ dekningsgrad }) => hasValue(dekningsgrad),\n    },\n    [MorFødselFormField.skalIkkeHaUttakFørTermin]: {\n        isAnswered: ({ skalIkkeHaUttakFørTermin }) => hasValue(skalIkkeHaUttakFørTermin),\n        isIncluded: () => true,\n        visibilityFilter: ({ dekningsgrad }) => hasValue(dekningsgrad),\n    },\n    [MorFødselFormField.fellesperiodeukerMor]: {\n        isAnswered: ({ fellesperiodeukerMor }) => hasValue(fellesperiodeukerMor),\n        isIncluded: ({ harRettPåForeldrepengerINorge, erAleneOmOmsorg }) =>\n            !!harRettPåForeldrepengerINorge && erAleneOmOmsorg === false,\n        visibilityFilter: ({ dekningsgrad, permisjonStartdato, skalIkkeHaUttakFørTermin }) =>\n            hasValue(dekningsgrad) && (hasValue(permisjonStartdato) || skalIkkeHaUttakFørTermin === true),\n    },\n};\n\nexport const morFødselQuestionsConfig = Questions<MorFødselQuestionsPayload, MorFødselFormField>(MorFødselFormConfig);\n","import { Situasjon } from 'app/types/Situasjon';\nimport dayjs from 'dayjs';\n\nexport const skalViseInfoOmPrematuruker = (\n    fødselsdato: Date | undefined,\n    termindato: Date | undefined,\n    situasjon: Situasjon\n): boolean => {\n    if (fødselsdato === undefined || termindato === undefined || situasjon !== 'fødsel') {\n        return false;\n    }\n    const fødselsdatoEtterEllerLikFørsteJuli = dayjs(fødselsdato).isSameOrAfter(dayjs(new Date('2019-07-01')), 'day');\n    return (\n        dayjs(fødselsdato).add(7, 'weeks').add(3, 'days').isBefore(dayjs(termindato), 'days') &&\n        fødselsdatoEtterEllerLikFørsteJuli\n    );\n};\n","import { isUttaksperiode, Periode } from 'uttaksplan/types/Periode';\n\ninterface HarAktivitetskravIPeriodeUtenUttakParams {\n    erDeltUttak: boolean;\n    morHarRett: boolean;\n    søkerErAleneOmOmsorg: boolean;\n}\n\nexport const getHarAktivitetskravIPeriodeUtenUttak = ({\n    erDeltUttak,\n    morHarRett,\n    søkerErAleneOmOmsorg,\n}: HarAktivitetskravIPeriodeUtenUttakParams) => {\n    return !erDeltUttak && !morHarRett && !søkerErAleneOmOmsorg;\n};\n\nexport const uttaksplanInneholderPerioderUtenKonto = (uttaksplan: Periode[]): boolean => {\n    return uttaksplan.find((periode) => isUttaksperiode(periode) && periode.konto === undefined) !== undefined;\n};\n","import {\n    finnOgSettInnHull,\n    normaliserPerioder,\n    settInnAnnenPartsUttak,\n} from 'uttaksplan/builder/uttaksplanbuilderUtils';\nimport { isUttakAnnenPart, isUttaksperiode, Periode } from 'uttaksplan/types/Periode';\nimport { Periodene } from './Periodene';\n\nexport const leggTilAnnenPartsPerioderISøkerenesUttaksplan = (\n    annenPartsPerioder: Periode[],\n    uttaksplan: Periode[],\n    familiehendelsedato: Date,\n    harAktivitetskravIPeriodeUtenUttak: boolean,\n    erAdopsjon: boolean,\n    bareFarHarRett: boolean,\n    erFarEllerMedmor: boolean,\n    førsteUttaksdagNesteBarnsSak: Date | undefined\n): Periode[] => {\n    const { normaliserteEgnePerioder, normaliserteAnnenPartsPerioder } = normaliserPerioder(\n        uttaksplan,\n        annenPartsPerioder\n    );\n\n    if (normaliserteAnnenPartsPerioder.length > 0) {\n        normaliserteEgnePerioder.forEach((p) => {\n            if (isUttaksperiode(p)) {\n                const overlappendePerioderAnnenPart =\n                    Periodene(normaliserteAnnenPartsPerioder).finnOverlappendePerioder(p);\n                const overlappendePeriodeAnnenPart =\n                    overlappendePerioderAnnenPart.length > 0 ? overlappendePerioderAnnenPart[0] : undefined;\n\n                if (overlappendePeriodeAnnenPart !== undefined && isUttakAnnenPart(overlappendePeriodeAnnenPart)) {\n                    if (!p.ønskerSamtidigUttak) {\n                        p.ønskerSamtidigUttak = true;\n                        p.samtidigUttakProsent = '100';\n                    }\n                    if (!overlappendePeriodeAnnenPart.ønskerSamtidigUttak) {\n                        overlappendePeriodeAnnenPart.ønskerSamtidigUttak = true;\n                        overlappendePeriodeAnnenPart.samtidigUttakProsent = '100';\n                    }\n                }\n            }\n        });\n        return finnOgSettInnHull(\n            settInnAnnenPartsUttak(\n                normaliserteEgnePerioder,\n                normaliserteAnnenPartsPerioder,\n                familiehendelsedato,\n                førsteUttaksdagNesteBarnsSak\n            ),\n            harAktivitetskravIPeriodeUtenUttak,\n            familiehendelsedato,\n            erAdopsjon,\n            bareFarHarRett,\n            erFarEllerMedmor,\n            førsteUttaksdagNesteBarnsSak\n        );\n    }\n\n    return uttaksplan;\n};\n","import { FunctionComponent } from 'react';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport { Block, StepButtonWrapper, intlUtils } from '@navikt/fp-common';\nimport useSøknad from 'app/utils/hooks/useSøknad';\nimport actionCreator from 'app/context/action/actionCreator';\nimport { getFamiliehendelsedato, getFødselsdato, getTermindato } from 'app/utils/barnUtils';\nimport { getValgtStønadskontoFor80Og100Prosent } from 'app/utils/stønadskontoUtils';\nimport { isAnnenForelderOppgitt } from 'app/context/types/AnnenForelder';\nimport { TilgjengeligeStønadskontoerDTO } from 'app/types/TilgjengeligeStønadskontoerDTO';\nimport useSøkerinfo from 'app/utils/hooks/useSøkerinfo';\nimport { formaterNavn } from 'app/utils/personUtils';\nimport { getFlerbarnsuker } from '../../../utils/uttaksplanHarForMangeFlerbarnsuker';\nimport { MorFødselFormComponents, MorFødselFormData, MorFødselFormField } from './morFødselFormConfig';\nimport { getTilgjengeligeDager } from '../../tilgjengeligeDagerGraf/tilgjengeligeDagerUtils';\nimport TilgjengeligeDagerGraf from '../../tilgjengeligeDagerGraf/TilgjengeligeDagerGraf';\nimport { Tidsperioden } from '../../../utils/Tidsperioden';\nimport { getInitialMorFødselValues, mapMorFødselFormToState } from './morFødselUtils';\nimport StartdatoPermisjonMor from './StartdatoPermisjonMor';\nimport FordelingFellesperiodeSpørsmål from '../../fordelingFellesperiode/FordelingFellesperiodeSpørsmål';\nimport { Uttaksdagen } from 'app/steps/uttaksplan-info/utils/Uttaksdagen';\nimport uttaksConstants from 'app/constants';\nimport { Forelder } from 'app/types/Forelder';\nimport useOnValidSubmit from 'app/utils/hooks/useOnValidSubmit';\nimport SøknadRoutes from 'app/routes/routes';\nimport { MorFødselUttaksplanInfo } from 'app/context/types/UttaksplanInfo';\nimport { MorFødselQuestionsPayload, morFødselQuestionsConfig } from './morFødselQuestionsConfig';\nimport useUttaksplanInfo from 'app/utils/hooks/useUttaksplanInfo';\nimport DekningsgradSpørsmål from '../spørsmål/DekningsgradSpørsmål';\nimport { getDekningsgradFromString } from 'app/utils/getDekningsgradFromString';\nimport { lagUttaksplan } from 'app/utils/uttaksplan/lagUttaksplan';\nimport isFarEllerMedmor from 'app/utils/isFarEllerMedmor';\nimport { storeAppState } from 'app/utils/submitUtils';\nimport { ForeldrepengesøknadContextState } from 'app/context/ForeldrepengesøknadContextConfig';\nimport { ISOStringToDate } from 'app/utils/dateUtils';\nimport { getAntallUker } from 'app/steps/uttaksplan-info/utils/stønadskontoer';\nimport { skalViseInfoOmPrematuruker } from 'app/utils/uttaksplanInfoUtils';\nimport { EksisterendeSak } from 'app/types/EksisterendeSak';\nimport { getHarAktivitetskravIPeriodeUtenUttak } from 'app/utils/uttaksplan/uttaksplanUtils';\nimport { leggTilAnnenPartsPerioderISøkerenesUttaksplan } from 'app/steps/uttaksplan-info/utils/leggTilAnnenPartsPerioderISøkerensUttaksplan';\nimport { useForeldrepengesøknadContext } from 'app/context/hooks/useForeldrepengesøknadContext';\nimport { Button, GuidePanel } from '@navikt/ds-react';\nimport { Link } from 'react-router-dom';\nimport { getPreviousStepHref } from 'app/steps/stepsConfig';\n\ninterface Props {\n    tilgjengeligeStønadskontoer100DTO: TilgjengeligeStønadskontoerDTO;\n    tilgjengeligeStønadskontoer80DTO: TilgjengeligeStønadskontoerDTO;\n    eksisterendeSakFar: EksisterendeSak | undefined;\n}\n\nconst MorFødsel: FunctionComponent<Props> = ({\n    tilgjengeligeStønadskontoer100DTO,\n    tilgjengeligeStønadskontoer80DTO,\n    eksisterendeSakFar,\n}) => {\n    const intl = useIntl();\n    const { state } = useForeldrepengesøknadContext();\n    const {\n        annenForelder,\n        søkersituasjon,\n        barn,\n        søker: { erAleneOmOmsorg },\n        dekningsgrad,\n        erEndringssøknad,\n    } = useSøknad();\n    const {\n        person: { fornavn, mellomnavn, etternavn },\n    } = useSøkerinfo();\n    const lagretUttaksplanInfo = useUttaksplanInfo<MorFødselUttaksplanInfo>();\n\n    const antallBarn = barn.antallBarn;\n\n    const fødselsdato = getFødselsdato(barn);\n    const termindato = getTermindato(barn);\n    const visInfoOmPrematuruker = skalViseInfoOmPrematuruker(fødselsdato, termindato, søkersituasjon.situasjon);\n    const ekstraDagerGrunnetPrematurFødsel = visInfoOmPrematuruker\n        ? Tidsperioden({ fom: fødselsdato!, tom: termindato! }).getAntallUttaksdager() - 1\n        : undefined;\n    const førsteUttaksdagNesteBarnsSak =\n        state.barnFraNesteSak !== undefined ? state.barnFraNesteSak.startdatoFørsteStønadsperiode : undefined;\n    const oppgittAnnenForelder = isAnnenForelderOppgitt(annenForelder) ? annenForelder : undefined;\n    const erMorUfør = !!oppgittAnnenForelder?.erUfør;\n    const harRettPåForeldrepengerINorge = !!oppgittAnnenForelder?.harRettPåForeldrepengerINorge;\n    const navnFarMedmor = oppgittAnnenForelder\n        ? formaterNavn(oppgittAnnenForelder.fornavn, oppgittAnnenForelder.etternavn, true)\n        : '';\n\n    const navnMor = formaterNavn(fornavn, etternavn, true, mellomnavn);\n    const familiehendelsesdato = getFamiliehendelsedato(barn);\n    const førsteUttaksdag = Uttaksdagen(ISOStringToDate(familiehendelsesdato)!).denneEllerNeste();\n    const defaultPermisjonStartdato = Uttaksdagen(førsteUttaksdag).trekkFra(\n        uttaksConstants.ANTALL_UKER_FORELDREPENGER_FØR_FØDSEL * 5\n    );\n    const erFødsel = søkersituasjon.situasjon === 'fødsel';\n    const erAdopsjon = søkersituasjon.situasjon === 'adopsjon';\n    const erFarEllerMedmor = isFarEllerMedmor(søkersituasjon.rolle);\n\n    const erDeltUttak = isAnnenForelderOppgitt(annenForelder) ? !!annenForelder.harRettPåForeldrepengerINorge : false;\n\n    const tilgjengeligeStønadskontoer = getValgtStønadskontoFor80Og100Prosent(\n        tilgjengeligeStønadskontoer80DTO,\n        tilgjengeligeStønadskontoer100DTO\n    );\n    const familiehendelsesdatoDate = ISOStringToDate(familiehendelsesdato);\n\n    const onValidSubmitHandler = (values: Partial<MorFødselFormData>) => {\n        const submissionValues = mapMorFødselFormToState(values);\n        const uttaksplanforslag = lagUttaksplan({\n            annenForelderErUfør: erMorUfør,\n            erDeltUttak,\n            erEndringssøknad,\n            erEnkelEndringssøknad: erEndringssøknad,\n            familiehendelsesdato: familiehendelsesdatoDate!,\n            førsteUttaksdagEtterSeksUker: Uttaksdagen(Uttaksdagen(familiehendelsesdatoDate!).denneEllerNeste()).leggTil(\n                30\n            ),\n            situasjon: erFødsel ? 'fødsel' : 'adopsjon',\n            søkerErFarEllerMedmor: erFarEllerMedmor,\n            søkerHarMidlertidigOmsorg: false,\n            tilgjengeligeStønadskontoer: tilgjengeligeStønadskontoer[getDekningsgradFromString(values.dekningsgrad)],\n            uttaksplanSkjema: {\n                fellesperiodeukerMor: submissionValues.fellesperiodeukerMor,\n                startdatoPermisjon: submissionValues.skalIkkeHaUttakFørTermin\n                    ? undefined\n                    : submissionValues.permisjonStartdato,\n                skalIkkeHaUttakFørTermin: submissionValues.skalIkkeHaUttakFørTermin,\n            },\n            bareFarMedmorHarRett: false,\n            termindato,\n            harAktivitetskravIPeriodeUtenUttak: false,\n            førsteUttaksdagNesteBarnsSak,\n        });\n        const antallUker = getAntallUker(tilgjengeligeStønadskontoer[values.dekningsgrad! === '100' ? 100 : 80]);\n        const harAktivitetskravIPeriodeUtenUttak = getHarAktivitetskravIPeriodeUtenUttak({\n            erDeltUttak,\n            morHarRett: true,\n            søkerErAleneOmOmsorg: false,\n        });\n\n        let uttaksplanMedAnnenPart;\n\n        if (eksisterendeSakFar && uttaksplanforslag.length > 0) {\n            uttaksplanMedAnnenPart = leggTilAnnenPartsPerioderISøkerenesUttaksplan(\n                eksisterendeSakFar.uttaksplan,\n                uttaksplanforslag,\n                familiehendelsesdatoDate!,\n                harAktivitetskravIPeriodeUtenUttak,\n                erAdopsjon,\n                false,\n                false,\n                førsteUttaksdagNesteBarnsSak\n            );\n        } else if (eksisterendeSakFar) {\n            uttaksplanMedAnnenPart = eksisterendeSakFar.uttaksplan;\n        } else {\n            uttaksplanMedAnnenPart = uttaksplanforslag;\n        }\n        return [\n            actionCreator.setAntallUkerIUttaksplan(antallUker),\n            actionCreator.setUttaksplanInfo(submissionValues),\n            actionCreator.setDekningsgrad(getDekningsgradFromString(values.dekningsgrad)),\n            actionCreator.lagUttaksplanforslag(uttaksplanMedAnnenPart),\n        ];\n    };\n    const { handleSubmit, isSubmitting } = useOnValidSubmit(\n        onValidSubmitHandler,\n        SøknadRoutes.UTTAKSPLAN,\n        (state: ForeldrepengesøknadContextState) => storeAppState(state)\n    );\n\n    return (\n        <MorFødselFormComponents.FormikWrapper\n            initialValues={getInitialMorFødselValues(defaultPermisjonStartdato, lagretUttaksplanInfo, dekningsgrad)}\n            onSubmit={handleSubmit}\n            renderForm={({ values: formValues, setFieldValue }) => {\n                const visibility = morFødselQuestionsConfig.getVisbility({\n                    ...formValues,\n                    harRettPåForeldrepengerINorge,\n                    erAleneOmOmsorg,\n                } as MorFødselQuestionsPayload);\n\n                const valgtStønadskonto = tilgjengeligeStønadskontoer[formValues.dekningsgrad === '100' ? 100 : 80];\n\n                return (\n                    <MorFødselFormComponents.Form includeButtons={false} includeValidationSummary={true}>\n                        <Block padBottom=\"l\">\n                            <DekningsgradSpørsmål\n                                FormKomponent={MorFødselFormComponents}\n                                dekningsgradFeltNavn={MorFødselFormField.dekningsgrad}\n                                tilgjengeligeStønadskontoer={tilgjengeligeStønadskontoer}\n                                erDeltUttak={erDeltUttak}\n                            />\n                        </Block>\n                        <Block padBottom=\"xl\" visible={visibility.isAnswered(MorFødselFormField.dekningsgrad)}>\n                            {valgtStønadskonto && (\n                                <TilgjengeligeDagerGraf\n                                    erDeltUttak={erDeltUttak}\n                                    erFarEllerMedmor={false}\n                                    navnFarMedmor={navnFarMedmor}\n                                    navnMor={navnMor}\n                                    tilgjengeligeDager={getTilgjengeligeDager(\n                                        valgtStønadskonto,\n                                        false,\n                                        Forelder.farMedmor\n                                    )}\n                                />\n                            )}\n                        </Block>\n                        <Block padBottom=\"xl\" visible={visInfoOmPrematuruker === true}>\n                            <GuidePanel>\n                                <FormattedMessage\n                                    id=\"uttaksplaninfo.veileder.informasjonPrematuruker\"\n                                    values={{\n                                        antallprematuruker: Math.floor(ekstraDagerGrunnetPrematurFødsel! / 5),\n                                        antallprematurdager: ekstraDagerGrunnetPrematurFødsel! % 5,\n                                    }}\n                                />\n                            </GuidePanel>\n                        </Block>\n                        <Block visible={visibility.isAnswered(MorFødselFormField.dekningsgrad)}>\n                            <StartdatoPermisjonMor\n                                permisjonStartdato={formValues.permisjonStartdato!}\n                                skalIkkeHaUttakFørTermin={formValues.skalIkkeHaUttakFørTermin!}\n                            />\n                        </Block>\n                        <Block\n                            visible={\n                                erAleneOmOmsorg === false &&\n                                harRettPåForeldrepengerINorge &&\n                                visibility.isAnswered(MorFødselFormField.dekningsgrad)\n                            }\n                        >\n                            <Block\n                                padBottom=\"xl\"\n                                visible={\n                                    antallBarn > 1 &&\n                                    (formValues.permisjonStartdato !== undefined ||\n                                        formValues.skalIkkeHaUttakFørTermin === true)\n                                }\n                            >\n                                <GuidePanel>\n                                    <FormattedMessage\n                                        id=\"uttaksplaninfo.veileder.flerbarnsInformasjon\"\n                                        values={{\n                                            uker: getFlerbarnsuker(formValues.dekningsgrad!, antallBarn),\n                                            navnFar: navnFarMedmor,\n                                            navnMor: navnMor,\n                                        }}\n                                    />\n                                </GuidePanel>\n                            </Block>\n                            <Block\n                                padBottom=\"xl\"\n                                visible={visibility.isVisible(MorFødselFormField.fellesperiodeukerMor)}\n                            >\n                                <FordelingFellesperiodeSpørsmål\n                                    setFieldValue={setFieldValue}\n                                    valgtStønadskonto={valgtStønadskonto}\n                                    valgtFellesperiodeukerMor={formValues.fellesperiodeukerMor}\n                                    mor={navnMor}\n                                    farMedmor={navnFarMedmor}\n                                    annenForelderErFarEllerMedmor={!erFarEllerMedmor}\n                                />\n                            </Block>\n                        </Block>\n                        <Block>\n                            <StepButtonWrapper>\n                                <Button variant=\"secondary\" as={Link} to={getPreviousStepHref('uttaksplanInfo')}>\n                                    <FormattedMessage id=\"backlink.label\" />\n                                </Button>\n                                {visibility.areAllQuestionsAnswered() && (\n                                    <Button type=\"submit\" disabled={isSubmitting} loading={isSubmitting}>\n                                        {intlUtils(intl, 'søknad.gåVidere')}\n                                    </Button>\n                                )}\n                            </StepButtonWrapper>\n                        </Block>\n                    </MorFødselFormComponents.Form>\n                );\n            }}\n        />\n    );\n};\n\nexport default MorFødsel;\n","enum AdopsjonStartdatoValg {\n    ANKOMST = 'ankomst',\n    OMSORGSOVERTAKELSE = 'omsorgsovertakelse',\n    ANNEN = 'annen',\n}\n\nexport const finnEnum = (valg?: string): AdopsjonStartdatoValg | undefined => {\n    if (valg === AdopsjonStartdatoValg.ANKOMST) {\n        return AdopsjonStartdatoValg.ANKOMST;\n    }\n    if (valg === AdopsjonStartdatoValg.OMSORGSOVERTAKELSE) {\n        return AdopsjonStartdatoValg.OMSORGSOVERTAKELSE;\n    }\n    if (valg === AdopsjonStartdatoValg.ANNEN) {\n        return AdopsjonStartdatoValg.ANNEN;\n    }\n    return undefined;\n};\n\nexport default AdopsjonStartdatoValg;\n","import { YesOrNo, getTypedFormComponents } from '@navikt/sif-common-formik-ds/lib';\nimport AdopsjonStartdatoValg from './adopsjonStartdatoValg';\n\nexport enum MorFarAdopsjonFormField {\n    harAnnenForelderSøktFP = 'harAnnenForelderSøktFP',\n    dekningsgrad = 'dekningsgrad',\n    startdatoAdopsjonValg = 'startdatoAdopsjonValg',\n    annenStartdatoAdopsjon = 'annenStartdatoAdopsjon',\n    annenForeldersSisteDag = 'annenForeldersSisteDag',\n    søkersFørsteDag = 'søkersFørsteDag',\n    antallUkerFellesperiode = 'antallUkerFellesperiode',\n    antallDagerFellesperiode = 'antallDagerFellesperiode',\n    fellesperiodeukerMor = 'fellesperiodeukerMor',\n}\n\nexport interface MorFarAdopsjonFormData {\n    [MorFarAdopsjonFormField.harAnnenForelderSøktFP]: YesOrNo;\n    [MorFarAdopsjonFormField.dekningsgrad]: string;\n    [MorFarAdopsjonFormField.startdatoAdopsjonValg]: AdopsjonStartdatoValg | undefined;\n    [MorFarAdopsjonFormField.annenStartdatoAdopsjon]: string;\n    [MorFarAdopsjonFormField.annenForeldersSisteDag]: string;\n    [MorFarAdopsjonFormField.søkersFørsteDag]: string;\n    [MorFarAdopsjonFormField.antallUkerFellesperiode]: string;\n    [MorFarAdopsjonFormField.antallDagerFellesperiode]: string;\n    [MorFarAdopsjonFormField.fellesperiodeukerMor]: number | undefined;\n}\n\nexport const MorFarAdopsjonFormComponents = getTypedFormComponents<MorFarAdopsjonFormField, MorFarAdopsjonFormData>();\n","import { MorFarAdopsjonUttaksplanInfo } from 'app/context/types/UttaksplanInfo';\nimport { Dekningsgrad } from 'app/types/Dekningsgrad';\nimport { convertYesOrNoOrUndefinedToBoolean } from 'app/utils/formUtils';\nimport { finnEnum } from './adopsjonStartdatoValg';\nimport { MorFarAdopsjonFormData, MorFarAdopsjonFormField } from './morFarAdopsjonFormConfig';\nimport { YesOrNo } from '@navikt/sif-common-formik-ds/lib';\n\nconst initialMorFarAdopsjonValues: MorFarAdopsjonFormData = {\n    [MorFarAdopsjonFormField.harAnnenForelderSøktFP]: YesOrNo.UNANSWERED,\n    [MorFarAdopsjonFormField.dekningsgrad]: '',\n    [MorFarAdopsjonFormField.startdatoAdopsjonValg]: undefined,\n    [MorFarAdopsjonFormField.annenStartdatoAdopsjon]: '',\n    [MorFarAdopsjonFormField.annenForeldersSisteDag]: '',\n    [MorFarAdopsjonFormField.søkersFørsteDag]: '',\n    [MorFarAdopsjonFormField.antallUkerFellesperiode]: '0',\n    [MorFarAdopsjonFormField.antallDagerFellesperiode]: '0',\n    [MorFarAdopsjonFormField.fellesperiodeukerMor]: undefined,\n};\n\nexport const mapMorFarAdopsjonFormToState = (values: Partial<MorFarAdopsjonFormData>): MorFarAdopsjonUttaksplanInfo => {\n    return {\n        harAnnenForelderSøktFP: convertYesOrNoOrUndefinedToBoolean(values.harAnnenForelderSøktFP)!,\n        startdatoAdopsjonValg: values.startdatoAdopsjonValg!,\n        annenStartdatoAdopsjon: values.annenStartdatoAdopsjon!,\n        annenForeldersSisteDag: values.annenForeldersSisteDag!,\n        søkersFørsteDag: values.søkersFørsteDag!,\n        antallUkerFellesperiode: values.antallUkerFellesperiode!,\n        antallDagerFellesperiode: values.antallDagerFellesperiode!,\n        fellesperiodeukerMor: values.fellesperiodeukerMor,\n    };\n};\n\nexport const getInitialMorFarAdopsjonValues = (\n    lagretUttaksplanInfo: MorFarAdopsjonUttaksplanInfo | undefined,\n    dekningsgrad: Dekningsgrad\n): MorFarAdopsjonFormData => {\n    if (lagretUttaksplanInfo) {\n        return {\n            ...lagretUttaksplanInfo,\n            [MorFarAdopsjonFormField.dekningsgrad]: dekningsgrad,\n            [MorFarAdopsjonFormField.startdatoAdopsjonValg]: finnEnum(lagretUttaksplanInfo.startdatoAdopsjonValg),\n            [MorFarAdopsjonFormField.harAnnenForelderSøktFP]: lagretUttaksplanInfo.harAnnenForelderSøktFP\n                ? YesOrNo.YES\n                : YesOrNo.NO,\n        };\n    }\n\n    return initialMorFarAdopsjonValues;\n};\n","import { QuestionConfig, Questions } from '@navikt/sif-common-question-config';\nimport { hasValue } from '@navikt/fp-common';\nimport { MorFarAdopsjonFormData, MorFarAdopsjonFormField } from './morFarAdopsjonFormConfig';\nimport AdopsjonStartdatoValg from './adopsjonStartdatoValg';\nimport { YesOrNo } from '@navikt/sif-common-formik-ds/lib';\n\nexport interface MorFarAdopsjonQuestionsPayload extends MorFarAdopsjonFormData {\n    harAnnenForelderRettPåForeldrepengerINorge: boolean | undefined;\n    erAleneOmOmsorg: boolean | undefined;\n}\n\nconst MorFarAdopsjonFormConfig: QuestionConfig<MorFarAdopsjonQuestionsPayload, MorFarAdopsjonFormField> = {\n    [MorFarAdopsjonFormField.harAnnenForelderSøktFP]: {\n        isAnswered: ({ harAnnenForelderSøktFP }) => harAnnenForelderSøktFP !== YesOrNo.UNANSWERED,\n        isIncluded: ({ harAnnenForelderRettPåForeldrepengerINorge }) => !!harAnnenForelderRettPåForeldrepengerINorge,\n    },\n    [MorFarAdopsjonFormField.dekningsgrad]: {\n        isAnswered: ({ dekningsgrad }) => hasValue(dekningsgrad),\n        isIncluded: ({ harAnnenForelderSøktFP, harAnnenForelderRettPåForeldrepengerINorge }) =>\n            harAnnenForelderSøktFP !== YesOrNo.UNANSWERED || !harAnnenForelderRettPåForeldrepengerINorge,\n    },\n    [MorFarAdopsjonFormField.startdatoAdopsjonValg]: {\n        isAnswered: ({ startdatoAdopsjonValg }) => hasValue(startdatoAdopsjonValg),\n        isIncluded: ({ dekningsgrad, harAnnenForelderSøktFP }) =>\n            hasValue(dekningsgrad) && harAnnenForelderSøktFP !== YesOrNo.YES,\n    },\n    [MorFarAdopsjonFormField.annenStartdatoAdopsjon]: {\n        isAnswered: ({ annenStartdatoAdopsjon }) => hasValue(annenStartdatoAdopsjon),\n        isIncluded: ({ dekningsgrad, harAnnenForelderSøktFP, startdatoAdopsjonValg }) =>\n            startdatoAdopsjonValg === AdopsjonStartdatoValg.ANNEN &&\n            hasValue(dekningsgrad) &&\n            harAnnenForelderSøktFP !== YesOrNo.YES,\n    },\n    [MorFarAdopsjonFormField.annenForeldersSisteDag]: {\n        isAnswered: ({ annenForeldersSisteDag }) => hasValue(annenForeldersSisteDag),\n        isIncluded: ({ dekningsgrad, harAnnenForelderSøktFP }) =>\n            hasValue(dekningsgrad) && harAnnenForelderSøktFP === YesOrNo.YES,\n    },\n    [MorFarAdopsjonFormField.søkersFørsteDag]: {\n        isAnswered: ({ søkersFørsteDag }) => hasValue(søkersFørsteDag),\n        isIncluded: ({ annenForeldersSisteDag, harAnnenForelderSøktFP }) =>\n            hasValue(annenForeldersSisteDag) && harAnnenForelderSøktFP === YesOrNo.YES,\n    },\n    [MorFarAdopsjonFormField.antallDagerFellesperiode]: {\n        isAnswered: ({ antallDagerFellesperiode }) => hasValue(antallDagerFellesperiode),\n        isIncluded: ({ søkersFørsteDag }) => hasValue(søkersFørsteDag),\n    },\n    [MorFarAdopsjonFormField.antallUkerFellesperiode]: {\n        isAnswered: ({ antallUkerFellesperiode }) => hasValue(antallUkerFellesperiode),\n        isIncluded: ({ søkersFørsteDag }) => hasValue(søkersFørsteDag),\n    },\n    [MorFarAdopsjonFormField.fellesperiodeukerMor]: {\n        isAnswered: ({ fellesperiodeukerMor }) => hasValue(fellesperiodeukerMor),\n        isIncluded: ({\n            startdatoAdopsjonValg,\n            harAnnenForelderSøktFP,\n            harAnnenForelderRettPåForeldrepengerINorge,\n            erAleneOmOmsorg,\n        }) =>\n            startdatoAdopsjonValg !== undefined &&\n            harAnnenForelderSøktFP !== YesOrNo.YES &&\n            !!harAnnenForelderRettPåForeldrepengerINorge &&\n            erAleneOmOmsorg === false,\n    },\n};\n\nexport const morFarAdopsjonQuestionsConfig = Questions<MorFarAdopsjonQuestionsPayload, MorFarAdopsjonFormField>(\n    MorFarAdopsjonFormConfig\n);\n","import { isISODateString } from '@navikt/ds-datepicker';\nimport { intlUtils } from '@navikt/fp-common';\nimport { IntlShape } from 'react-intl';\n\nexport const validateErAnnenStartdatoAdopsjonGyldig = (intl: IntlShape) => (annenStartdatoAdopsjon: string) => {\n    if (!isISODateString(annenStartdatoAdopsjon)) {\n        return intlUtils(intl, 'valideringsfeil.uttaksplaninfo.startdatoAdopsjon.annenDato.gyldigDato');\n    }\n\n    return undefined;\n};\n","import { FunctionComponent } from 'react';\nimport { useIntl } from 'react-intl';\nimport { Block, hasValue, intlUtils } from '@navikt/fp-common';\nimport { MorFarAdopsjonFormComponents, MorFarAdopsjonFormField } from './morFarAdopsjonFormConfig';\nimport useSøknad from 'app/utils/hooks/useSøknad';\nimport { isAdoptertAnnetBarn, isAdoptertBarn } from 'app/context/types/Barn';\nimport { formaterDatoUtenDag, ISOStringToDate } from 'app/utils/dateUtils';\nimport { getFamiliehendelsedato } from 'app/utils/barnUtils';\nimport { uttaksplanDatoavgrensninger } from 'app/steps/uttaksplan-info/utils/uttaksplanDatoavgrensninger';\nimport { validateErAnnenStartdatoAdopsjonGyldig } from './validation/morFarAdopsjonValidering';\nimport AdopsjonStartdatoValg from './adopsjonStartdatoValg';\nimport { assertUnreachable } from 'app/utils/globalUtil';\nimport { DatepickerDateRange } from '@navikt/ds-datepicker';\nimport { DateRange } from '@navikt/sif-common-formik-ds/lib';\n\nexport const finnStartdatoAdopsjon = (\n    startdatoAdopsjonValg: AdopsjonStartdatoValg,\n    annenStartdatoAdopsjon?: string,\n    adopsjonsdato?: string,\n    ankomstdato?: string,\n    søkersFørsteDag?: string\n): string => {\n    if (hasValue(søkersFørsteDag)) {\n        return søkersFørsteDag!;\n    }\n\n    switch (startdatoAdopsjonValg) {\n        case AdopsjonStartdatoValg.ANKOMST:\n            return ankomstdato!;\n        case AdopsjonStartdatoValg.OMSORGSOVERTAKELSE:\n            return adopsjonsdato!;\n        case AdopsjonStartdatoValg.ANNEN:\n            return annenStartdatoAdopsjon!;\n        default:\n            return assertUnreachable(startdatoAdopsjonValg, 'Startdato for adopsjon er ikke valgt');\n    }\n};\n\nconst konverterStringTilDate = (invalidDateRanges?: DatepickerDateRange[]): DateRange[] | undefined => {\n    if (!invalidDateRanges) {\n        return undefined;\n    }\n\n    return invalidDateRanges.map((r) => ({\n        from: ISOStringToDate(r.from)!,\n        to: ISOStringToDate(r.to)!,\n    }));\n};\n\ninterface Props {\n    valgtStartdatoAdopsjon?: AdopsjonStartdatoValg;\n}\n\nconst StartdatoAdopsjon: FunctionComponent<Props> = ({ valgtStartdatoAdopsjon }) => {\n    const intl = useIntl();\n    const { barn } = useSøknad();\n    const familiehendelsesdato = getFamiliehendelsedato(barn);\n\n    const radios = [];\n    if (isAdoptertAnnetBarn(barn) && barn.ankomstdato) {\n        radios.push({\n            label: intlUtils(intl, 'uttaksplaninfo.startdatoAdopsjon.alternativ.ankomst', {\n                dato: formaterDatoUtenDag(barn.ankomstdato),\n            }),\n            value: AdopsjonStartdatoValg.ANKOMST,\n        });\n    }\n\n    if (isAdoptertBarn(barn)) {\n        radios.push({\n            label: intlUtils(intl, 'uttaksplaninfo.startdatoAdopsjon.alternativ.omsorgsovertakelse', {\n                dato: formaterDatoUtenDag(barn.adopsjonsdato),\n            }),\n            value: AdopsjonStartdatoValg.OMSORGSOVERTAKELSE,\n        });\n    }\n\n    radios.push({\n        label: intlUtils(intl, 'uttaksplaninfo.startdatoAdopsjon.alternativ.annen'),\n        value: AdopsjonStartdatoValg.ANNEN,\n    });\n\n    const datoAvgrensninger = uttaksplanDatoavgrensninger.startdatoPermisjonAdopsjon(familiehendelsesdato);\n\n    return (\n        <>\n            <Block padBottom=\"l\">\n                <MorFarAdopsjonFormComponents.RadioGroup\n                    name={MorFarAdopsjonFormField.startdatoAdopsjonValg}\n                    radios={radios}\n                    legend={intlUtils(intl, 'uttaksplaninfo.startdatoAdopsjon.spørsmål')}\n                />\n            </Block>\n            <Block padBottom=\"l\" visible={valgtStartdatoAdopsjon === AdopsjonStartdatoValg.ANNEN}>\n                <MorFarAdopsjonFormComponents.DatePicker\n                    name={MorFarAdopsjonFormField.annenStartdatoAdopsjon}\n                    label={intlUtils(intl, 'uttaksplaninfo.startdatoAdopsjon.annenDato.spørsmål')}\n                    minDate={datoAvgrensninger.minDate ? ISOStringToDate(datoAvgrensninger.minDate) : undefined}\n                    maxDate={datoAvgrensninger.maxDate ? ISOStringToDate(datoAvgrensninger.maxDate) : undefined}\n                    disabledDateRanges={konverterStringTilDate(datoAvgrensninger.invalidDateRanges)}\n                    disableWeekend={datoAvgrensninger.weekendsNotSelectable}\n                    validate={validateErAnnenStartdatoAdopsjonGyldig(intl)}\n                    placeholder={'dd.mm.åååå'}\n                />\n            </Block>\n        </>\n    );\n};\n\nexport default StartdatoAdopsjon;\n","import { FunctionComponent } from 'react';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport dayjs from 'dayjs';\nimport { Block, StepButtonWrapper, intlUtils } from '@navikt/fp-common';\nimport useSøknad from 'app/utils/hooks/useSøknad';\nimport { getNavnGenitivEierform, formaterNavn } from 'app/utils/personUtils';\nimport { getFamiliehendelsedato } from 'app/utils/barnUtils';\nimport { getValgtStønadskontoFor80Og100Prosent } from 'app/utils/stønadskontoUtils';\nimport { TilgjengeligeStønadskontoerDTO } from 'app/types/TilgjengeligeStønadskontoerDTO';\nimport { getInitialMorFarAdopsjonValues, mapMorFarAdopsjonFormToState } from './morFarAdopsjonUtils';\nimport { isAnnenForelderOppgitt } from 'app/context/types/AnnenForelder';\nimport { Forelder } from 'app/types/Forelder';\nimport { getFlerbarnsuker } from 'app/steps/uttaksplan-info/utils/uttaksplanHarForMangeFlerbarnsuker';\nimport { isAdoptertAnnetBarn, isAdoptertBarn, isAdoptertStebarn } from 'app/context/types/Barn';\nimport useSøkerinfo from 'app/utils/hooks/useSøkerinfo';\nimport { dateIsSameOrAfter, findEldsteDato, ISOStringToDate } from 'app/utils/dateUtils';\nimport {\n    MorFarAdopsjonFormComponents,\n    MorFarAdopsjonFormData,\n    MorFarAdopsjonFormField,\n} from './morFarAdopsjonFormConfig';\nimport { MorFarAdopsjonQuestionsPayload, morFarAdopsjonQuestionsConfig } from './morFarAdopsjonQuestionsConfig';\nimport { getTilgjengeligeDager } from '../../tilgjengeligeDagerGraf/tilgjengeligeDagerUtils';\nimport TilgjengeligeDagerGraf from '../../tilgjengeligeDagerGraf/TilgjengeligeDagerGraf';\nimport StartdatoAdopsjon, { finnStartdatoAdopsjon } from './StartdatoAdopsjon';\nimport MorsSisteDagSpørsmål from '../spørsmål/MorsSisteDagSpørsmål';\nimport FarMedmorsFørsteDag from '../spørsmål/FarMedmorsFørsteDag';\nimport AntallUkerOgDagerFellesperiodeFarMedmorSpørsmål from '../spørsmål/AntallUkerOgDagerFellesperiodeFarMedmorSpørsmål';\nimport FordelingFellesperiodeSpørsmål from '../../fordelingFellesperiode/FordelingFellesperiodeSpørsmål';\nimport SøknadRoutes from 'app/routes/routes';\nimport useOnValidSubmit from 'app/utils/hooks/useOnValidSubmit';\nimport actionCreator from 'app/context/action/actionCreator';\nimport useUttaksplanInfo from 'app/utils/hooks/useUttaksplanInfo';\nimport { MorFarAdopsjonUttaksplanInfo } from 'app/context/types/UttaksplanInfo';\nimport DekningsgradSpørsmål from '../spørsmål/DekningsgradSpørsmål';\nimport { getDekningsgradFromString } from 'app/utils/getDekningsgradFromString';\nimport { lagUttaksplan } from 'app/utils/uttaksplan/lagUttaksplan';\nimport isFarEllerMedmor from 'app/utils/isFarEllerMedmor';\nimport { Uttaksdagen } from 'app/steps/uttaksplan-info/utils/Uttaksdagen';\nimport { storeAppState } from 'app/utils/submitUtils';\nimport { ForeldrepengesøknadContextState } from 'app/context/ForeldrepengesøknadContextConfig';\nimport { getAntallUker } from 'app/steps/uttaksplan-info/utils/stønadskontoer';\nimport AdopsjonStartdatoValg from './adopsjonStartdatoValg';\nimport { getHarAktivitetskravIPeriodeUtenUttak } from 'app/utils/uttaksplan/uttaksplanUtils';\nimport { useForeldrepengesøknadContext } from 'app/context/hooks/useForeldrepengesøknadContext';\nimport { YesOrNo, dateToISOString } from '@navikt/sif-common-formik-ds/lib';\nimport { Button, GuidePanel } from '@navikt/ds-react';\nimport { Link } from 'react-router-dom';\nimport { getPreviousStepHref } from 'app/steps/stepsConfig';\n\ninterface Props {\n    tilgjengeligeStønadskontoer100DTO: TilgjengeligeStønadskontoerDTO;\n    tilgjengeligeStønadskontoer80DTO: TilgjengeligeStønadskontoerDTO;\n}\n\nconst MorFarAdopsjon: FunctionComponent<Props> = ({\n    tilgjengeligeStønadskontoer80DTO,\n    tilgjengeligeStønadskontoer100DTO,\n}) => {\n    const intl = useIntl();\n    const { state } = useForeldrepengesøknadContext();\n    const {\n        søkersituasjon,\n        annenForelder,\n        barn,\n        søker: { erAleneOmOmsorg },\n        dekningsgrad,\n        erEndringssøknad,\n    } = useSøknad();\n    const {\n        person: { fornavn, mellomnavn, etternavn },\n    } = useSøkerinfo();\n    const lagretUttaksplanInfo = useUttaksplanInfo<MorFarAdopsjonUttaksplanInfo>();\n\n    const erAdopsjon = søkersituasjon.situasjon === 'adopsjon';\n    const søkerErAleneOmOmsorg = !!erAleneOmOmsorg;\n    const annenForelderOppgittIkkeAleneOmOmsorg = isAnnenForelderOppgitt(annenForelder)\n        ? annenForelder.harRettPåForeldrepengerINorge !== undefined ||\n          annenForelder.harRettPåForeldrepengerIEØS !== undefined\n        : false;\n    const erFarEllerMedmor = isFarEllerMedmor(søkersituasjon.rolle);\n    const bareFarMedmorHarRett =\n        erFarEllerMedmor &&\n        isAnnenForelderOppgitt(annenForelder) &&\n        !søkerErAleneOmOmsorg &&\n        !annenForelder.harRettPåForeldrepengerINorge &&\n        !annenForelder.harRettPåForeldrepengerIEØS;\n    const familiehendelsesdato = getFamiliehendelsedato(barn);\n    const familiehendelsesdatoDate = ISOStringToDate(familiehendelsesdato);\n    const førsteUttaksdagNesteBarnsSak =\n        state.barnFraNesteSak !== undefined ? state.barnFraNesteSak.startdatoFørsteStønadsperiode : undefined;\n\n    const shouldRender =\n        erAdopsjon && (annenForelderOppgittIkkeAleneOmOmsorg || annenForelder.kanIkkeOppgis || søkerErAleneOmOmsorg);\n\n    const onValidSubmitHandler = (values: Partial<MorFarAdopsjonFormData>) => {\n        const submissionValues = mapMorFarAdopsjonFormToState(values);\n        const barnAdopsjonsdato = isAdoptertBarn(barn) ? barn.adopsjonsdato : undefined;\n        const antallUker = getAntallUker(tilgjengeligeStønadskontoer[values.dekningsgrad! === '100' ? 100 : 80]);\n\n        const startdato = finnStartdatoAdopsjon(\n            values.startdatoAdopsjonValg!,\n            values.annenStartdatoAdopsjon,\n            dateToISOString(barnAdopsjonsdato),\n            dateToISOString(ankomstdato),\n            values.søkersFørsteDag\n        );\n\n        return [\n            actionCreator.setAntallUkerIUttaksplan(antallUker),\n            actionCreator.setUttaksplanInfo(submissionValues),\n            actionCreator.setDekningsgrad(getDekningsgradFromString(values.dekningsgrad)),\n            actionCreator.lagUttaksplanforslag(\n                lagUttaksplan({\n                    annenForelderErUfør: erMorUfør,\n                    erDeltUttak,\n                    erEndringssøknad,\n                    erEnkelEndringssøknad: erEndringssøknad,\n                    familiehendelsesdato: familiehendelsesdatoDate!,\n                    førsteUttaksdagEtterSeksUker: Uttaksdagen(\n                        Uttaksdagen(familiehendelsesdatoDate!).denneEllerNeste()\n                    ).leggTil(30),\n                    situasjon: søkersituasjon.situasjon,\n                    søkerErFarEllerMedmor: erFarEllerMedmor,\n                    søkerHarMidlertidigOmsorg: false,\n                    tilgjengeligeStønadskontoer:\n                        tilgjengeligeStønadskontoer[getDekningsgradFromString(values.dekningsgrad)],\n                    uttaksplanSkjema: {\n                        fellesperiodeukerMor: submissionValues.fellesperiodeukerMor,\n                        startdatoPermisjon: startdato,\n                        antallDagerFellesperiodeFarMedmor: parseInt(submissionValues.antallDagerFellesperiode),\n                        antallUkerFellesperiodeFarMedmor: parseInt(submissionValues.antallUkerFellesperiode),\n                        harAnnenForelderSøktFP: submissionValues.harAnnenForelderSøktFP,\n                        morSinSisteUttaksdag: submissionValues.annenForeldersSisteDag,\n                        farSinFørsteUttaksdag: submissionValues.søkersFørsteDag,\n                    },\n                    bareFarMedmorHarRett: bareFarMedmorHarRett,\n                    termindato: undefined,\n                    harAktivitetskravIPeriodeUtenUttak: getHarAktivitetskravIPeriodeUtenUttak({\n                        erDeltUttak,\n                        morHarRett: !bareFarMedmorHarRett,\n                        søkerErAleneOmOmsorg,\n                    }),\n                    førsteUttaksdagNesteBarnsSak,\n                })\n            ),\n        ];\n    };\n\n    const { handleSubmit, isSubmitting } = useOnValidSubmit(\n        onValidSubmitHandler,\n        SøknadRoutes.UTTAKSPLAN,\n        (state: ForeldrepengesøknadContextState) => storeAppState(state)\n    );\n\n    if (!shouldRender || !isAdoptertBarn(barn)) {\n        return null;\n    }\n\n    const erSøkerMor = !erFarEllerMedmor;\n\n    const oppgittAnnenForelder = isAnnenForelderOppgitt(annenForelder) ? annenForelder : undefined;\n    const harAnnenForelderRettPåForeldrepengerINorge = !!oppgittAnnenForelder?.harRettPåForeldrepengerINorge;\n    const fornavnAnnenForeldre = oppgittAnnenForelder?.fornavn;\n    const erAnnenPartUfør = !!oppgittAnnenForelder?.erUfør;\n    const navnAnnenPart = oppgittAnnenForelder\n        ? formaterNavn(oppgittAnnenForelder.fornavn, oppgittAnnenForelder.etternavn, true)\n        : '';\n\n    const erDeltUttak = isAnnenForelderOppgitt(annenForelder)\n        ? !!annenForelder.harRettPåForeldrepengerINorge || !!annenForelder.harRettPåForeldrepengerIEØS\n        : false;\n\n    const erMorUfør = erSøkerMor ? false : erAnnenPartUfør;\n\n    const navnSøker = formaterNavn(fornavn, etternavn, true, mellomnavn);\n    const navnMor = erSøkerMor ? navnSøker : navnAnnenPart;\n    const navnFarMedmor = erSøkerMor ? navnAnnenPart : navnSøker;\n\n    const erAdoptertIUtlandet = isAdoptertAnnetBarn(barn) ? barn.adoptertIUtlandet : false;\n    const ankomstdato = isAdoptertAnnetBarn(barn) ? barn.ankomstdato : undefined;\n    const antallBarn = barn.antallBarn;\n    const latestDate =\n        ankomstdato !== undefined && barn.adopsjonsdato !== undefined\n            ? dateToISOString(findEldsteDato([ankomstdato, barn.adopsjonsdato])) // todo - sjekk logikk her\n            : barn.adopsjonsdato;\n\n    const tilgjengeligeStønadskontoer = getValgtStønadskontoFor80Og100Prosent(\n        tilgjengeligeStønadskontoer80DTO,\n        tilgjengeligeStønadskontoer100DTO\n    );\n\n    return (\n        <MorFarAdopsjonFormComponents.FormikWrapper\n            initialValues={getInitialMorFarAdopsjonValues(lagretUttaksplanInfo, dekningsgrad)}\n            onSubmit={handleSubmit}\n            renderForm={({ values: formValues, setFieldValue }) => {\n                const visibility = morFarAdopsjonQuestionsConfig.getVisbility({\n                    ...formValues,\n                    harAnnenForelderRettPåForeldrepengerINorge,\n                    erAleneOmOmsorg,\n                } as MorFarAdopsjonQuestionsPayload);\n\n                const valgtStønadskonto = tilgjengeligeStønadskontoer[formValues.dekningsgrad === '100' ? 100 : 80];\n\n                const tilgjengeligeDager = valgtStønadskonto\n                    ? getTilgjengeligeDager(valgtStønadskonto, false, Forelder.farMedmor)\n                    : undefined;\n\n                return (\n                    <MorFarAdopsjonFormComponents.Form includeButtons={false} includeValidationSummary={true}>\n                        <Block\n                            padBottom=\"xl\"\n                            visible={visibility.isIncluded(MorFarAdopsjonFormField.harAnnenForelderSøktFP)}\n                        >\n                            <MorFarAdopsjonFormComponents.YesOrNoQuestion\n                                name={MorFarAdopsjonFormField.harAnnenForelderSøktFP}\n                                legend={intlUtils(intl, 'uttaksplaninfo.spørsmål.harAnnenForelderSøktFP.label', {\n                                    navnAnnenForelder: fornavnAnnenForeldre,\n                                })}\n                            />\n                        </Block>\n                        {formValues.harAnnenForelderSøktFP === YesOrNo.YES && (\n                            <Block padBottom=\"xl\">\n                                <GuidePanel>\n                                    <FormattedMessage\n                                        id=\"uttaksplaninfo.informasjon.tilAnnenForelder\"\n                                        values={{\n                                            navn: getNavnGenitivEierform(fornavnAnnenForeldre!, intl.locale),\n                                        }}\n                                    />\n                                </GuidePanel>\n                            </Block>\n                        )}\n                        <Block padBottom=\"xl\" visible={visibility.isIncluded(MorFarAdopsjonFormField.dekningsgrad)}>\n                            <DekningsgradSpørsmål\n                                FormKomponent={MorFarAdopsjonFormComponents}\n                                dekningsgradFeltNavn={MorFarAdopsjonFormField.dekningsgrad}\n                                tilgjengeligeStønadskontoer={tilgjengeligeStønadskontoer}\n                                erDeltUttak={erDeltUttak}\n                            />\n                        </Block>\n                        <Block padBottom=\"xl\" visible={visibility.isAnswered(MorFarAdopsjonFormField.dekningsgrad)}>\n                            {tilgjengeligeDager && (\n                                <TilgjengeligeDagerGraf\n                                    erDeltUttak={erDeltUttak}\n                                    erFarEllerMedmor={!erSøkerMor}\n                                    navnFarMedmor={navnFarMedmor}\n                                    navnMor={navnMor}\n                                    tilgjengeligeDager={tilgjengeligeDager}\n                                />\n                            )}\n                        </Block>\n                        <Block visible={visibility.isIncluded(MorFarAdopsjonFormField.startdatoAdopsjonValg)}>\n                            <StartdatoAdopsjon valgtStartdatoAdopsjon={formValues.startdatoAdopsjonValg} />\n                        </Block>\n                        <Block\n                            padBottom=\"xl\"\n                            visible={visibility.isIncluded(MorFarAdopsjonFormField.annenForeldersSisteDag)}\n                        >\n                            <MorsSisteDagSpørsmål\n                                FormComponents={MorFarAdopsjonFormComponents}\n                                fieldName={MorFarAdopsjonFormField.annenForeldersSisteDag}\n                                navnMor={navnAnnenPart}\n                                familiehendelsesdato={familiehendelsesdato}\n                            />\n                        </Block>\n                        <Block padBottom=\"xl\" visible={visibility.isIncluded(MorFarAdopsjonFormField.søkersFørsteDag)}>\n                            <FarMedmorsFørsteDag\n                                FormComponents={MorFarAdopsjonFormComponents}\n                                fieldName={MorFarAdopsjonFormField.søkersFørsteDag}\n                                familiehendelsesdato={familiehendelsesdatoDate!}\n                                setFieldValue={setFieldValue}\n                                morsSisteDag={ISOStringToDate(formValues.annenForeldersSisteDag)}\n                                navnMor={navnMor}\n                                termindato={undefined}\n                                situasjon={søkersituasjon.situasjon}\n                                morHarRettTilForeldrepengerIEØS={false}\n                            />\n                        </Block>\n                        <Block\n                            padBottom=\"xl\"\n                            visible={\n                                visibility.isAnswered(MorFarAdopsjonFormField.søkersFørsteDag) &&\n                                !dateIsSameOrAfter(\n                                    ISOStringToDate(formValues.annenForeldersSisteDag),\n                                    ISOStringToDate(formValues.søkersFørsteDag)\n                                ) &&\n                                formValues.harAnnenForelderSøktFP === YesOrNo.YES\n                            }\n                        >\n                            {tilgjengeligeDager && (\n                                <AntallUkerOgDagerFellesperiodeFarMedmorSpørsmål\n                                    FormComponents={MorFarAdopsjonFormComponents}\n                                    ukerFieldName={MorFarAdopsjonFormField.antallUkerFellesperiode}\n                                    dagerFieldName={MorFarAdopsjonFormField.antallDagerFellesperiode}\n                                    antallDager={formValues.antallDagerFellesperiode!}\n                                    antallUker={formValues.antallUkerFellesperiode!}\n                                    setFieldValue={setFieldValue}\n                                    ukerMedFellesperiode={tilgjengeligeDager.dagerFelles / 5}\n                                />\n                            )}\n                        </Block>\n                        <Block\n                            padBottom=\"xl\"\n                            visible={\n                                formValues.startdatoAdopsjonValg === AdopsjonStartdatoValg.ANNEN &&\n                                dayjs(latestDate).isBefore(\n                                    dayjs(\n                                        finnStartdatoAdopsjon(\n                                            formValues.startdatoAdopsjonValg,\n                                            formValues.annenStartdatoAdopsjon,\n                                            dateToISOString(barn.adopsjonsdato),\n                                            dateToISOString(ankomstdato),\n                                            formValues.søkersFørsteDag\n                                        )\n                                    ),\n                                    'day'\n                                ) &&\n                                !isAdoptertStebarn(barn) &&\n                                !erDeltUttak\n                            }\n                        >\n                            <GuidePanel>\n                                <FormattedMessage\n                                    id={\n                                        erAdoptertIUtlandet === false\n                                            ? 'uttaksplaninfo.info.ikkeAdoptertIUtlandet'\n                                            : 'uttaksplaninfo.info.adoptertIUtlandet'\n                                    }\n                                />\n                            </GuidePanel>\n                        </Block>\n                        <Block visible={erAleneOmOmsorg === false && harAnnenForelderRettPåForeldrepengerINorge}>\n                            <Block\n                                padBottom=\"xl\"\n                                visible={\n                                    antallBarn > 1 &&\n                                    formValues.startdatoAdopsjonValg !== undefined &&\n                                    formValues.harAnnenForelderSøktFP !== YesOrNo.YES\n                                }\n                            >\n                                <GuidePanel>\n                                    <FormattedMessage\n                                        id=\"uttaksplaninfo.veileder.flerbarnsInformasjon\"\n                                        values={{\n                                            uker: getFlerbarnsuker(formValues.dekningsgrad!, antallBarn),\n                                            navnFar: navnFarMedmor,\n                                            navnMor: navnMor,\n                                        }}\n                                    />\n                                </GuidePanel>\n                            </Block>\n                            <Block\n                                padBottom=\"xl\"\n                                visible={visibility.isIncluded(MorFarAdopsjonFormField.fellesperiodeukerMor)}\n                            >\n                                <FordelingFellesperiodeSpørsmål\n                                    setFieldValue={setFieldValue}\n                                    valgtStønadskonto={valgtStønadskonto}\n                                    valgtFellesperiodeukerMor={formValues.fellesperiodeukerMor}\n                                    mor={navnMor}\n                                    farMedmor={navnFarMedmor}\n                                    annenForelderErFarEllerMedmor={!erSøkerMor}\n                                />\n                            </Block>\n                        </Block>\n                        <Block>\n                            <StepButtonWrapper>\n                                <Button variant=\"secondary\" as={Link} to={getPreviousStepHref('uttaksplanInfo')}>\n                                    <FormattedMessage id=\"backlink.label\" />\n                                </Button>\n                                {visibility.areAllQuestionsAnswered() && (\n                                    <Button type=\"submit\" disabled={isSubmitting} loading={isSubmitting}>\n                                        {intlUtils(intl, 'søknad.gåVidere')}\n                                    </Button>\n                                )}\n                            </StepButtonWrapper>\n                        </Block>\n                    </MorFarAdopsjonFormComponents.Form>\n                );\n            }}\n        />\n    );\n};\n\nexport default MorFarAdopsjon;\n","import { getTypedFormComponents } from '@navikt/sif-common-formik-ds/lib';\nimport AdopsjonStartdatoValg from '../mor-far-adopsjon/adopsjonStartdatoValg';\n\nexport enum MorFarAdopsjonAnnenForelderHarRettIEØSFormField {\n    dekningsgrad = 'dekningsgrad',\n    startdatoAdopsjonValg = 'startdatoAdopsjonValg',\n    annenStartdatoAdopsjon = 'annenStartdatoAdopsjon',\n}\n\nexport interface MorFarAdopsjonAnnenForelderHarRettIEØSFormData {\n    [MorFarAdopsjonAnnenForelderHarRettIEØSFormField.dekningsgrad]: string;\n    [MorFarAdopsjonAnnenForelderHarRettIEØSFormField.startdatoAdopsjonValg]: AdopsjonStartdatoValg | undefined;\n    [MorFarAdopsjonAnnenForelderHarRettIEØSFormField.annenStartdatoAdopsjon]: string | undefined;\n}\n\nexport const MorFarAdopsjonAnnenForelderHarRettIEØSFormComponents = getTypedFormComponents<\n    MorFarAdopsjonAnnenForelderHarRettIEØSFormField,\n    MorFarAdopsjonAnnenForelderHarRettIEØSFormData\n>();\n","import { QuestionConfig, Questions } from '@navikt/sif-common-question-config';\nimport { hasValue } from '@navikt/fp-common';\nimport {\n    MorFarAdopsjonAnnenForelderHarRettIEØSFormData,\n    MorFarAdopsjonAnnenForelderHarRettIEØSFormField,\n} from './morFarAdopsjonAnnenForelderHarRettIEØSFormConfig';\nimport AdopsjonStartdatoValg from '../mor-far-adopsjon/adopsjonStartdatoValg';\nexport interface MorFarAdopsjonAnnenForelderHarRettIEØSQuestionsPayload\n    extends MorFarAdopsjonAnnenForelderHarRettIEØSFormData {\n    erFarEllerMedmor: boolean;\n}\nconst MorFarAdopsjonAnnenForelderHarRettIEØSFormConfig: QuestionConfig<\n    MorFarAdopsjonAnnenForelderHarRettIEØSQuestionsPayload,\n    MorFarAdopsjonAnnenForelderHarRettIEØSFormField\n> = {\n    [MorFarAdopsjonAnnenForelderHarRettIEØSFormField.dekningsgrad]: {\n        isAnswered: ({ dekningsgrad }) => hasValue(dekningsgrad),\n        isIncluded: () => true,\n    },\n    [MorFarAdopsjonAnnenForelderHarRettIEØSFormField.startdatoAdopsjonValg]: {\n        isAnswered: ({ startdatoAdopsjonValg }) => hasValue(startdatoAdopsjonValg),\n        isIncluded: ({ dekningsgrad }) => hasValue(dekningsgrad),\n    },\n    [MorFarAdopsjonAnnenForelderHarRettIEØSFormField.annenStartdatoAdopsjon]: {\n        isAnswered: ({ annenStartdatoAdopsjon }) => hasValue(annenStartdatoAdopsjon),\n        isIncluded: ({ dekningsgrad, startdatoAdopsjonValg }) =>\n            startdatoAdopsjonValg === AdopsjonStartdatoValg.ANNEN && hasValue(dekningsgrad),\n    },\n};\nexport const morFarAdopsjonAnnenForelderHarRettIEØSQuestionsConfig = Questions<\n    MorFarAdopsjonAnnenForelderHarRettIEØSQuestionsPayload,\n    MorFarAdopsjonAnnenForelderHarRettIEØSFormField\n>(MorFarAdopsjonAnnenForelderHarRettIEØSFormConfig);\n","import { MorFarAdopsjonAnnenForelderHarRettIEØSUttaksplanInfo } from 'app/context/types/UttaksplanInfo';\nimport { Dekningsgrad } from 'app/types/Dekningsgrad';\nimport { finnEnum } from '../mor-far-adopsjon/adopsjonStartdatoValg';\nimport {\n    MorFarAdopsjonAnnenForelderHarRettIEØSFormField,\n    MorFarAdopsjonAnnenForelderHarRettIEØSFormData,\n} from './morFarAdopsjonAnnenForelderHarRettIEØSFormConfig';\n\nconst initialMorFarAdopsjonAnnenForelderHarRettIEØSValues: MorFarAdopsjonAnnenForelderHarRettIEØSFormData = {\n    [MorFarAdopsjonAnnenForelderHarRettIEØSFormField.dekningsgrad]: '',\n    [MorFarAdopsjonAnnenForelderHarRettIEØSFormField.startdatoAdopsjonValg]: undefined,\n    [MorFarAdopsjonAnnenForelderHarRettIEØSFormField.annenStartdatoAdopsjon]: '',\n};\nexport const mapMorFarAdopsjonAnnenForelderHarRettIEØSFormToState = (\n    values: Partial<MorFarAdopsjonAnnenForelderHarRettIEØSFormData>\n): MorFarAdopsjonAnnenForelderHarRettIEØSUttaksplanInfo => {\n    return {\n        dekningsgrad: values.dekningsgrad!,\n        startdatoAdopsjonValg: values.startdatoAdopsjonValg!,\n        annenStartdatoAdopsjon: values.annenStartdatoAdopsjon!,\n    };\n};\nexport const getInitialMorFarAdopsjonAnnenForelderHarRettIEØSValues = (\n    lagretUttaksplanInfo: MorFarAdopsjonAnnenForelderHarRettIEØSUttaksplanInfo | undefined,\n    dekningsgrad: Dekningsgrad\n): MorFarAdopsjonAnnenForelderHarRettIEØSFormData => {\n    if (lagretUttaksplanInfo) {\n        return {\n            ...lagretUttaksplanInfo,\n            [MorFarAdopsjonAnnenForelderHarRettIEØSFormField.dekningsgrad]: dekningsgrad,\n            [MorFarAdopsjonAnnenForelderHarRettIEØSFormField.startdatoAdopsjonValg]: finnEnum(\n                lagretUttaksplanInfo.startdatoAdopsjonValg\n            ),\n        };\n    }\n    return initialMorFarAdopsjonAnnenForelderHarRettIEØSValues;\n};\n","import { FunctionComponent } from 'react';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport dayjs from 'dayjs';\nimport { Block, StepButtonWrapper, intlUtils } from '@navikt/fp-common';\nimport useSøknad from 'app/utils/hooks/useSøknad';\nimport { formaterNavn } from 'app/utils/personUtils';\nimport { getFamiliehendelsedato } from 'app/utils/barnUtils';\nimport { getValgtStønadskontoFor80Og100Prosent } from 'app/utils/stønadskontoUtils';\nimport { TilgjengeligeStønadskontoerDTO } from 'app/types/TilgjengeligeStønadskontoerDTO';\nimport { isAnnenForelderOppgitt } from 'app/context/types/AnnenForelder';\nimport { getFlerbarnsuker } from 'app/steps/uttaksplan-info/utils/uttaksplanHarForMangeFlerbarnsuker';\nimport { isAdoptertAnnetBarn, isAdoptertBarn, isAdoptertStebarn } from 'app/context/types/Barn';\nimport useSøkerinfo from 'app/utils/hooks/useSøkerinfo';\nimport { findEldsteDato, ISOStringToDate } from 'app/utils/dateUtils';\nimport SøknadRoutes from 'app/routes/routes';\nimport useOnValidSubmit from 'app/utils/hooks/useOnValidSubmit';\nimport actionCreator from 'app/context/action/actionCreator';\nimport useUttaksplanInfo from 'app/utils/hooks/useUttaksplanInfo';\nimport { MorFarAdopsjonAnnenForelderHarRettIEØSUttaksplanInfo } from 'app/context/types/UttaksplanInfo';\nimport DekningsgradSpørsmål from '../spørsmål/DekningsgradSpørsmål';\nimport { getDekningsgradFromString } from 'app/utils/getDekningsgradFromString';\nimport { lagUttaksplan } from 'app/utils/uttaksplan/lagUttaksplan';\nimport isFarEllerMedmor from 'app/utils/isFarEllerMedmor';\nimport { Uttaksdagen } from 'app/steps/uttaksplan-info/utils/Uttaksdagen';\nimport { storeAppState } from 'app/utils/submitUtils';\nimport { ForeldrepengesøknadContextState } from 'app/context/ForeldrepengesøknadContextConfig';\nimport { getAntallUker } from 'app/steps/uttaksplan-info/utils/stønadskontoer';\nimport { getHarAktivitetskravIPeriodeUtenUttak } from 'app/utils/uttaksplan/uttaksplanUtils';\nimport StartdatoAdopsjon, { finnStartdatoAdopsjon } from '../mor-far-adopsjon/StartdatoAdopsjon';\nimport { morFarAdopsjonAnnenForelderHarRettIEØSQuestionsConfig } from './morFarAdopsjonAnnenForelderHarRettIEØSQuestionsConfig';\nimport {\n    MorFarAdopsjonAnnenForelderHarRettIEØSFormComponents,\n    MorFarAdopsjonAnnenForelderHarRettIEØSFormData,\n    MorFarAdopsjonAnnenForelderHarRettIEØSFormField,\n} from './morFarAdopsjonAnnenForelderHarRettIEØSFormConfig';\nimport {\n    getInitialMorFarAdopsjonAnnenForelderHarRettIEØSValues,\n    mapMorFarAdopsjonAnnenForelderHarRettIEØSFormToState,\n} from './morFarAdopsjonAnnenForelderHarRettIEØSUtils';\nimport AdopsjonStartdatoValg from '../mor-far-adopsjon/adopsjonStartdatoValg';\nimport { useForeldrepengesøknadContext } from 'app/context/hooks/useForeldrepengesøknadContext';\nimport { dateToISOString } from '@navikt/sif-common-formik-ds/lib';\nimport { Button, GuidePanel } from '@navikt/ds-react';\nimport { MorFarAdopsjonAnnenForelderHarRettIEØSQuestionsPayload } from './morFarAdopsjonAnnenForelderHarRettIEØSQuestionsConfig';\nimport { Link } from 'react-router-dom';\nimport { getPreviousStepHref } from 'app/steps/stepsConfig';\n\ninterface Props {\n    tilgjengeligeStønadskontoer100DTO: TilgjengeligeStønadskontoerDTO;\n    tilgjengeligeStønadskontoer80DTO: TilgjengeligeStønadskontoerDTO;\n}\n\nconst MorFarAdopsjonAnnenForelderHarRettIEØS: FunctionComponent<Props> = ({\n    tilgjengeligeStønadskontoer80DTO,\n    tilgjengeligeStønadskontoer100DTO,\n}) => {\n    const intl = useIntl();\n    const { state } = useForeldrepengesøknadContext();\n    const { søkersituasjon, annenForelder, barn, dekningsgrad, erEndringssøknad } = useSøknad();\n    const {\n        person: { fornavn, mellomnavn, etternavn },\n    } = useSøkerinfo();\n    const lagretUttaksplanInfo = useUttaksplanInfo<MorFarAdopsjonAnnenForelderHarRettIEØSUttaksplanInfo>();\n    const erDeltUttak = true;\n    const erAdopsjon = søkersituasjon.situasjon === 'adopsjon';\n    const erFarEllerMedmor = isFarEllerMedmor(søkersituasjon.rolle);\n    const familiehendelsesdato = getFamiliehendelsedato(barn);\n    const familiehendelsesdatoDate = ISOStringToDate(familiehendelsesdato);\n    const førsteUttaksdagNesteBarnsSak =\n        state.barnFraNesteSak !== undefined ? state.barnFraNesteSak.startdatoFørsteStønadsperiode : undefined;\n\n    const onValidSubmitHandler = (values: Partial<MorFarAdopsjonAnnenForelderHarRettIEØSFormData>) => {\n        const submissionValues = mapMorFarAdopsjonAnnenForelderHarRettIEØSFormToState(values);\n        const barnAdopsjonsdato = isAdoptertBarn(barn) ? barn.adopsjonsdato : undefined;\n        const antallUker = getAntallUker(tilgjengeligeStønadskontoer[values.dekningsgrad! === '100' ? 100 : 80]);\n\n        const startdato = finnStartdatoAdopsjon(\n            values.startdatoAdopsjonValg!,\n            values.annenStartdatoAdopsjon,\n            dateToISOString(barnAdopsjonsdato),\n            dateToISOString(ankomstdato)\n        );\n\n        return [\n            actionCreator.setAntallUkerIUttaksplan(antallUker),\n            actionCreator.setUttaksplanInfo(submissionValues),\n            actionCreator.setDekningsgrad(getDekningsgradFromString(values.dekningsgrad)),\n            actionCreator.lagUttaksplanforslag(\n                lagUttaksplan({\n                    annenForelderErUfør: false,\n                    erDeltUttak,\n                    erEndringssøknad,\n                    erEnkelEndringssøknad: erEndringssøknad,\n                    familiehendelsesdato: familiehendelsesdatoDate!,\n                    førsteUttaksdagEtterSeksUker: Uttaksdagen(\n                        Uttaksdagen(familiehendelsesdatoDate!).denneEllerNeste()\n                    ).leggTil(30),\n                    situasjon: søkersituasjon.situasjon,\n                    søkerErFarEllerMedmor: erFarEllerMedmor,\n                    søkerHarMidlertidigOmsorg: false,\n                    tilgjengeligeStønadskontoer:\n                        tilgjengeligeStønadskontoer[getDekningsgradFromString(values.dekningsgrad)],\n                    uttaksplanSkjema: {\n                        startdatoPermisjon: startdato,\n                        farSinFørsteUttaksdag: erFarEllerMedmor ? startdato : undefined,\n                    },\n                    bareFarMedmorHarRett: false,\n                    termindato: undefined,\n                    harAktivitetskravIPeriodeUtenUttak: getHarAktivitetskravIPeriodeUtenUttak({\n                        erDeltUttak,\n                        morHarRett: true,\n                        søkerErAleneOmOmsorg: false,\n                    }),\n                    annenForelderHarRettPåForeldrepengerIEØS: true,\n                    førsteUttaksdagNesteBarnsSak,\n                })\n            ),\n        ];\n    };\n\n    const { handleSubmit, isSubmitting } = useOnValidSubmit(\n        onValidSubmitHandler,\n        SøknadRoutes.UTTAKSPLAN,\n        (state: ForeldrepengesøknadContextState) => storeAppState(state)\n    );\n\n    if (!erAdopsjon || !isAdoptertBarn(barn)) {\n        return null;\n    }\n\n    const erSøkerMor = !erFarEllerMedmor;\n    const oppgittAnnenForelder = isAnnenForelderOppgitt(annenForelder) ? annenForelder : undefined;\n    const navnAnnenPart = oppgittAnnenForelder\n        ? formaterNavn(oppgittAnnenForelder.fornavn, oppgittAnnenForelder.etternavn, true)\n        : '';\n\n    const erDeltUttakINorge = false;\n    const navnSøker = formaterNavn(fornavn, etternavn, true, mellomnavn);\n    const navnMor = erSøkerMor ? navnSøker : navnAnnenPart;\n    const navnFarMedmor = erSøkerMor ? navnAnnenPart : navnSøker;\n    const erAdoptertIUtlandet = isAdoptertAnnetBarn(barn) ? barn.adoptertIUtlandet : false;\n    const ankomstdato = isAdoptertAnnetBarn(barn) ? barn.ankomstdato : undefined;\n    const antallBarn = barn.antallBarn;\n    const latestDate =\n        ankomstdato !== undefined && barn.adopsjonsdato !== undefined\n            ? dateToISOString(findEldsteDato([ankomstdato, barn.adopsjonsdato]))\n            : barn.adopsjonsdato;\n\n    const tilgjengeligeStønadskontoer = getValgtStønadskontoFor80Og100Prosent(\n        tilgjengeligeStønadskontoer80DTO,\n        tilgjengeligeStønadskontoer100DTO\n    );\n\n    return (\n        <MorFarAdopsjonAnnenForelderHarRettIEØSFormComponents.FormikWrapper\n            initialValues={getInitialMorFarAdopsjonAnnenForelderHarRettIEØSValues(lagretUttaksplanInfo, dekningsgrad)}\n            onSubmit={handleSubmit}\n            renderForm={({ values: formValues }) => {\n                const visibility = morFarAdopsjonAnnenForelderHarRettIEØSQuestionsConfig.getVisbility({\n                    ...formValues,\n                    erFarEllerMedmor,\n                } as MorFarAdopsjonAnnenForelderHarRettIEØSQuestionsPayload);\n\n                return (\n                    <MorFarAdopsjonAnnenForelderHarRettIEØSFormComponents.Form\n                        includeButtons={false}\n                        includeValidationSummary={true}\n                    >\n                        <Block\n                            padBottom=\"xl\"\n                            visible={visibility.isIncluded(\n                                MorFarAdopsjonAnnenForelderHarRettIEØSFormField.dekningsgrad\n                            )}\n                        >\n                            <DekningsgradSpørsmål\n                                FormKomponent={MorFarAdopsjonAnnenForelderHarRettIEØSFormComponents}\n                                dekningsgradFeltNavn={MorFarAdopsjonAnnenForelderHarRettIEØSFormField.dekningsgrad}\n                                tilgjengeligeStønadskontoer={tilgjengeligeStønadskontoer}\n                                erDeltUttak={erDeltUttakINorge}\n                            />\n                        </Block>\n                        <Block\n                            visible={visibility.isIncluded(\n                                MorFarAdopsjonAnnenForelderHarRettIEØSFormField.startdatoAdopsjonValg\n                            )}\n                        >\n                            <StartdatoAdopsjon valgtStartdatoAdopsjon={formValues.startdatoAdopsjonValg} />\n                        </Block>\n                        <Block\n                            padBottom=\"xl\"\n                            visible={\n                                erAdopsjon &&\n                                isAdoptertBarn(barn) &&\n                                formValues.startdatoAdopsjonValg === AdopsjonStartdatoValg.ANNEN &&\n                                dayjs(latestDate).isBefore(\n                                    dayjs(\n                                        finnStartdatoAdopsjon(\n                                            formValues.startdatoAdopsjonValg!,\n                                            undefined,\n                                            dateToISOString(barn.adopsjonsdato),\n                                            dateToISOString(ankomstdato)\n                                        )\n                                    ),\n                                    'day'\n                                ) &&\n                                !isAdoptertStebarn(barn) &&\n                                !erDeltUttak\n                            }\n                        >\n                            <GuidePanel>\n                                <FormattedMessage\n                                    id={\n                                        erAdoptertIUtlandet === false\n                                            ? 'uttaksplaninfo.info.ikkeAdoptertIUtlandet'\n                                            : 'uttaksplaninfo.info.adoptertIUtlandet'\n                                    }\n                                />\n                            </GuidePanel>\n                        </Block>\n                        <Block\n                            padBottom=\"xl\"\n                            visible={antallBarn > 1 && formValues.startdatoAdopsjonValg !== undefined}\n                        >\n                            <GuidePanel>\n                                <FormattedMessage\n                                    id=\"uttaksplaninfo.veileder.flerbarnsInformasjon.annenForelderHarRettIEØS\"\n                                    values={{\n                                        uker: getFlerbarnsuker(formValues.dekningsgrad!, antallBarn),\n                                        navnFar: navnFarMedmor,\n                                        navnMor: navnMor,\n                                    }}\n                                />\n                            </GuidePanel>\n                        </Block>\n                        <Block>\n                            <StepButtonWrapper>\n                                <Button variant=\"secondary\" as={Link} to={getPreviousStepHref('uttaksplanInfo')}>\n                                    <FormattedMessage id=\"backlink.label\" />\n                                </Button>\n                                {visibility.areAllQuestionsAnswered() && (\n                                    <Button type=\"submit\" disabled={isSubmitting} loading={isSubmitting}>\n                                        {intlUtils(intl, 'søknad.gåVidere')}\n                                    </Button>\n                                )}\n                            </StepButtonWrapper>\n                        </Block>\n                    </MorFarAdopsjonAnnenForelderHarRettIEØSFormComponents.Form>\n                );\n            }}\n        />\n    );\n};\n\nexport default MorFarAdopsjonAnnenForelderHarRettIEØS;\n","import { getTypedFormComponents } from '@navikt/sif-common-formik-ds/lib';\n\nexport enum MorFarFødselAnnenForelderHarRettIEØSFormField {\n    dekningsgrad = 'dekningsgrad',\n    permisjonStartdato = 'permisjonStartdato',\n    skalIkkeHaUttakFørTermin = 'skalIkkeHaUttakFørTermin',\n}\n\nexport interface MorFarFødselAnnenForelderHarRettIEØSFormData {\n    [MorFarFødselAnnenForelderHarRettIEØSFormField.dekningsgrad]: string;\n    [MorFarFødselAnnenForelderHarRettIEØSFormField.permisjonStartdato]: string;\n    [MorFarFødselAnnenForelderHarRettIEØSFormField.skalIkkeHaUttakFørTermin]: boolean | undefined;\n}\n\nexport const MorFarFødselAnnenForelderHarRettIEØSFormComponents = getTypedFormComponents<\n    MorFarFødselAnnenForelderHarRettIEØSFormField,\n    MorFarFødselAnnenForelderHarRettIEØSFormData\n>();\n","import { QuestionConfig, Questions } from '@navikt/sif-common-question-config';\nimport { hasValue } from '@navikt/fp-common';\nimport {\n    MorFarFødselAnnenForelderHarRettIEØSFormData,\n    MorFarFødselAnnenForelderHarRettIEØSFormField,\n} from './morFarFødselAnnenForelderHarRettIEØSFormConfig';\nexport interface MorFarFødselAnnenForelderHarRettIEØSQuestionsPayload\n    extends MorFarFødselAnnenForelderHarRettIEØSFormData {\n    erFarEllerMedmor: boolean;\n}\n\nconst MorFarFødselAnnenForelderHarRettIEØSFormConfig: QuestionConfig<\n    MorFarFødselAnnenForelderHarRettIEØSQuestionsPayload,\n    MorFarFødselAnnenForelderHarRettIEØSFormField\n> = {\n    [MorFarFødselAnnenForelderHarRettIEØSFormField.dekningsgrad]: {\n        isAnswered: ({ dekningsgrad }) => hasValue(dekningsgrad),\n        isIncluded: () => true,\n    },\n    [MorFarFødselAnnenForelderHarRettIEØSFormField.permisjonStartdato]: {\n        isAnswered: ({ permisjonStartdato }) => hasValue(permisjonStartdato),\n        isIncluded: ({ dekningsgrad }) => hasValue(dekningsgrad),\n    },\n};\n\nexport const morFarFødselAnnenForelderHarRettIEØSQuestionsConfig = Questions<\n    MorFarFødselAnnenForelderHarRettIEØSQuestionsPayload,\n    MorFarFødselAnnenForelderHarRettIEØSFormField\n>(MorFarFødselAnnenForelderHarRettIEØSFormConfig);\n","import { MorFarFødselAnnenForelderHarRettIEØSUttaksplanInfo } from 'app/context/types/UttaksplanInfo';\nimport { Dekningsgrad } from 'app/types/Dekningsgrad';\nimport {\n    MorFarFødselAnnenForelderHarRettIEØSFormField,\n    MorFarFødselAnnenForelderHarRettIEØSFormData,\n} from './morFarFødselAnnenForelderHarRettIEØSFormConfig';\nimport { dateToISOString } from '@navikt/sif-common-formik-ds/lib';\n\nconst initialMorFarFødselAnnenForelderHarRettIEØSValues: MorFarFødselAnnenForelderHarRettIEØSFormData = {\n    [MorFarFødselAnnenForelderHarRettIEØSFormField.dekningsgrad]: '',\n    [MorFarFødselAnnenForelderHarRettIEØSFormField.permisjonStartdato]: '',\n    [MorFarFødselAnnenForelderHarRettIEØSFormField.skalIkkeHaUttakFørTermin]: undefined,\n};\nexport const mapMorFarFødselAnnenForelderHarRettIEØSFormToState = (\n    values: Partial<MorFarFødselAnnenForelderHarRettIEØSFormData>\n): MorFarFødselAnnenForelderHarRettIEØSUttaksplanInfo => {\n    return {\n        dekningsgrad: values.dekningsgrad!,\n        permisjonStartdato: values.permisjonStartdato!,\n        skalIkkeHaUttakFørTermin: values.skalIkkeHaUttakFørTermin,\n    };\n};\nexport const getInitialMorFarFødselAnnenForelderHarRettIEØSValues = (\n    defaultPermisjonStartdato: Date,\n    lagretUttaksplanInfo: MorFarFødselAnnenForelderHarRettIEØSUttaksplanInfo | undefined,\n    dekningsgrad: Dekningsgrad\n): MorFarFødselAnnenForelderHarRettIEØSFormData => {\n    if (lagretUttaksplanInfo) {\n        return {\n            ...lagretUttaksplanInfo,\n            [MorFarFødselAnnenForelderHarRettIEØSFormField.dekningsgrad]: dekningsgrad,\n        };\n    }\n    return {\n        ...initialMorFarFødselAnnenForelderHarRettIEØSValues,\n        [MorFarFødselAnnenForelderHarRettIEØSFormField.permisjonStartdato]: dateToISOString(defaultPermisjonStartdato),\n    };\n};\n","import { FunctionComponent } from 'react';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport { Block, StepButtonWrapper, hasValue, intlUtils } from '@navikt/fp-common';\nimport useSøknad from 'app/utils/hooks/useSøknad';\nimport { formaterNavn } from 'app/utils/personUtils';\nimport { getFamiliehendelsedato, getFødselsdato, getTermindato } from 'app/utils/barnUtils';\nimport { getValgtStønadskontoFor80Og100Prosent } from 'app/utils/stønadskontoUtils';\nimport { TilgjengeligeStønadskontoerDTO } from 'app/types/TilgjengeligeStønadskontoerDTO';\nimport { isAnnenForelderOppgitt } from 'app/context/types/AnnenForelder';\nimport { getFlerbarnsuker } from 'app/steps/uttaksplan-info/utils/uttaksplanHarForMangeFlerbarnsuker';\nimport useSøkerinfo from 'app/utils/hooks/useSøkerinfo';\nimport { ISOStringToDate } from 'app/utils/dateUtils';\nimport FarMedmorsFørsteDag from '../spørsmål/FarMedmorsFørsteDag';\nimport SøknadRoutes from 'app/routes/routes';\nimport useOnValidSubmit from 'app/utils/hooks/useOnValidSubmit';\nimport actionCreator from 'app/context/action/actionCreator';\nimport useUttaksplanInfo from 'app/utils/hooks/useUttaksplanInfo';\nimport { MorFarFødselAnnenForelderHarRettIEØSUttaksplanInfo } from 'app/context/types/UttaksplanInfo';\nimport DekningsgradSpørsmål from '../spørsmål/DekningsgradSpørsmål';\nimport { getDekningsgradFromString } from 'app/utils/getDekningsgradFromString';\nimport { lagUttaksplan } from 'app/utils/uttaksplan/lagUttaksplan';\nimport isFarEllerMedmor from 'app/utils/isFarEllerMedmor';\nimport { Uttaksdagen } from 'app/steps/uttaksplan-info/utils/Uttaksdagen';\nimport { storeAppState } from 'app/utils/submitUtils';\nimport { ForeldrepengesøknadContextState } from 'app/context/ForeldrepengesøknadContextConfig';\nimport { getAntallUker } from 'app/steps/uttaksplan-info/utils/stønadskontoer';\nimport { getHarAktivitetskravIPeriodeUtenUttak } from 'app/utils/uttaksplan/uttaksplanUtils';\nimport {\n    morFarFødselAnnenForelderHarRettIEØSQuestionsConfig,\n    MorFarFødselAnnenForelderHarRettIEØSQuestionsPayload,\n} from './morFarFødselAnnenForelderHarRettIEØSQuestionsConfig';\nimport {\n    MorFarFødselAnnenForelderHarRettIEØSFormComponents as MorFarFødselAnnenForelderHarRettIEØSFormComponents,\n    MorFarFødselAnnenForelderHarRettIEØSFormData,\n    MorFarFødselAnnenForelderHarRettIEØSFormField,\n} from './morFarFødselAnnenForelderHarRettIEØSFormConfig';\nimport {\n    getInitialMorFarFødselAnnenForelderHarRettIEØSValues,\n    mapMorFarFødselAnnenForelderHarRettIEØSFormToState,\n} from './morFarFødselAnnenForelderHarRettIEØSUtils';\nimport { skalViseInfoOmPrematuruker } from 'app/utils/uttaksplanInfoUtils';\nimport { Tidsperioden } from 'app/steps/uttaksplan-info/utils/Tidsperioden';\nimport StartdatoPermisjonMor from '../mor-fodsel/StartdatoPermisjonMor';\nimport uttaksConstants from 'app/constants';\nimport { useForeldrepengesøknadContext } from 'app/context/hooks/useForeldrepengesøknadContext';\nimport { Button, GuidePanel } from '@navikt/ds-react';\nimport { Link } from 'react-router-dom';\nimport { getPreviousStepHref } from 'app/steps/stepsConfig';\n\ninterface Props {\n    tilgjengeligeStønadskontoer100DTO: TilgjengeligeStønadskontoerDTO;\n    tilgjengeligeStønadskontoer80DTO: TilgjengeligeStønadskontoerDTO;\n}\n\nconst MorFarFødselAnnenForelderHarRettIEØS: FunctionComponent<Props> = ({\n    tilgjengeligeStønadskontoer80DTO,\n    tilgjengeligeStønadskontoer100DTO,\n}) => {\n    const intl = useIntl();\n    const { state } = useForeldrepengesøknadContext();\n    const { søkersituasjon, annenForelder, barn, dekningsgrad, erEndringssøknad } = useSøknad();\n    const {\n        person: { fornavn, mellomnavn, etternavn },\n    } = useSøkerinfo();\n    const fødselsdato = getFødselsdato(barn);\n    const termindato = getTermindato(barn);\n    const lagretUttaksplanInfo = useUttaksplanInfo<MorFarFødselAnnenForelderHarRettIEØSUttaksplanInfo>();\n    const erDeltUttak = true;\n    const erFødsel = søkersituasjon.situasjon === 'fødsel';\n    const erFarEllerMedmor = isFarEllerMedmor(søkersituasjon.rolle);\n    const familiehendelsesdato = getFamiliehendelsedato(barn);\n    const familiehendelsesdatoDate = ISOStringToDate(familiehendelsesdato);\n    const førsteUttaksdagNesteBarnsSak =\n        state.barnFraNesteSak !== undefined ? state.barnFraNesteSak.startdatoFørsteStønadsperiode : undefined;\n\n    const shouldRender = erFødsel;\n\n    const onValidSubmitHandler = (values: Partial<MorFarFødselAnnenForelderHarRettIEØSFormData>) => {\n        const submissionValues = mapMorFarFødselAnnenForelderHarRettIEØSFormToState(values);\n        const antallUker = getAntallUker(tilgjengeligeStønadskontoer[values.dekningsgrad! === '100' ? 100 : 80]);\n        const startdato = hasValue(values.permisjonStartdato) ? values.permisjonStartdato : undefined;\n\n        return [\n            actionCreator.setAntallUkerIUttaksplan(antallUker),\n            actionCreator.setUttaksplanInfo(submissionValues),\n            actionCreator.setDekningsgrad(getDekningsgradFromString(values.dekningsgrad)),\n            actionCreator.lagUttaksplanforslag(\n                lagUttaksplan({\n                    annenForelderErUfør: false,\n                    erDeltUttak,\n                    erEndringssøknad,\n                    erEnkelEndringssøknad: erEndringssøknad,\n                    familiehendelsesdato: familiehendelsesdatoDate!,\n                    førsteUttaksdagEtterSeksUker: Uttaksdagen(\n                        Uttaksdagen(familiehendelsesdatoDate!).denneEllerNeste()\n                    ).leggTil(30),\n                    situasjon: søkersituasjon.situasjon,\n                    søkerErFarEllerMedmor: erFarEllerMedmor,\n                    søkerHarMidlertidigOmsorg: false,\n                    tilgjengeligeStønadskontoer:\n                        tilgjengeligeStønadskontoer[getDekningsgradFromString(values.dekningsgrad)],\n                    uttaksplanSkjema: {\n                        startdatoPermisjon: submissionValues.skalIkkeHaUttakFørTermin ? undefined : startdato,\n                        farSinFørsteUttaksdag: erFarEllerMedmor ? startdato : undefined,\n                    },\n                    bareFarMedmorHarRett: false,\n                    termindato: undefined,\n                    harAktivitetskravIPeriodeUtenUttak: getHarAktivitetskravIPeriodeUtenUttak({\n                        erDeltUttak,\n                        morHarRett: true,\n                        søkerErAleneOmOmsorg: false,\n                    }),\n                    annenForelderHarRettPåForeldrepengerIEØS: true,\n                    førsteUttaksdagNesteBarnsSak,\n                })\n            ),\n        ];\n    };\n\n    const { handleSubmit, isSubmitting } = useOnValidSubmit(\n        onValidSubmitHandler,\n        SøknadRoutes.UTTAKSPLAN,\n        (state: ForeldrepengesøknadContextState) => storeAppState(state)\n    );\n\n    if (!shouldRender) {\n        return null;\n    }\n\n    const erSøkerMor = !erFarEllerMedmor;\n    const oppgittAnnenForelder = isAnnenForelderOppgitt(annenForelder) ? annenForelder : undefined;\n\n    const navnAnnenPart = oppgittAnnenForelder\n        ? formaterNavn(oppgittAnnenForelder.fornavn, oppgittAnnenForelder.etternavn, true)\n        : '';\n\n    const erDeltUttakINorge = false;\n\n    const navnSøker = formaterNavn(fornavn, etternavn, true, mellomnavn);\n    const navnMor = erSøkerMor ? navnSøker : navnAnnenPart;\n    const navnFarMedmor = erSøkerMor ? navnAnnenPart : navnSøker;\n    const antallBarn = barn.antallBarn;\n    const tilgjengeligeStønadskontoer = getValgtStønadskontoFor80Og100Prosent(\n        tilgjengeligeStønadskontoer80DTO,\n        tilgjengeligeStønadskontoer100DTO\n    );\n\n    const visInfoOmPrematuruker =\n        !erFarEllerMedmor && skalViseInfoOmPrematuruker(fødselsdato, termindato, søkersituasjon.situasjon);\n    const ekstraDagerGrunnetPrematurFødsel = visInfoOmPrematuruker\n        ? Tidsperioden({ fom: fødselsdato!, tom: termindato! }).getAntallUttaksdager() - 1\n        : undefined;\n    const førsteUttaksdag = Uttaksdagen(ISOStringToDate(familiehendelsesdato)!).denneEllerNeste();\n    const defaultPermisjonStartdato = erFarEllerMedmor\n        ? førsteUttaksdag\n        : Uttaksdagen(førsteUttaksdag).trekkFra(uttaksConstants.ANTALL_UKER_FORELDREPENGER_FØR_FØDSEL * 5);\n    return (\n        <MorFarFødselAnnenForelderHarRettIEØSFormComponents.FormikWrapper\n            initialValues={getInitialMorFarFødselAnnenForelderHarRettIEØSValues(\n                defaultPermisjonStartdato,\n                lagretUttaksplanInfo,\n                dekningsgrad\n            )}\n            onSubmit={handleSubmit}\n            renderForm={({ values: formValues, setFieldValue }) => {\n                const visibility = morFarFødselAnnenForelderHarRettIEØSQuestionsConfig.getVisbility({\n                    ...formValues,\n                    erFarEllerMedmor,\n                } as MorFarFødselAnnenForelderHarRettIEØSQuestionsPayload);\n\n                return (\n                    <MorFarFødselAnnenForelderHarRettIEØSFormComponents.Form\n                        includeButtons={false}\n                        includeValidationSummary={true}\n                    >\n                        <Block\n                            padBottom=\"xl\"\n                            visible={visibility.isIncluded(MorFarFødselAnnenForelderHarRettIEØSFormField.dekningsgrad)}\n                        >\n                            <DekningsgradSpørsmål\n                                FormKomponent={MorFarFødselAnnenForelderHarRettIEØSFormComponents}\n                                dekningsgradFeltNavn={MorFarFødselAnnenForelderHarRettIEØSFormField.dekningsgrad}\n                                tilgjengeligeStønadskontoer={tilgjengeligeStønadskontoer}\n                                erDeltUttak={erDeltUttakINorge}\n                            />\n                        </Block>\n                        <Block padBottom=\"xl\" visible={visInfoOmPrematuruker === true}>\n                            <GuidePanel>\n                                <FormattedMessage\n                                    id=\"uttaksplaninfo.veileder.informasjonPrematuruker\"\n                                    values={{\n                                        antallprematuruker: Math.floor(ekstraDagerGrunnetPrematurFødsel! / 5),\n                                        antallprematurdager: ekstraDagerGrunnetPrematurFødsel! % 5,\n                                    }}\n                                />\n                            </GuidePanel>\n                        </Block>\n                        <Block\n                            visible={\n                                !erFarEllerMedmor &&\n                                visibility.isIncluded(MorFarFødselAnnenForelderHarRettIEØSFormField.permisjonStartdato)\n                            }\n                        >\n                            <StartdatoPermisjonMor\n                                permisjonStartdato={formValues.permisjonStartdato!}\n                                skalIkkeHaUttakFørTermin={formValues.skalIkkeHaUttakFørTermin!}\n                            />\n                        </Block>\n                        <Block\n                            padBottom=\"xl\"\n                            visible={\n                                erFarEllerMedmor &&\n                                visibility.isIncluded(MorFarFødselAnnenForelderHarRettIEØSFormField.permisjonStartdato)\n                            }\n                        >\n                            <FarMedmorsFørsteDag\n                                FormComponents={MorFarFødselAnnenForelderHarRettIEØSFormComponents}\n                                fieldName={MorFarFødselAnnenForelderHarRettIEØSFormField.permisjonStartdato}\n                                familiehendelsesdato={familiehendelsesdatoDate!}\n                                setFieldValue={setFieldValue}\n                                morsSisteDag={undefined}\n                                navnMor={navnMor}\n                                termindato={undefined}\n                                situasjon={søkersituasjon.situasjon}\n                                morHarRettTilForeldrepengerIEØS={true}\n                            />\n                        </Block>\n                        <Block\n                            padBottom=\"xl\"\n                            visible={\n                                visibility.isAnswered(MorFarFødselAnnenForelderHarRettIEØSFormField.dekningsgrad) &&\n                                antallBarn > 1 &&\n                                (formValues.permisjonStartdato !== undefined ||\n                                    formValues.skalIkkeHaUttakFørTermin === true)\n                            }\n                        >\n                            <GuidePanel>\n                                <FormattedMessage\n                                    id=\"uttaksplaninfo.veileder.flerbarnsInformasjon.annenForelderHarRettIEØS\"\n                                    values={{\n                                        uker: getFlerbarnsuker(formValues.dekningsgrad!, antallBarn),\n                                        navnFar: navnFarMedmor,\n                                        navnMor: navnMor,\n                                    }}\n                                />\n                            </GuidePanel>\n                        </Block>\n                        <Block>\n                            <StepButtonWrapper>\n                                <Button variant=\"secondary\" as={Link} to={getPreviousStepHref('uttaksplanInfo')}>\n                                    <FormattedMessage id=\"backlink.label\" />\n                                </Button>\n                                {visibility.areAllQuestionsAnswered() && (\n                                    <Button type=\"submit\" disabled={isSubmitting} loading={isSubmitting}>\n                                        {intlUtils(intl, 'søknad.gåVidere')}\n                                    </Button>\n                                )}\n                            </StepButtonWrapper>\n                        </Block>\n                    </MorFarFødselAnnenForelderHarRettIEØSFormComponents.Form>\n                );\n            }}\n        />\n    );\n};\n\nexport default MorFarFødselAnnenForelderHarRettIEØS;\n","import { getTypedFormComponents } from '@navikt/sif-common-formik-ds/lib';\n\nexport enum FarMedmorAleneomsorgFødselFormField {\n    dekningsgrad = 'dekningsgrad',\n    startPåOmsorgsovertakelse = 'startPåOmsorgsovertakelse',\n    startdatoUttak = 'startdatoUttak',\n}\n\nexport interface FarMedmorAleneomsorgFødselFormData {\n    [FarMedmorAleneomsorgFødselFormField.dekningsgrad]: string;\n    [FarMedmorAleneomsorgFødselFormField.startPåOmsorgsovertakelse]: string;\n    [FarMedmorAleneomsorgFødselFormField.startdatoUttak]: string;\n}\n\nexport const FarMedmorAleneomsorgFødselFormComponents = getTypedFormComponents<\n    FarMedmorAleneomsorgFødselFormField,\n    FarMedmorAleneomsorgFødselFormData\n>();\n","import { hasValue } from '@navikt/fp-common';\nimport { QuestionConfig, Questions } from '@navikt/sif-common-question-config/lib';\nimport {\n    FarMedmorAleneomsorgFødselFormData,\n    FarMedmorAleneomsorgFødselFormField,\n} from './farMedmorAleneomsorgFødselFormConfig';\nimport { YesOrNo } from '@navikt/sif-common-formik-ds/lib';\n\nconst FarMedmorAleneomsorgFødselFormConfig: QuestionConfig<\n    FarMedmorAleneomsorgFødselFormData,\n    FarMedmorAleneomsorgFødselFormField\n> = {\n    [FarMedmorAleneomsorgFødselFormField.dekningsgrad]: {\n        isIncluded: () => true,\n        isAnswered: ({ dekningsgrad }) => hasValue(dekningsgrad),\n    },\n    [FarMedmorAleneomsorgFødselFormField.startPåOmsorgsovertakelse]: {\n        isIncluded: () => true,\n        isAnswered: ({ startPåOmsorgsovertakelse }) => startPåOmsorgsovertakelse !== YesOrNo.UNANSWERED,\n        visibilityFilter: ({ dekningsgrad }) => hasValue(dekningsgrad),\n    },\n    [FarMedmorAleneomsorgFødselFormField.startdatoUttak]: {\n        isIncluded: ({ startPåOmsorgsovertakelse }) => startPåOmsorgsovertakelse === YesOrNo.NO,\n        isAnswered: ({ startdatoUttak }) => hasValue(startdatoUttak),\n        visibilityFilter: ({ startPåOmsorgsovertakelse }) => startPåOmsorgsovertakelse === YesOrNo.NO,\n    },\n};\n\nconst farMedmorAleneomsorgFødselQuestionsConfig = Questions<\n    FarMedmorAleneomsorgFødselFormData,\n    FarMedmorAleneomsorgFødselFormField\n>(FarMedmorAleneomsorgFødselFormConfig);\n\nexport default farMedmorAleneomsorgFødselQuestionsConfig;\n","import { FarMedmorAleneomsorgFødselUttaksplanInfo } from 'app/context/types/UttaksplanInfo';\nimport { Dekningsgrad } from 'app/types/Dekningsgrad';\nimport dayjs from 'dayjs';\nimport {\n    FarMedmorAleneomsorgFødselFormData,\n    FarMedmorAleneomsorgFødselFormField,\n} from './farMedmorAleneomsorgFødselFormConfig';\nimport { YesOrNo } from '@navikt/sif-common-formik-ds/lib';\n\nconst initialFarMedmorAleneomsorgFødselValues: FarMedmorAleneomsorgFødselFormData = {\n    [FarMedmorAleneomsorgFødselFormField.dekningsgrad]: '',\n    [FarMedmorAleneomsorgFødselFormField.startPåOmsorgsovertakelse]: YesOrNo.UNANSWERED,\n    [FarMedmorAleneomsorgFødselFormField.startdatoUttak]: '',\n};\n\nexport const mapFarMedmorAleneomsorgFødselFormToState = (\n    values: Partial<FarMedmorAleneomsorgFødselFormData>,\n    datoForAleneomsorg: string\n): FarMedmorAleneomsorgFødselUttaksplanInfo => {\n    return {\n        fellesperiodeukerMor: undefined,\n        startdatoUttak: values.startPåOmsorgsovertakelse === YesOrNo.YES ? datoForAleneomsorg : values.startdatoUttak!,\n    };\n};\n\nexport const getInitialFarMedmorAleneomsorgFødselValues = (\n    lagretUttaksplanInfo: FarMedmorAleneomsorgFødselUttaksplanInfo | undefined,\n    datoForAleneomsorg: string,\n    dekningsgrad: Dekningsgrad\n): FarMedmorAleneomsorgFødselFormData => {\n    if (lagretUttaksplanInfo) {\n        const startetPåOmsorgsovertakelse = dayjs(lagretUttaksplanInfo.startdatoUttak).isSame(\n            dayjs(datoForAleneomsorg),\n            'day'\n        );\n\n        return {\n            dekningsgrad,\n            startPåOmsorgsovertakelse: startetPåOmsorgsovertakelse ? YesOrNo.YES : YesOrNo.NO,\n            startdatoUttak: startetPåOmsorgsovertakelse ? '' : lagretUttaksplanInfo.startdatoUttak,\n        };\n    }\n\n    return initialFarMedmorAleneomsorgFødselValues;\n};\n","import { isISODateString } from '@navikt/ds-datepicker';\nimport { formatDate, hasValue, intlUtils } from '@navikt/fp-common';\nimport { isDateABeforeDateB } from 'app/utils/dateUtils';\nimport { IntlShape } from 'react-intl';\n\nexport const validateStartdatoUttakFarMedmorAleneomsorgFødsel =\n    (intl: IntlShape, familiehendelsesdato: string) => (startdatoUttak: string) => {\n        if (!hasValue(startdatoUttak)) {\n            return intlUtils(intl, 'valideringsfeil.uttaksplaninfo.farMedmorAleneomsorgFødsel.startdatoUttak.påkrevd');\n        }\n\n        if (!isISODateString(startdatoUttak)) {\n            return intlUtils(\n                intl,\n                'valideringsfeil.uttaksplaninfo.farMedmorAleneomsorgFødsel.startdatoUttak.gyldigDato'\n            );\n        }\n\n        if (isDateABeforeDateB(startdatoUttak, familiehendelsesdato)) {\n            return intlUtils(\n                intl,\n                'valideringsfeil.uttaksplaninfo.farMedmorAleneomsorgFødsel.startdatoUttak.etterFamiliehendelsesdato',\n                { familiehendelsesdato: formatDate(familiehendelsesdato) }\n            );\n        }\n\n        return undefined;\n    };\n","import { Block, StepButtonWrapper, intlUtils } from '@navikt/fp-common';\nimport actionCreator from 'app/context/action/actionCreator';\nimport { ForeldrepengesøknadContextState } from 'app/context/ForeldrepengesøknadContextConfig';\nimport { useForeldrepengesøknadContext } from 'app/context/hooks/useForeldrepengesøknadContext';\nimport { isAnnenForelderOppgitt } from 'app/context/types/AnnenForelder';\nimport { FarMedmorAleneomsorgFødselUttaksplanInfo } from 'app/context/types/UttaksplanInfo';\nimport SøknadRoutes from 'app/routes/routes';\nimport { getAntallUker } from 'app/steps/uttaksplan-info/utils/stønadskontoer';\nimport { Uttaksdagen } from 'app/steps/uttaksplan-info/utils/Uttaksdagen';\nimport { Forelder } from 'app/types/Forelder';\nimport { TilgjengeligeStønadskontoerDTO } from 'app/types/TilgjengeligeStønadskontoerDTO';\nimport { getErMorUfør } from 'app/utils/annenForelderUtils';\nimport { getFamiliehendelsedato, getTermindato } from 'app/utils/barnUtils';\nimport { formaterDatoUtenDag, ISOStringToDate } from 'app/utils/dateUtils';\nimport { getDekningsgradFromString } from 'app/utils/getDekningsgradFromString';\nimport useOnValidSubmit from 'app/utils/hooks/useOnValidSubmit';\nimport useSøkerinfo from 'app/utils/hooks/useSøkerinfo';\nimport useSøknad from 'app/utils/hooks/useSøknad';\nimport useUttaksplanInfo from 'app/utils/hooks/useUttaksplanInfo';\nimport isFarEllerMedmor from 'app/utils/isFarEllerMedmor';\nimport { getValgtStønadskontoFor80Og100Prosent } from 'app/utils/stønadskontoUtils';\nimport { storeAppState } from 'app/utils/submitUtils';\nimport { lagUttaksplan } from 'app/utils/uttaksplan/lagUttaksplan';\nimport { getHarAktivitetskravIPeriodeUtenUttak } from 'app/utils/uttaksplan/uttaksplanUtils';\nimport { FunctionComponent } from 'react';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport TilgjengeligeDagerGraf from '../../tilgjengeligeDagerGraf/TilgjengeligeDagerGraf';\nimport { getTilgjengeligeDager } from '../../tilgjengeligeDagerGraf/tilgjengeligeDagerUtils';\nimport DekningsgradSpørsmål from '../spørsmål/DekningsgradSpørsmål';\nimport {\n    FarMedmorAleneomsorgFødselFormComponents,\n    FarMedmorAleneomsorgFødselFormData,\n    FarMedmorAleneomsorgFødselFormField,\n} from './farMedmorAleneomsorgFødselFormConfig';\nimport farMedmorAleneomsorgFødselAdopsjonQuestionsConfig from './farMedmorAleneomsorgFødselQuestionsConfig';\nimport {\n    getInitialFarMedmorAleneomsorgFødselValues,\n    mapFarMedmorAleneomsorgFødselFormToState,\n} from './farMedmorAleneomsorgFødselUtils';\nimport { validateStartdatoUttakFarMedmorAleneomsorgFødsel } from './validation/farMedmorAleneomsorgFødselValidation';\nimport { Button } from '@navikt/ds-react';\nimport { dateToISOString } from '@navikt/sif-common-formik-ds/lib';\nimport { Link } from 'react-router-dom';\nimport { getPreviousStepHref } from 'app/steps/stepsConfig';\n\ninterface Props {\n    tilgjengeligeStønadskontoer100DTO: TilgjengeligeStønadskontoerDTO;\n    tilgjengeligeStønadskontoer80DTO: TilgjengeligeStønadskontoerDTO;\n}\n\nconst FarMedmorAleneomsorgFødsel: FunctionComponent<Props> = ({\n    tilgjengeligeStønadskontoer100DTO,\n    tilgjengeligeStønadskontoer80DTO,\n}) => {\n    const { state } = useForeldrepengesøknadContext();\n    const { søkersituasjon, søker, annenForelder, barn, dekningsgrad, erEndringssøknad } = useSøknad();\n    const { person } = useSøkerinfo();\n    const erFarEllerMedmor = isFarEllerMedmor(søkersituasjon.rolle);\n    const familiehendelsesdato = getFamiliehendelsedato(barn);\n    const familiehendelsesdatoDate = ISOStringToDate(familiehendelsesdato);\n    const datoForAleneomsorg = annenForelder.kanIkkeOppgis ? familiehendelsesdatoDate : barn.datoForAleneomsorg;\n    const intl = useIntl();\n\n    const erFødsel = søkersituasjon.situasjon === 'fødsel';\n    const lagretUttaksplanInfo = useUttaksplanInfo<FarMedmorAleneomsorgFødselUttaksplanInfo>();\n    const erMorUfør = getErMorUfør(annenForelder, erFarEllerMedmor);\n    const tilgjengeligeStønadskontoer = getValgtStønadskontoFor80Og100Prosent(\n        tilgjengeligeStønadskontoer80DTO,\n        tilgjengeligeStønadskontoer100DTO\n    );\n    const termindato = getTermindato(barn);\n    const førsteUttaksdagNesteBarnsSak =\n        state.barnFraNesteSak !== undefined ? state.barnFraNesteSak.startdatoFørsteStønadsperiode : undefined;\n    const onValidSubmitHandler = (values: Partial<FarMedmorAleneomsorgFødselFormData>) => {\n        const uttaksplanInfo: FarMedmorAleneomsorgFødselUttaksplanInfo = mapFarMedmorAleneomsorgFødselFormToState(\n            values,\n            dateToISOString(datoForAleneomsorg)\n        );\n        const kontoerForValgtDekningsgrad = tilgjengeligeStønadskontoer[getDekningsgradFromString(values.dekningsgrad)];\n        const antallUker = getAntallUker(kontoerForValgtDekningsgrad);\n\n        return [\n            actionCreator.setAntallUkerIUttaksplan(antallUker),\n            actionCreator.setUttaksplanInfo(uttaksplanInfo),\n            actionCreator.setDekningsgrad(getDekningsgradFromString(values.dekningsgrad)),\n            actionCreator.lagUttaksplanforslag(\n                lagUttaksplan({\n                    annenForelderErUfør: erMorUfør,\n                    erDeltUttak: false,\n                    erEndringssøknad,\n                    erEnkelEndringssøknad: erEndringssøknad,\n                    familiehendelsesdato: familiehendelsesdatoDate!,\n                    førsteUttaksdagEtterSeksUker: Uttaksdagen(\n                        Uttaksdagen(familiehendelsesdatoDate!).denneEllerNeste()\n                    ).leggTil(30),\n                    situasjon: erFødsel ? 'fødsel' : 'adopsjon',\n                    søkerErFarEllerMedmor: erFarEllerMedmor,\n                    søkerHarMidlertidigOmsorg: false,\n                    tilgjengeligeStønadskontoer:\n                        tilgjengeligeStønadskontoer[getDekningsgradFromString(values.dekningsgrad)],\n                    uttaksplanSkjema: {\n                        startdatoPermisjon: uttaksplanInfo.startdatoUttak,\n                    },\n                    bareFarMedmorHarRett: false,\n                    termindato,\n                    harAktivitetskravIPeriodeUtenUttak: getHarAktivitetskravIPeriodeUtenUttak({\n                        erDeltUttak: false,\n                        morHarRett: false,\n                        søkerErAleneOmOmsorg: true,\n                    }),\n                    førsteUttaksdagNesteBarnsSak,\n                })\n            ),\n        ];\n    };\n\n    const { handleSubmit, isSubmitting } = useOnValidSubmit(\n        onValidSubmitHandler,\n        SøknadRoutes.UTTAKSPLAN,\n        (state: ForeldrepengesøknadContextState) => storeAppState(state)\n    );\n\n    const shouldRender = erFødsel && erFarEllerMedmor && (!!søker.erAleneOmOmsorg || annenForelder.kanIkkeOppgis);\n\n    if (!shouldRender) {\n        return null;\n    }\n\n    const navnFar = erFarEllerMedmor\n        ? person.fornavn\n        : isAnnenForelderOppgitt(annenForelder)\n        ? annenForelder.fornavn\n        : '';\n\n    return (\n        <FarMedmorAleneomsorgFødselFormComponents.FormikWrapper\n            initialValues={getInitialFarMedmorAleneomsorgFødselValues(\n                lagretUttaksplanInfo,\n                dateToISOString(datoForAleneomsorg),\n                dekningsgrad\n            )}\n            onSubmit={handleSubmit}\n            renderForm={({ values: formValues }) => {\n                const visibility = farMedmorAleneomsorgFødselAdopsjonQuestionsConfig.getVisbility(\n                    formValues as FarMedmorAleneomsorgFødselFormData\n                );\n\n                const valgtStønadskonto = tilgjengeligeStønadskontoer[formValues.dekningsgrad === '100' ? 100 : 80];\n\n                return (\n                    <FarMedmorAleneomsorgFødselFormComponents.Form\n                        includeButtons={false}\n                        includeValidationSummary={true}\n                    >\n                        <Block\n                            padBottom=\"xl\"\n                            visible={visibility.isVisible(FarMedmorAleneomsorgFødselFormField.dekningsgrad)}\n                        >\n                            <DekningsgradSpørsmål\n                                FormKomponent={FarMedmorAleneomsorgFødselFormComponents}\n                                dekningsgradFeltNavn={FarMedmorAleneomsorgFødselFormField.dekningsgrad}\n                                tilgjengeligeStønadskontoer={tilgjengeligeStønadskontoer}\n                                erDeltUttak={false}\n                            />\n                        </Block>\n                        <Block visible={formValues.dekningsgrad !== ''}>\n                            {valgtStønadskonto && (\n                                <TilgjengeligeDagerGraf\n                                    erDeltUttak={false}\n                                    erFarEllerMedmor={true}\n                                    navnFarMedmor={navnFar}\n                                    navnMor=\"\"\n                                    tilgjengeligeDager={getTilgjengeligeDager(\n                                        valgtStønadskonto,\n                                        false,\n                                        Forelder.farMedmor\n                                    )}\n                                />\n                            )}\n                        </Block>\n                        <Block\n                            padBottom=\"xl\"\n                            visible={visibility.isVisible(\n                                FarMedmorAleneomsorgFødselFormField.startPåOmsorgsovertakelse\n                            )}\n                        >\n                            <FarMedmorAleneomsorgFødselFormComponents.YesOrNoQuestion\n                                name={FarMedmorAleneomsorgFødselFormField.startPåOmsorgsovertakelse}\n                                legend={intlUtils(intl, 'uttaksplaninfo.startdatoAleneomsorgFarMedmor.spørsmål')}\n                                labels={{\n                                    yes: intlUtils(\n                                        intl,\n                                        'uttaksplaninfo.startdatoAdopsjon.alternativ.omsorgsovertakelse',\n                                        {\n                                            dato: formaterDatoUtenDag(datoForAleneomsorg!),\n                                        }\n                                    ),\n                                    no: intlUtils(intl, 'uttaksplaninfo.startdatoAleneomsorgFarMedmor.annenDato'),\n                                }}\n                            />\n                        </Block>\n                        <Block\n                            padBottom=\"xl\"\n                            visible={visibility.isVisible(FarMedmorAleneomsorgFødselFormField.startdatoUttak)}\n                        >\n                            <FarMedmorAleneomsorgFødselFormComponents.DatePicker\n                                name={FarMedmorAleneomsorgFødselFormField.startdatoUttak}\n                                label=\"Startdato\"\n                                validate={validateStartdatoUttakFarMedmorAleneomsorgFødsel(intl, familiehendelsesdato)}\n                                minDate={ISOStringToDate(familiehendelsesdato)}\n                                placeholder={'dd.mm.åååå'}\n                            />\n                        </Block>\n                        <Block>\n                            <StepButtonWrapper>\n                                <Button variant=\"secondary\" as={Link} to={getPreviousStepHref('uttaksplanInfo')}>\n                                    <FormattedMessage id=\"backlink.label\" />\n                                </Button>\n                                {visibility.areAllQuestionsAnswered() && (\n                                    <Button type=\"submit\" disabled={isSubmitting} loading={isSubmitting}>\n                                        {intlUtils(intl, 'søknad.gåVidere')}\n                                    </Button>\n                                )}\n                            </StepButtonWrapper>\n                        </Block>\n                    </FarMedmorAleneomsorgFødselFormComponents.Form>\n                );\n            }}\n        />\n    );\n};\n\nexport default FarMedmorAleneomsorgFødsel;\n","import { getTypedFormComponents } from '@navikt/sif-common-formik-ds/lib';\n\nexport enum FarMedmorFødselOgMorHarIkkeRettFormField {\n    dekningsgrad = 'dekningsgrad',\n    permisjonStartdato = 'permisjonStartdato',\n}\n\nexport interface FarMedmorFødselOgMorHarIkkeRettFormData {\n    [FarMedmorFødselOgMorHarIkkeRettFormField.dekningsgrad]: string;\n    [FarMedmorFødselOgMorHarIkkeRettFormField.permisjonStartdato]: string;\n}\n\nexport const FarMedmorFødselOgMorHarIkkeRettFormComponents = getTypedFormComponents<\n    FarMedmorFødselOgMorHarIkkeRettFormField,\n    FarMedmorFødselOgMorHarIkkeRettFormData\n>();\n","import { FarMedmorFødselOgMorHarIkkeRettUttaksplanInfo } from 'app/context/types/UttaksplanInfo';\nimport { Dekningsgrad } from 'app/types/Dekningsgrad';\nimport {\n    FarMedmorFødselOgMorHarIkkeRettFormData,\n    FarMedmorFødselOgMorHarIkkeRettFormField,\n} from './farMedmorFødselOgMorHarIkkeRettFormConfig';\n\nconst initialFarMedmorFødselOgMorHarIkkeRettValues: FarMedmorFødselOgMorHarIkkeRettFormData = {\n    [FarMedmorFødselOgMorHarIkkeRettFormField.dekningsgrad]: '',\n    [FarMedmorFødselOgMorHarIkkeRettFormField.permisjonStartdato]: '',\n};\n\nexport const mapFarMedmorFødselOgMorHarIkkeRettFormToState = (\n    values: Partial<FarMedmorFødselOgMorHarIkkeRettFormData>\n): FarMedmorFødselOgMorHarIkkeRettUttaksplanInfo => {\n    return {\n        permisjonStartdato: values.permisjonStartdato!,\n    };\n};\n\nexport const getInitialFarMedmorFødselOgMorHarIkkeRettValues = (\n    dekningsgrad: Dekningsgrad,\n    lagretUttaksplanInfo: FarMedmorFødselOgMorHarIkkeRettUttaksplanInfo | undefined\n): FarMedmorFødselOgMorHarIkkeRettFormData => {\n    if (lagretUttaksplanInfo) {\n        return {\n            ...lagretUttaksplanInfo,\n            [FarMedmorFødselOgMorHarIkkeRettFormField.dekningsgrad]: dekningsgrad,\n        };\n    }\n\n    return initialFarMedmorFødselOgMorHarIkkeRettValues;\n};\n","import { QuestionConfig, Questions } from '@navikt/sif-common-question-config';\nimport { hasValue } from '@navikt/fp-common';\nimport {\n    FarMedmorFødselOgMorHarIkkeRettFormData,\n    FarMedmorFødselOgMorHarIkkeRettFormField,\n} from './farMedmorFødselOgMorHarIkkeRettFormConfig';\nimport { andreAugust2022ReglerGjelder } from 'app/utils/dateUtils';\n\nexport interface FarMedmorFødselOgMorHarIkkeRettQuestionsPayload extends FarMedmorFødselOgMorHarIkkeRettFormData {\n    erMorUfør: boolean;\n    familiehendelsesdato: Date;\n}\n\nconst FarMedmorFødselOgMorHarIkkeRettFormConfig: QuestionConfig<\n    FarMedmorFødselOgMorHarIkkeRettQuestionsPayload,\n    FarMedmorFødselOgMorHarIkkeRettFormField\n> = {\n    [FarMedmorFødselOgMorHarIkkeRettFormField.dekningsgrad]: {\n        isAnswered: ({ dekningsgrad }) => hasValue(dekningsgrad),\n        isIncluded: () => true,\n    },\n    [FarMedmorFødselOgMorHarIkkeRettFormField.permisjonStartdato]: {\n        isAnswered: ({ permisjonStartdato }) => hasValue(permisjonStartdato),\n        isIncluded: ({ dekningsgrad, erMorUfør, familiehendelsesdato }) =>\n            andreAugust2022ReglerGjelder(familiehendelsesdato) || (hasValue(dekningsgrad) && erMorUfør),\n    },\n};\n\nexport const farMedmorFødselOgMorHarIkkeRettQuestionsConfig = Questions<\n    FarMedmorFødselOgMorHarIkkeRettQuestionsPayload,\n    FarMedmorFødselOgMorHarIkkeRettFormField\n>(FarMedmorFødselOgMorHarIkkeRettFormConfig);\n","import { FunctionComponent } from 'react';\nimport { isAnnenForelderOppgitt } from 'app/context/types/AnnenForelder';\nimport useSøknad from 'app/utils/hooks/useSøknad';\nimport isFarEllerMedmor from 'app/utils/isFarEllerMedmor';\nimport { getFamiliehendelsedato, getFødselsdato, getTermindato } from 'app/utils/barnUtils';\nimport {\n    FarMedmorFødselOgMorHarIkkeRettFormComponents,\n    FarMedmorFødselOgMorHarIkkeRettFormData,\n    FarMedmorFødselOgMorHarIkkeRettFormField,\n} from './farMedmorFødselOgMorHarIkkeRettFormConfig';\nimport { getValgtStønadskontoFor80Og100Prosent } from 'app/utils/stønadskontoUtils';\nimport {\n    getInitialFarMedmorFødselOgMorHarIkkeRettValues,\n    mapFarMedmorFødselOgMorHarIkkeRettFormToState,\n} from './farMedmorFødselOgMorHarIkkeRettUtils';\nimport { FarMedmorFødselOgMorHarIkkeRettUttaksplanInfo } from 'app/context/types/UttaksplanInfo';\nimport actionCreator from 'app/context/action/actionCreator';\nimport useOnValidSubmit from 'app/utils/hooks/useOnValidSubmit';\nimport SøknadRoutes from 'app/routes/routes';\nimport useUttaksplanInfo from 'app/utils/hooks/useUttaksplanInfo';\nimport { Block, StepButtonWrapper, intlUtils } from '@navikt/fp-common';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport {\n    FarMedmorFødselOgMorHarIkkeRettQuestionsPayload,\n    farMedmorFødselOgMorHarIkkeRettQuestionsConfig,\n} from './farMedmorFødselOgMorHarIkkeRettQuestionsConfig';\nimport { TilgjengeligeStønadskontoerDTO } from 'app/types/TilgjengeligeStønadskontoerDTO';\nimport TilgjengeligeDagerGraf from '../../tilgjengeligeDagerGraf/TilgjengeligeDagerGraf';\nimport { getTilgjengeligeDager } from '../../tilgjengeligeDagerGraf/tilgjengeligeDagerUtils';\nimport { Forelder } from 'app/types/Forelder';\nimport { formaterNavn } from 'app/utils/personUtils';\nimport useSøkerinfo from 'app/utils/hooks/useSøkerinfo';\nimport { Tidsperioden } from 'app/steps/uttaksplan-info/utils/Tidsperioden';\nimport { uttaksplanDatoavgrensninger } from 'app/steps/uttaksplan-info/utils/uttaksplanDatoavgrensninger';\nimport { Uttaksdagen } from 'app/steps/uttaksplan-info/utils/Uttaksdagen';\nimport { validateStartdatoFarMedmor } from './validation/farMedmorFødselOgMorHarIkkeRettValidering';\nimport DekningsgradSpørsmål from '../spørsmål/DekningsgradSpørsmål';\nimport { getDekningsgradFromString } from 'app/utils/getDekningsgradFromString';\nimport { lagUttaksplan } from 'app/utils/uttaksplan/lagUttaksplan';\nimport { storeAppState } from 'app/utils/submitUtils';\nimport { ForeldrepengesøknadContextState } from 'app/context/ForeldrepengesøknadContextConfig';\nimport { andreAugust2022ReglerGjelder, ISOStringToDate } from 'app/utils/dateUtils';\nimport { getErMorUfør } from 'app/utils/annenForelderUtils';\nimport { getHarAktivitetskravIPeriodeUtenUttak } from 'app/utils/uttaksplan/uttaksplanUtils';\nimport { skalViseInfoOmPrematuruker } from 'app/utils/uttaksplanInfoUtils';\nimport { useForeldrepengesøknadContext } from 'app/context/hooks/useForeldrepengesøknadContext';\nimport { DatepickerDateRange } from '@navikt/ds-datepicker';\nimport { DateRange, dateToISOString } from '@navikt/sif-common-formik-ds/lib';\nimport { Button, GuidePanel } from '@navikt/ds-react';\nimport { Link } from 'react-router-dom';\nimport { getPreviousStepHref } from 'app/steps/stepsConfig';\n\nconst konverterStringTilDate = (invalidDateRanges?: DatepickerDateRange[]): DateRange[] | undefined => {\n    if (!invalidDateRanges) {\n        return undefined;\n    }\n\n    return invalidDateRanges.map((r) => ({\n        from: ISOStringToDate(r.from)!,\n        to: ISOStringToDate(r.to)!,\n    }));\n};\n\nexport interface Props {\n    tilgjengeligeStønadskontoer100DTO: TilgjengeligeStønadskontoerDTO;\n    tilgjengeligeStønadskontoer80DTO: TilgjengeligeStønadskontoerDTO;\n}\n\nconst FarMedmorFødselOgMorHarIkkeRett: FunctionComponent<Props> = ({\n    tilgjengeligeStønadskontoer80DTO,\n    tilgjengeligeStønadskontoer100DTO,\n}) => {\n    const intl = useIntl();\n    const { state } = useForeldrepengesøknadContext();\n    const { søkersituasjon, annenForelder, barn, dekningsgrad, erEndringssøknad } = useSøknad();\n    const {\n        person: { fornavn, mellomnavn, etternavn },\n    } = useSøkerinfo();\n    const lagretUttaksplanInfo = useUttaksplanInfo<FarMedmorFødselOgMorHarIkkeRettUttaksplanInfo>();\n\n    const førsteUttaksdagNesteBarnsSak =\n        state.barnFraNesteSak !== undefined ? state.barnFraNesteSak.startdatoFørsteStønadsperiode : undefined;\n    const erFarEllerMedmor = isFarEllerMedmor(søkersituasjon.rolle);\n    const erFødsel = søkersituasjon.situasjon === 'fødsel';\n    const annenForelderHarIkkeRett = isAnnenForelderOppgitt(annenForelder)\n        ? annenForelder.harRettPåForeldrepengerINorge === false && annenForelder.harRettPåForeldrepengerIEØS === false\n        : false;\n    const familiehendelsesdato = getFamiliehendelsedato(barn);\n    const familiehendelsesdatoDate = ISOStringToDate(familiehendelsesdato);\n    const termindato = getTermindato(barn);\n\n    const onValidSubmitHandler = (values: Partial<FarMedmorFødselOgMorHarIkkeRettFormData>) => {\n        const startDatoUttaksplan =\n            andreAugust2022ReglerGjelder(familiehendelsesdatoDate!) || getErMorUfør(annenForelder, erFarEllerMedmor)\n                ? values.permisjonStartdato\n                : dateToISOString(Uttaksdagen(Uttaksdagen(familiehendelsesdatoDate!).denneEllerNeste()).leggTil(30));\n\n        return [\n            actionCreator.setUttaksplanInfo(mapFarMedmorFødselOgMorHarIkkeRettFormToState(values)),\n            actionCreator.setDekningsgrad(getDekningsgradFromString(values.dekningsgrad)),\n            actionCreator.lagUttaksplanforslag(\n                lagUttaksplan({\n                    annenForelderErUfør: erMorUfør,\n                    erDeltUttak: false,\n                    erEndringssøknad,\n                    erEnkelEndringssøknad: erEndringssøknad,\n                    familiehendelsesdato: familiehendelsesdatoDate!,\n                    førsteUttaksdagEtterSeksUker: Uttaksdagen(\n                        Uttaksdagen(familiehendelsesdatoDate!).denneEllerNeste()\n                    ).leggTil(30),\n                    situasjon: søkersituasjon.situasjon,\n                    søkerErFarEllerMedmor: erFarEllerMedmor,\n                    søkerHarMidlertidigOmsorg: false,\n                    tilgjengeligeStønadskontoer:\n                        tilgjengeligeStønadskontoer[getDekningsgradFromString(values.dekningsgrad)],\n                    uttaksplanSkjema: {\n                        startdatoPermisjon: startDatoUttaksplan,\n                    },\n                    bareFarMedmorHarRett: true,\n                    termindato,\n                    harAktivitetskravIPeriodeUtenUttak: getHarAktivitetskravIPeriodeUtenUttak({\n                        erDeltUttak: false,\n                        morHarRett: false,\n                        søkerErAleneOmOmsorg: false,\n                    }),\n                    førsteUttaksdagNesteBarnsSak,\n                })\n            ),\n        ];\n    };\n\n    const { handleSubmit, isSubmitting } = useOnValidSubmit(\n        onValidSubmitHandler,\n        SøknadRoutes.UTTAKSPLAN,\n        (state: ForeldrepengesøknadContextState) => storeAppState(state)\n    );\n\n    const shouldRender = erFarEllerMedmor && erFødsel && annenForelderHarIkkeRett;\n\n    if (!shouldRender) {\n        return null;\n    }\n\n    const erDeltUttak = !annenForelderHarIkkeRett;\n    const erMorUfør = isAnnenForelderOppgitt(annenForelder) ? !!annenForelder.erUfør : false;\n    const navnMor = isAnnenForelderOppgitt(annenForelder)\n        ? formaterNavn(annenForelder.fornavn, annenForelder.etternavn, true)\n        : '';\n    const navnFarMedmor = formaterNavn(fornavn, etternavn, true, mellomnavn);\n    const datoAvgrensinger = uttaksplanDatoavgrensninger.startdatoPermisjonFarMedmor(\n        familiehendelsesdatoDate!,\n        termindato,\n        søkersituasjon.situasjon\n    );\n    const fødselsdato = getFødselsdato(barn);\n    const visInfoOmPrematuruker = skalViseInfoOmPrematuruker(fødselsdato, termindato, søkersituasjon.situasjon);\n    const ekstraDagerGrunnetPrematurFødsel = visInfoOmPrematuruker\n        ? Tidsperioden({ fom: fødselsdato!, tom: termindato! }).getAntallUttaksdager() - 1\n        : undefined;\n\n    const tilgjengeligeStønadskontoer = getValgtStønadskontoFor80Og100Prosent(\n        tilgjengeligeStønadskontoer80DTO,\n        tilgjengeligeStønadskontoer100DTO\n    );\n\n    return (\n        <FarMedmorFødselOgMorHarIkkeRettFormComponents.FormikWrapper\n            initialValues={getInitialFarMedmorFødselOgMorHarIkkeRettValues(dekningsgrad, lagretUttaksplanInfo)}\n            onSubmit={handleSubmit}\n            renderForm={({ values: formValues }) => {\n                const visibility = farMedmorFødselOgMorHarIkkeRettQuestionsConfig.getVisbility({\n                    ...formValues,\n                    erMorUfør,\n                    familiehendelsesdato: familiehendelsesdatoDate!,\n                } as FarMedmorFødselOgMorHarIkkeRettQuestionsPayload);\n\n                const valgtStønadskonto = tilgjengeligeStønadskontoer[formValues.dekningsgrad === '100' ? 100 : 80];\n\n                return (\n                    <FarMedmorFødselOgMorHarIkkeRettFormComponents.Form\n                        includeButtons={false}\n                        includeValidationSummary={true}\n                    >\n                        <Block\n                            padBottom=\"l\"\n                            visible={visibility.isIncluded(FarMedmorFødselOgMorHarIkkeRettFormField.dekningsgrad)}\n                        >\n                            <DekningsgradSpørsmål\n                                FormKomponent={FarMedmorFødselOgMorHarIkkeRettFormComponents}\n                                dekningsgradFeltNavn={FarMedmorFødselOgMorHarIkkeRettFormField.dekningsgrad}\n                                tilgjengeligeStønadskontoer={tilgjengeligeStønadskontoer}\n                                erDeltUttak={erDeltUttak}\n                            />\n                        </Block>\n                        <Block\n                            padBottom=\"xl\"\n                            visible={visibility.isAnswered(FarMedmorFødselOgMorHarIkkeRettFormField.dekningsgrad)}\n                        >\n                            {valgtStønadskonto && (\n                                <TilgjengeligeDagerGraf\n                                    erDeltUttak={erDeltUttak}\n                                    erFarEllerMedmor\n                                    navnFarMedmor={navnFarMedmor}\n                                    navnMor={navnMor}\n                                    tilgjengeligeDager={getTilgjengeligeDager(\n                                        valgtStønadskonto,\n                                        erDeltUttak,\n                                        Forelder.farMedmor\n                                    )}\n                                />\n                            )}\n                        </Block>\n                        <Block padBottom=\"xl\" visible={visInfoOmPrematuruker === true}>\n                            <GuidePanel>\n                                <FormattedMessage\n                                    id=\"uttaksplaninfo.veileder.informasjonPrematuruker\"\n                                    values={{\n                                        antallprematuruker: Math.floor(ekstraDagerGrunnetPrematurFødsel! / 5),\n                                        antallprematurdager: ekstraDagerGrunnetPrematurFødsel! % 5,\n                                    }}\n                                />\n                            </GuidePanel>\n                        </Block>\n                        <Block\n                            padBottom=\"xl\"\n                            visible={visibility.isIncluded(FarMedmorFødselOgMorHarIkkeRettFormField.permisjonStartdato)}\n                        >\n                            <FarMedmorFødselOgMorHarIkkeRettFormComponents.DatePicker\n                                name={FarMedmorFødselOgMorHarIkkeRettFormField.permisjonStartdato}\n                                label={intlUtils(intl, 'uttaksplaninfo.spørsmål.startdatoPermisjonFarMedmor.label')}\n                                minDate={ISOStringToDate(datoAvgrensinger.minDate)}\n                                maxDate={ISOStringToDate(datoAvgrensinger.maxDate)}\n                                disabledDateRanges={konverterStringTilDate(datoAvgrensinger.invalidDateRanges)}\n                                disableWeekend={datoAvgrensinger.weekendsNotSelectable}\n                                validate={validateStartdatoFarMedmor(\n                                    intl,\n                                    ISOStringToDate(datoAvgrensinger.minDate)!,\n                                    ISOStringToDate(datoAvgrensinger.maxDate)!\n                                )}\n                                placeholder={'dd.mm.åååå'}\n                            />\n                        </Block>\n                        <Block>\n                            <StepButtonWrapper>\n                                <Button variant=\"secondary\" as={Link} to={getPreviousStepHref('uttaksplanInfo')}>\n                                    <FormattedMessage id=\"backlink.label\" />\n                                </Button>\n                                {visibility.areAllQuestionsAnswered() && (\n                                    <Button type=\"submit\" disabled={isSubmitting} loading={isSubmitting}>\n                                        {intlUtils(intl, 'søknad.gåVidere')}\n                                    </Button>\n                                )}\n                            </StepButtonWrapper>\n                        </Block>\n                    </FarMedmorFødselOgMorHarIkkeRettFormComponents.Form>\n                );\n            }}\n        />\n    );\n};\n\nexport default FarMedmorFødselOgMorHarIkkeRett;\n","import { getTypedFormComponents } from '@navikt/sif-common-formik-ds/lib';\n\nexport enum FarMedmorFørstegangssøknadMedAnnenPartFormField {\n    permisjonStartdato = 'permisjonStartdato',\n}\n\nexport interface FarMedmorFørstegangssøknadMedAnnenPartFormData {\n    [FarMedmorFørstegangssøknadMedAnnenPartFormField.permisjonStartdato]: string;\n}\n\nexport const FarMedmorFørstegangssøknadMedAnnenPartFormComponents = getTypedFormComponents<\n    FarMedmorFørstegangssøknadMedAnnenPartFormField,\n    FarMedmorFørstegangssøknadMedAnnenPartFormData\n>();\n","import { QuestionConfig, Questions } from '@navikt/sif-common-question-config';\nimport { hasValue } from '@navikt/fp-common';\nimport {\n    FarMedmorFørstegangssøknadMedAnnenPartFormData,\n    FarMedmorFørstegangssøknadMedAnnenPartFormField,\n} from './farMedmorFørstegangssøknadMedAnnenPartFormConfig';\n\nconst FarMedmorFørstegangssøknadMedAnnenPartFormConfig: QuestionConfig<\n    FarMedmorFørstegangssøknadMedAnnenPartFormData,\n    FarMedmorFørstegangssøknadMedAnnenPartFormField\n> = {\n    [FarMedmorFørstegangssøknadMedAnnenPartFormField.permisjonStartdato]: {\n        isIncluded: () => true,\n        isAnswered: ({ permisjonStartdato }) => hasValue(permisjonStartdato),\n    },\n};\n\nexport const farMedmorFørstegangssøknadMedAnnenPartQuestionsConfig = Questions<\n    FarMedmorFørstegangssøknadMedAnnenPartFormData,\n    FarMedmorFørstegangssøknadMedAnnenPartFormField\n>(FarMedmorFørstegangssøknadMedAnnenPartFormConfig);\n","import { FarMedmorFørstegangssøknadMedAnnenPartUttaksplanInfo } from 'app/context/types/UttaksplanInfo';\nimport { FarMedmorFørstegangssøknadMedAnnenPartFormData } from './farMedmorFørstegangssøknadMedAnnenPartFormConfig';\n\nexport const getFarMedmorFørstegangssøknadMedAnnenPartInitialValues = (\n    state: FarMedmorFørstegangssøknadMedAnnenPartUttaksplanInfo | undefined\n): FarMedmorFørstegangssøknadMedAnnenPartFormData => {\n    if (!state) {\n        return {\n            permisjonStartdato: '',\n        };\n    }\n\n    return {\n        permisjonStartdato: state.permisjonStartdato,\n    };\n};\n","import { Block, StepButtonWrapper, intlUtils } from '@navikt/fp-common';\nimport InfoOmSøknaden from 'app/components/info-eksisterende-sak/InfoOmSøknaden';\nimport actionCreator from 'app/context/action/actionCreator';\nimport { ForeldrepengesøknadContextState } from 'app/context/ForeldrepengesøknadContextConfig';\nimport { isAnnenForelderOppgitt } from 'app/context/types/AnnenForelder';\nimport { FarMedmorFørstegangssøknadMedAnnenPartUttaksplanInfo } from 'app/context/types/UttaksplanInfo';\nimport SøknadRoutes from 'app/routes/routes';\nimport { getAntallUker } from 'app/steps/uttaksplan-info/utils/stønadskontoer';\nimport { Uttaksdagen } from 'app/steps/uttaksplan-info/utils/Uttaksdagen';\nimport { EksisterendeSak } from 'app/types/EksisterendeSak';\nimport { Forelder } from 'app/types/Forelder';\nimport { TilgjengeligeStønadskontoerDTO } from 'app/types/TilgjengeligeStønadskontoerDTO';\nimport { getErMorUfør } from 'app/utils/annenForelderUtils';\nimport { getFamiliehendelsedato, getTermindato } from 'app/utils/barnUtils';\nimport { ISOStringToDate } from 'app/utils/dateUtils';\nimport { getDekningsgradFromString } from 'app/utils/getDekningsgradFromString';\nimport useOnValidSubmit from 'app/utils/hooks/useOnValidSubmit';\nimport useSøknad from 'app/utils/hooks/useSøknad';\nimport useUttaksplanInfo from 'app/utils/hooks/useUttaksplanInfo';\nimport isFarEllerMedmor from 'app/utils/isFarEllerMedmor';\nimport { getValgtStønadskontoFor80Og100Prosent } from 'app/utils/stønadskontoUtils';\nimport { storeAppState } from 'app/utils/submitUtils';\nimport { lagUttaksplan } from 'app/utils/uttaksplan/lagUttaksplan';\nimport { FunctionComponent } from 'react';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport { isInfoPeriode } from 'uttaksplan/types/Periode';\nimport FarMedmorsFørsteDag from '../spørsmål/FarMedmorsFørsteDag';\nimport {\n    FarMedmorFørstegangssøknadMedAnnenPartFormComponents,\n    FarMedmorFørstegangssøknadMedAnnenPartFormData,\n    FarMedmorFørstegangssøknadMedAnnenPartFormField,\n} from './farMedmorFørstegangssøknadMedAnnenPartFormConfig';\nimport { farMedmorFørstegangssøknadMedAnnenPartQuestionsConfig } from './farMedmorFørstegangssøknadMedAnnenPartQuestionsConfig';\nimport { getFarMedmorFørstegangssøknadMedAnnenPartInitialValues } from './farMedmorFørstegangssøknadMedAnnenPartUtils';\nimport { getHarAktivitetskravIPeriodeUtenUttak } from 'app/utils/uttaksplan/uttaksplanUtils';\nimport { getMorHarRettPåForeldrepengerINorgeEllerEØS } from 'app/utils/personUtils';\nimport { leggTilAnnenPartsPerioderISøkerenesUttaksplan } from 'app/steps/uttaksplan-info/utils/leggTilAnnenPartsPerioderISøkerensUttaksplan';\nimport { useForeldrepengesøknadContext } from 'app/context/hooks/useForeldrepengesøknadContext';\nimport { Button } from '@navikt/ds-react';\nimport { dateToISOString } from '@navikt/sif-common-formik-ds/lib';\nimport { Link } from 'react-router-dom';\nimport { getPreviousStepHref } from 'app/steps/stepsConfig';\n\ninterface Props {\n    tilgjengeligeStønadskontoer100DTO: TilgjengeligeStønadskontoerDTO;\n    tilgjengeligeStønadskontoer80DTO: TilgjengeligeStønadskontoerDTO;\n    eksisterendeSakAnnenPart: EksisterendeSak | undefined;\n}\n\nconst FarMedmorFørstegangssøknadMedAnnenPart: FunctionComponent<Props> = ({\n    tilgjengeligeStønadskontoer100DTO,\n    tilgjengeligeStønadskontoer80DTO,\n    eksisterendeSakAnnenPart,\n}) => {\n    const søknad = useSøknad();\n    const { state } = useForeldrepengesøknadContext();\n    const intl = useIntl();\n    const { barn, søkersituasjon, annenForelder, erEndringssøknad } = søknad;\n    const erFarEllerMedmor = isFarEllerMedmor(søkersituasjon.rolle);\n    const lagretUttaksplanInfo = useUttaksplanInfo<FarMedmorFørstegangssøknadMedAnnenPartUttaksplanInfo>();\n    const familiehendelsedato = getFamiliehendelsedato(barn);\n    const familiehendelsedatoDate = ISOStringToDate(familiehendelsedato);\n    const erFødsel = søkersituasjon.situasjon === 'fødsel';\n    const erAdopsjon = søkersituasjon.situasjon === 'adopsjon';\n    const erMorUfør = getErMorUfør(annenForelder, erFarEllerMedmor);\n    const bareFarHarRett = !getMorHarRettPåForeldrepengerINorgeEllerEØS(\n        søkersituasjon.rolle,\n        erFarEllerMedmor,\n        annenForelder\n    );\n    const førsteUttaksdagNesteBarnsSak =\n        state.barnFraNesteSak !== undefined ? state.barnFraNesteSak.startdatoFørsteStønadsperiode : undefined;\n    const erDeltUttak = true;\n    const termindato = getTermindato(barn);\n    const harAktivitetskravIPeriodeUtenUttak = getHarAktivitetskravIPeriodeUtenUttak({\n        erDeltUttak,\n        morHarRett: true,\n        søkerErAleneOmOmsorg: false,\n    });\n\n    const morsSisteUttaksdag =\n        eksisterendeSakAnnenPart && eksisterendeSakAnnenPart.uttaksplan.length > 0\n            ? dateToISOString(\n                  eksisterendeSakAnnenPart.uttaksplan[eksisterendeSakAnnenPart.uttaksplan.length - 1].tidsperiode.tom\n              )\n            : undefined;\n    const onValidSubmitHandler = (values: Partial<FarMedmorFørstegangssøknadMedAnnenPartFormData>) => {\n        const uttaksplanInfo: FarMedmorFørstegangssøknadMedAnnenPartUttaksplanInfo = {\n            permisjonStartdato: values.permisjonStartdato!,\n        };\n        const stønadskontoer = tilgjengeligeStønadskontoer[getDekningsgradFromString(grunnlag.dekningsgrad)];\n        const antallUker = getAntallUker(tilgjengeligeStønadskontoer[grunnlag.dekningsgrad]);\n        const farMedmorSinePerioder = lagUttaksplan({\n            annenForelderErUfør: erMorUfør,\n            erDeltUttak,\n            erEndringssøknad,\n            erEnkelEndringssøknad: erEndringssøknad,\n            familiehendelsesdato: familiehendelsedatoDate!,\n            førsteUttaksdagEtterSeksUker: Uttaksdagen(Uttaksdagen(familiehendelsedatoDate!).denneEllerNeste()).leggTil(\n                30\n            ),\n            situasjon: erFødsel ? 'fødsel' : 'adopsjon',\n            søkerErFarEllerMedmor: erFarEllerMedmor,\n            søkerHarMidlertidigOmsorg: false,\n            tilgjengeligeStønadskontoer: stønadskontoer,\n            uttaksplanSkjema: {\n                morSinSisteUttaksdag: morsSisteUttaksdag,\n                farSinFørsteUttaksdag: values.permisjonStartdato,\n                antallDagerFellesperiodeFarMedmor: undefined,\n                antallUkerFellesperiodeFarMedmor: undefined,\n            },\n            bareFarMedmorHarRett: bareFarHarRett,\n            termindato,\n            harAktivitetskravIPeriodeUtenUttak,\n            førsteUttaksdagNesteBarnsSak,\n        });\n        let uttaksplanMedAnnenPart;\n\n        if (eksisterendeSakAnnenPart && farMedmorSinePerioder.length > 0) {\n            uttaksplanMedAnnenPart = leggTilAnnenPartsPerioderISøkerenesUttaksplan(\n                eksisterendeSakAnnenPart.uttaksplan,\n                farMedmorSinePerioder,\n                familiehendelsedatoDate!,\n                harAktivitetskravIPeriodeUtenUttak,\n                erAdopsjon,\n                bareFarHarRett,\n                erFarEllerMedmor,\n                førsteUttaksdagNesteBarnsSak\n            );\n        } else if (eksisterendeSakAnnenPart) {\n            uttaksplanMedAnnenPart = eksisterendeSakAnnenPart.uttaksplan;\n        } else {\n            uttaksplanMedAnnenPart = farMedmorSinePerioder;\n        }\n\n        return [\n            actionCreator.setAntallUkerIUttaksplan(antallUker),\n            actionCreator.setUttaksplanInfo(uttaksplanInfo),\n            actionCreator.setDekningsgrad(grunnlag.dekningsgrad),\n            actionCreator.lagUttaksplanforslag(uttaksplanMedAnnenPart),\n        ];\n    };\n\n    const { handleSubmit, isSubmitting } = useOnValidSubmit(\n        onValidSubmitHandler,\n        SøknadRoutes.UTTAKSPLAN,\n        (state: ForeldrepengesøknadContextState) => storeAppState(state)\n    );\n\n    if (!eksisterendeSakAnnenPart || !erFarEllerMedmor) {\n        return null;\n    }\n\n    const navnMor = isAnnenForelderOppgitt(annenForelder) ? annenForelder.fornavn : '';\n    const { grunnlag, uttaksplan } = eksisterendeSakAnnenPart;\n    const morsPerioder = uttaksplan.filter((p) => isInfoPeriode(p) && p.forelder === Forelder.mor);\n    const morsSisteDag = morsPerioder.reverse()[0].tidsperiode.tom;\n\n    const tilgjengeligeStønadskontoer = getValgtStønadskontoFor80Og100Prosent(\n        tilgjengeligeStønadskontoer80DTO,\n        tilgjengeligeStønadskontoer100DTO\n    );\n\n    return (\n        <FarMedmorFørstegangssøknadMedAnnenPartFormComponents.FormikWrapper\n            initialValues={getFarMedmorFørstegangssøknadMedAnnenPartInitialValues(lagretUttaksplanInfo)}\n            onSubmit={handleSubmit}\n            renderForm={({ values: formValues, setFieldValue }) => {\n                const visibility = farMedmorFørstegangssøknadMedAnnenPartQuestionsConfig.getVisbility(\n                    formValues as FarMedmorFørstegangssøknadMedAnnenPartFormData\n                );\n                const valgtMengdeStønadskonto = tilgjengeligeStønadskontoer[grunnlag.dekningsgrad];\n\n                return (\n                    <FarMedmorFørstegangssøknadMedAnnenPartFormComponents.Form\n                        includeButtons={false}\n                        includeValidationSummary={true}\n                    >\n                        <Block padBottom=\"xl\">\n                            <InfoOmSøknaden\n                                eksisterendeSak={eksisterendeSakAnnenPart}\n                                erIUttaksplanenSteg={false}\n                                tilgjengeligeStønadskontoer={valgtMengdeStønadskonto}\n                            />\n                        </Block>\n                        <Block padBottom=\"xl\">\n                            <FarMedmorsFørsteDag\n                                FormComponents={FarMedmorFørstegangssøknadMedAnnenPartFormComponents}\n                                fieldName={FarMedmorFørstegangssøknadMedAnnenPartFormField.permisjonStartdato}\n                                familiehendelsesdato={familiehendelsedatoDate!}\n                                setFieldValue={setFieldValue}\n                                morsSisteDag={morsSisteDag}\n                                navnMor={navnMor}\n                                termindato={termindato}\n                                situasjon={søkersituasjon.situasjon}\n                                morHarRettTilForeldrepengerIEØS={false}\n                            />\n                        </Block>\n                        <Block>\n                            <StepButtonWrapper>\n                                <Button variant=\"secondary\" as={Link} to={getPreviousStepHref('uttaksplanInfo')}>\n                                    <FormattedMessage id=\"backlink.label\" />\n                                </Button>\n                                {visibility.areAllQuestionsAnswered() && (\n                                    <Button type=\"submit\" disabled={isSubmitting} loading={isSubmitting}>\n                                        {intlUtils(intl, 'søknad.gåVidere')}\n                                    </Button>\n                                )}\n                            </StepButtonWrapper>\n                        </Block>\n                    </FarMedmorFørstegangssøknadMedAnnenPartFormComponents.Form>\n                );\n            }}\n        />\n    );\n};\n\nexport default FarMedmorFørstegangssøknadMedAnnenPart;\n","import { EksisterendeSak } from 'app/types/EksisterendeSak';\n\nexport type UttaksplanInfoScenario =\n    | 'farMedmorAleneomsorgFødselAdopsjon'\n    | 'farMedmorFødselBeggeHarRett'\n    | 'farMedmorFødselMorHarIkkeRett'\n    | 'farMedmorFørstegangssøknadMedAnnenPart'\n    | 'morFarAdopsjon'\n    | 'morFødsel'\n    | 'morFarFødselAnnenForelderHarRettIEØS'\n    | 'morFarAdopsjonAnnenForelderHarRettIEØS';\n\ninterface UttaksplanScenarioParams {\n    erFødsel: boolean;\n    erFarEllerMedmor: boolean;\n    søkerErAleneOmOmsorg: boolean;\n    annenForelderKanIkkeOppgis: boolean;\n    annenForelderHarRett: boolean;\n    erAdopsjon: boolean;\n    eksisterendeSakAnnenPart: EksisterendeSak | undefined;\n    annenForelderOppgittIkkeAleneOmOmsorg: boolean;\n    annenForelderHarRettIEØS: boolean;\n}\n\nexport const getUttaksplanScenario = ({\n    erFødsel,\n    erFarEllerMedmor,\n    søkerErAleneOmOmsorg,\n    annenForelderKanIkkeOppgis,\n    annenForelderHarRett,\n    eksisterendeSakAnnenPart,\n    erAdopsjon,\n    annenForelderOppgittIkkeAleneOmOmsorg,\n    annenForelderHarRettIEØS,\n}: UttaksplanScenarioParams): UttaksplanInfoScenario => {\n    if (erFødsel && erFarEllerMedmor && (søkerErAleneOmOmsorg || annenForelderKanIkkeOppgis)) {\n        return 'farMedmorAleneomsorgFødselAdopsjon';\n    }\n    if (annenForelderHarRettIEØS) {\n        return erFødsel ? 'morFarFødselAnnenForelderHarRettIEØS' : 'morFarAdopsjonAnnenForelderHarRettIEØS';\n    }\n\n    if (\n        erFarEllerMedmor &&\n        erFødsel &&\n        annenForelderHarRett &&\n        (eksisterendeSakAnnenPart === undefined || eksisterendeSakAnnenPart.uttaksplan.length === 0)\n    ) {\n        return 'farMedmorFødselBeggeHarRett';\n    }\n\n    if (erFarEllerMedmor && erFødsel && !annenForelderHarRett) {\n        return 'farMedmorFødselMorHarIkkeRett';\n    }\n\n    if (eksisterendeSakAnnenPart && erFarEllerMedmor) {\n        return 'farMedmorFørstegangssøknadMedAnnenPart';\n    }\n\n    if (erAdopsjon && (annenForelderOppgittIkkeAleneOmOmsorg || annenForelderKanIkkeOppgis || søkerErAleneOmOmsorg)) {\n        return 'morFarAdopsjon';\n    }\n\n    return 'morFødsel';\n};\n","import { TilgjengeligeStønadskontoerDTO } from 'app/types/TilgjengeligeStønadskontoerDTO';\nimport { FunctionComponent } from 'react';\nimport FarMedmorFødselFørsteganggsøknadBeggeHarRett from './scenarios/far-medmor-fødsel-begge-har-rett/FarMedmorFødselBeggeHarRett';\nimport MorFødsel from './scenarios/mor-fodsel/MorFødsel';\nimport MorFarAdopsjon from './scenarios/mor-far-adopsjon/MorFarAdopsjon';\nimport MorFarAdopsjonAnnenForelderHarRettIEØS from './scenarios/mor-far-adopsjon-annen-part-har-rett-i-eøs/MorFarAdopsjonAnnenForelderHarRettIEØS';\nimport MorFarFødselAnnenForelderHarRettIEØS from './scenarios/mor-far-fødsel-annen-part-har-rett-i-eøs/MorFarFødselAnnenForelderHarRettIEØS';\nimport FarMedmorAleneomsorgFødselAdopsjon from './scenarios/far-medmor-aleneomsorg-fødsel/FarMedmorAleneomsorgFødsel';\nimport FarMedmorFødselOgMorHarIkkeRett from './scenarios/far-medmor-fødsel-og-mor-har-ikke-rett/FarMedmorFødselOgMorHarIkkeRett';\nimport { EksisterendeSak } from 'app/types/EksisterendeSak';\nimport FarMedmorFørstegangssøknadMedAnnenPart from './scenarios/farMedmor-førstegangssøknad-med-annen-part/FarMedmorFørstegangssøknadMedAnnenPart';\nimport { getUttaksplanScenario } from './scenarios/scenarios';\nimport isFarEllerMedmor from 'app/utils/isFarEllerMedmor';\nimport { isAnnenForelderOppgitt } from 'app/context/types/AnnenForelder';\nimport useSøknad from 'app/utils/hooks/useSøknad';\nimport { harAnnenForelderRettIEØS } from 'app/utils/annenForelderUtils';\ninterface Props {\n    tilgjengeligeStønadskontoer100DTO: TilgjengeligeStønadskontoerDTO;\n    tilgjengeligeStønadskontoer80DTO: TilgjengeligeStønadskontoerDTO;\n    eksisterendeSakAnnenPart: EksisterendeSak | undefined;\n}\n\nconst UttaksplanInfoScenarios: FunctionComponent<Props> = ({\n    tilgjengeligeStønadskontoer100DTO,\n    tilgjengeligeStønadskontoer80DTO,\n    eksisterendeSakAnnenPart,\n}) => {\n    const { søkersituasjon, søker, annenForelder } = useSøknad();\n    const erFødsel = søkersituasjon.situasjon === 'fødsel';\n    const erAdopsjon = søkersituasjon.situasjon === 'adopsjon';\n    const erFarEllerMedmor = isFarEllerMedmor(søkersituasjon.rolle);\n    const annenForelderHarRett = isAnnenForelderOppgitt(annenForelder)\n        ? !!annenForelder.harRettPåForeldrepengerINorge || !!annenForelder.harRettPåForeldrepengerIEØS\n        : false;\n    const annenForelderOppgittIkkeAleneOmOmsorg = isAnnenForelderOppgitt(annenForelder)\n        ? annenForelder.harRettPåForeldrepengerINorge !== undefined\n        : false;\n    const annenForelderHarRettIEØS = harAnnenForelderRettIEØS(annenForelder);\n\n    const scenario = getUttaksplanScenario({\n        erFødsel,\n        erFarEllerMedmor,\n        søkerErAleneOmOmsorg: !!søker.erAleneOmOmsorg,\n        annenForelderKanIkkeOppgis: annenForelder.kanIkkeOppgis,\n        annenForelderHarRett: annenForelderHarRett,\n        erAdopsjon,\n        eksisterendeSakAnnenPart,\n        annenForelderOppgittIkkeAleneOmOmsorg,\n        annenForelderHarRettIEØS,\n    });\n\n    switch (scenario) {\n        case 'farMedmorAleneomsorgFødselAdopsjon':\n            return (\n                <FarMedmorAleneomsorgFødselAdopsjon\n                    tilgjengeligeStønadskontoer100DTO={tilgjengeligeStønadskontoer100DTO}\n                    tilgjengeligeStønadskontoer80DTO={tilgjengeligeStønadskontoer80DTO}\n                />\n            );\n        case 'farMedmorFødselBeggeHarRett':\n            return (\n                <FarMedmorFødselFørsteganggsøknadBeggeHarRett\n                    tilgjengeligeStønadskontoer100DTO={tilgjengeligeStønadskontoer100DTO}\n                    tilgjengeligeStønadskontoer80DTO={tilgjengeligeStønadskontoer80DTO}\n                    eksisterendeSakAnnenPart={eksisterendeSakAnnenPart}\n                />\n            );\n        case 'farMedmorFødselMorHarIkkeRett':\n            return (\n                <FarMedmorFødselOgMorHarIkkeRett\n                    tilgjengeligeStønadskontoer100DTO={tilgjengeligeStønadskontoer100DTO}\n                    tilgjengeligeStønadskontoer80DTO={tilgjengeligeStønadskontoer80DTO}\n                />\n            );\n        case 'farMedmorFørstegangssøknadMedAnnenPart':\n            return (\n                <FarMedmorFørstegangssøknadMedAnnenPart\n                    tilgjengeligeStønadskontoer100DTO={tilgjengeligeStønadskontoer100DTO}\n                    tilgjengeligeStønadskontoer80DTO={tilgjengeligeStønadskontoer80DTO}\n                    eksisterendeSakAnnenPart={eksisterendeSakAnnenPart}\n                />\n            );\n        case 'morFarAdopsjon':\n            return (\n                <MorFarAdopsjon\n                    tilgjengeligeStønadskontoer100DTO={tilgjengeligeStønadskontoer100DTO}\n                    tilgjengeligeStønadskontoer80DTO={tilgjengeligeStønadskontoer80DTO}\n                />\n            );\n        case 'morFødsel':\n            return (\n                <MorFødsel\n                    tilgjengeligeStønadskontoer100DTO={tilgjengeligeStønadskontoer100DTO}\n                    tilgjengeligeStønadskontoer80DTO={tilgjengeligeStønadskontoer80DTO}\n                    eksisterendeSakFar={eksisterendeSakAnnenPart}\n                />\n            );\n        case 'morFarFødselAnnenForelderHarRettIEØS':\n            return (\n                <MorFarFødselAnnenForelderHarRettIEØS\n                    tilgjengeligeStønadskontoer100DTO={tilgjengeligeStønadskontoer100DTO}\n                    tilgjengeligeStønadskontoer80DTO={tilgjengeligeStønadskontoer80DTO}\n                />\n            );\n        case 'morFarAdopsjonAnnenForelderHarRettIEØS':\n            return (\n                <MorFarAdopsjonAnnenForelderHarRettIEØS\n                    tilgjengeligeStønadskontoer100DTO={tilgjengeligeStønadskontoer100DTO}\n                    tilgjengeligeStønadskontoer80DTO={tilgjengeligeStønadskontoer80DTO}\n                />\n            );\n    }\n};\n\nexport default UttaksplanInfoScenarios;\n","import AnnenForelder, { isAnnenForelderOppgitt } from 'app/context/types/AnnenForelder';\nimport Barn, { isAdoptertAnnetBarn, isAdoptertStebarn, isFødtBarn, isUfødtBarn } from 'app/context/types/Barn';\nimport Søkersituasjon from 'app/context/types/Søkersituasjon';\nimport { Dekningsgrad } from 'app/types/Dekningsgrad';\nimport { getErMorUfør } from 'app/utils/annenForelderUtils';\nimport { getFamiliehendelsedato } from 'app/utils/barnUtils';\nimport { andreAugust2022ReglerGjelder, ISOStringToDate } from 'app/utils/dateUtils';\nimport isFarEllerMedmor from 'app/utils/isFarEllerMedmor';\nimport { TilgjengeligeStønadskontoerParams } from './api';\nimport { dateToISOString } from '@navikt/sif-common-formik-ds/lib';\n\nconst getFarHarRettINorge = (erFarMedmor: boolean, annenForelder: AnnenForelder): boolean => {\n    if (erFarMedmor) {\n        return true;\n    }\n\n    if (isAnnenForelderOppgitt(annenForelder)) {\n        return !!annenForelder.harRettPåForeldrepengerINorge;\n    }\n\n    return false;\n};\n\nconst getMorHarRettINorge = (erFarMedmor: boolean, annenForelder: AnnenForelder): boolean => {\n    if (!erFarMedmor) {\n        return true;\n    }\n\n    if (isAnnenForelderOppgitt(annenForelder)) {\n        return !!annenForelder.harRettPåForeldrepengerINorge;\n    }\n\n    return false;\n};\n\nconst getAnnenForelderHarRettIEØS = (annenForelder: AnnenForelder): boolean => {\n    if (isAnnenForelderOppgitt(annenForelder)) {\n        return !!annenForelder.harRettPåForeldrepengerIEØS;\n    }\n\n    return false;\n};\n\nconst getTermindatoSomSkalBrukes = (barn: Barn, termindatoSaksgrunnlag?: string) => {\n    if (isFødtBarn(barn) || isUfødtBarn(barn)) {\n        return termindatoSaksgrunnlag ? termindatoSaksgrunnlag : dateToISOString(barn.termindato);\n    }\n\n    return undefined;\n};\n\nexport const getTermindatoSomSkalBrukesFraSaksgrunnlagBeggeParter = (\n    termindatoSaksgrunnlag?: string,\n    termindatoSaksgrunnlagAnnenPart?: string\n) => {\n    if (termindatoSaksgrunnlagAnnenPart) {\n        return termindatoSaksgrunnlagAnnenPart;\n    }\n\n    return termindatoSaksgrunnlag ? termindatoSaksgrunnlag : undefined;\n};\n\nexport const getAntallBarnSomSkalBrukesFraSaksgrunnlagBeggeParter = (\n    erFarEllerMedmor: boolean,\n    antallBarnSaksgrunnlag: number,\n    antallBarnSaksgrunnlagAnnenPart?: number\n): number => {\n    if (erFarEllerMedmor && antallBarnSaksgrunnlagAnnenPart) {\n        return antallBarnSaksgrunnlagAnnenPart;\n    }\n\n    return antallBarnSaksgrunnlag;\n};\n\nconst getStønadskontoParams = (\n    dekningsgrad: Dekningsgrad,\n    barn: Barn,\n    annenForelder: AnnenForelder,\n    søkersituasjon: Søkersituasjon,\n    farHarAleneomsorg: boolean,\n    morHarAleneomsorg: boolean,\n    familieHendelseDatoNesteSak: string | undefined,\n    antallBarn: number,\n    oppgittTermindato?: string\n): TilgjengeligeStønadskontoerParams => {\n    const erFarMedmor = isFarEllerMedmor(søkersituasjon.rolle);\n    const familiehendelsesdato = ISOStringToDate(getFamiliehendelsedato(barn));\n    const søkerErFarEllerMedmor = isFarEllerMedmor(søkersituasjon.rolle);\n    return {\n        antallBarn: antallBarn.toString(),\n        startdatoUttak: getFamiliehendelsedato(barn),\n        dekningsgrad: dekningsgrad,\n        farHarRettINorge: getFarHarRettINorge(erFarMedmor, annenForelder),\n        morHarRettINorge: getMorHarRettINorge(erFarMedmor, annenForelder),\n        harAnnenForelderTilsvarendeRettEØS: getAnnenForelderHarRettIEØS(annenForelder),\n        morHarAleneomsorg,\n        farHarAleneomsorg,\n        fødselsdato: isFødtBarn(barn) ? dateToISOString(barn.fødselsdatoer[0]) : undefined,\n        omsorgsovertakelsesdato:\n            isAdoptertAnnetBarn(barn) || isAdoptertStebarn(barn) ? dateToISOString(barn.adopsjonsdato) : undefined,\n        termindato: getTermindatoSomSkalBrukes(barn, oppgittTermindato),\n        minsterett: andreAugust2022ReglerGjelder(familiehendelsesdato!),\n        erMor: !søkerErFarEllerMedmor,\n        morHarUføretrygd: getErMorUfør(annenForelder, søkerErFarEllerMedmor),\n        familieHendelseDatoNesteSak: familieHendelseDatoNesteSak,\n    };\n};\n\nexport default getStønadskontoParams;\n","import { intlUtils, Step } from '@navikt/fp-common';\nimport useAvbrytSøknad from 'app/utils/hooks/useAvbrytSøknad';\nimport { useEffect, useMemo } from 'react';\nimport { useIntl } from 'react-intl';\nimport stepConfig from '../stepsConfig';\nimport useSøknad from 'app/utils/hooks/useSøknad';\nimport Api from 'app/api/api';\nimport UttaksplanInfoScenarios from './components/UttaksplanInfoScenarios';\nimport getStønadskontoParams, {\n    getAntallBarnSomSkalBrukesFraSaksgrunnlagBeggeParter,\n    getTermindatoSomSkalBrukesFraSaksgrunnlagBeggeParter,\n} from 'app/api/getStønadskontoParams';\nimport { Dekningsgrad } from 'app/types/Dekningsgrad';\nimport { getFamiliehendelsedato } from 'app/utils/barnUtils';\nimport isFarEllerMedmor from 'app/utils/isFarEllerMedmor';\nimport { useForeldrepengesøknadContext } from 'app/context/hooks/useForeldrepengesøknadContext';\nimport actionCreator from 'app/context/action/actionCreator';\nimport useFortsettSøknadSenere from 'app/utils/hooks/useFortsettSøknadSenere';\nimport { RequestStatus } from 'app/types/RequestState';\nimport { getFarMedmorErAleneOmOmsorg, getMorErAleneOmOmsorg } from 'app/utils/personUtils';\nimport { mapAnnenPartsEksisterendeSakFromDTO } from 'app/utils/eksisterendeSakUtils';\nimport { isAnnenForelderOppgitt } from 'app/context/types/AnnenForelder';\nimport { isFødtBarn } from 'app/context/types/Barn';\nimport { sendErrorMessageToSentry } from 'app/api/apiUtils';\nimport SøknadRoutes from 'app/routes/routes';\nimport useSaveLoadedRoute from 'app/utils/hooks/useSaveLoadedRoute';\nimport { Loader } from '@navikt/ds-react';\nimport { dateToISOString } from '@navikt/sif-common-formik-ds/lib';\n\nconst UttaksplanInfo = () => {\n    const intl = useIntl();\n\n    const søknad = useSøknad();\n    const { dispatch, state } = useForeldrepengesøknadContext();\n\n    const { barn, annenForelder, søkersituasjon, søker } = søknad;\n    const erFarEllerMedmor = isFarEllerMedmor(søkersituasjon.rolle);\n    const { erAleneOmOmsorg } = søker;\n    const { barnFraNesteSak, eksisterendeSak } = state;\n\n    const familieHendelseDatoNesteSak =\n        barnFraNesteSak !== undefined ? barnFraNesteSak.familiehendelsesdato : undefined;\n    const førsteUttaksdagNesteBarnsSak =\n        state.barnFraNesteSak !== undefined ? state.barnFraNesteSak.startdatoFørsteStønadsperiode : undefined;\n\n    const annenPartFnr =\n        isAnnenForelderOppgitt(annenForelder) && annenForelder.utenlandskFnr === false ? annenForelder.fnr : undefined;\n    const eksisterendeSakAnnenPartRequestIsSuspended = annenPartFnr !== undefined && annenPartFnr !== '' ? false : true;\n    const familiehendelsesdato = getFamiliehendelsedato(barn);\n    const barnFnr = isFødtBarn(barn) && barn.fnr !== undefined && barn.fnr?.length > 0 ? barn.fnr[0] : undefined;\n    const { eksisterendeSakAnnenPartData, eksisterendeSakAnnenPartError, eksisterendeSakAnnenPartRequestStatus } =\n        Api.useGetAnnenPartsVedtak(\n            annenPartFnr,\n            barnFnr,\n            familiehendelsesdato,\n            eksisterendeSakAnnenPartRequestIsSuspended\n        );\n\n    const farMedmorErAleneOmOmsorg = getFarMedmorErAleneOmOmsorg(erFarEllerMedmor, erAleneOmOmsorg, annenForelder);\n    const morErAleneOmOmsorg = getMorErAleneOmOmsorg(!erFarEllerMedmor, erAleneOmOmsorg, annenForelder);\n\n    const eksisterendeVedtakAnnenPart = useMemo(\n        () =>\n            mapAnnenPartsEksisterendeSakFromDTO(\n                eksisterendeSakAnnenPartData,\n                barn,\n                erFarEllerMedmor,\n                familiehendelsesdato,\n                førsteUttaksdagNesteBarnsSak\n            ),\n        [eksisterendeSakAnnenPartData, barn, erFarEllerMedmor, familiehendelsesdato, førsteUttaksdagNesteBarnsSak]\n    );\n\n    useSaveLoadedRoute(SøknadRoutes.UTTAKSPLAN_INFO);\n\n    const saksgrunnlagsTermindato = getTermindatoSomSkalBrukesFraSaksgrunnlagBeggeParter(\n        eksisterendeSak?.grunnlag.termindato,\n        eksisterendeVedtakAnnenPart?.grunnlag.termindato\n    );\n\n    const saksgrunnlagsAntallBarn = getAntallBarnSomSkalBrukesFraSaksgrunnlagBeggeParter(\n        erFarEllerMedmor,\n        barn.antallBarn,\n        eksisterendeVedtakAnnenPart?.grunnlag.antallBarn\n    );\n\n    useEffect(() => {\n        if (erFarEllerMedmor && søknad.barn.antallBarn !== saksgrunnlagsAntallBarn) {\n            const søknadMedOppdatertAntallBarn = {\n                ...søknad,\n                barn: { ...søknad.barn, antallBarn: saksgrunnlagsAntallBarn },\n            };\n            dispatch(actionCreator.setSøknad(søknadMedOppdatertAntallBarn));\n        }\n    }, [erFarEllerMedmor, saksgrunnlagsAntallBarn, dispatch, søknad]);\n\n    //Uttaksplaninfo vises ikke hvis endringssøknad, så det er nok å sette annen parts sak og uttaksplan her\n    useEffect(() => {\n        if (eksisterendeVedtakAnnenPart !== undefined) {\n            dispatch(actionCreator.setUttaksplan(eksisterendeVedtakAnnenPart.uttaksplan));\n            dispatch(actionCreator.setEksisterendeSak(eksisterendeVedtakAnnenPart));\n            dispatch(actionCreator.setAnnenPartsUttakErLagtTilIPlan(true));\n        }\n    }, [eksisterendeVedtakAnnenPart, dispatch]);\n\n    useEffect(() => {\n        dispatch(actionCreator.setUttaksplanSlettet(false));\n    }, [dispatch]);\n\n    const { tilgjengeligeStønadskontoerData: stønadskontoer100, tilgjengeligeStønadskontoerError } =\n        Api.useGetUttakskontoer(\n            getStønadskontoParams(\n                Dekningsgrad.HUNDRE_PROSENT,\n                barn,\n                annenForelder,\n                søkersituasjon,\n                farMedmorErAleneOmOmsorg,\n                morErAleneOmOmsorg,\n                dateToISOString(familieHendelseDatoNesteSak),\n                saksgrunnlagsAntallBarn,\n                saksgrunnlagsTermindato\n            ),\n            eksisterendeSakAnnenPartRequestIsSuspended\n                ? false\n                : eksisterendeSakAnnenPartRequestStatus !== RequestStatus.FINISHED\n        );\n    const { tilgjengeligeStønadskontoerData: stønadskontoer80 } = Api.useGetUttakskontoer(\n        getStønadskontoParams(\n            Dekningsgrad.ÅTTI_PROSENT,\n            barn,\n            annenForelder,\n            søkersituasjon,\n            farMedmorErAleneOmOmsorg,\n            morErAleneOmOmsorg,\n            dateToISOString(familieHendelseDatoNesteSak),\n            saksgrunnlagsAntallBarn,\n            saksgrunnlagsTermindato\n        ),\n        eksisterendeSakAnnenPartRequestIsSuspended\n            ? false\n            : eksisterendeSakAnnenPartRequestStatus !== RequestStatus.FINISHED\n    );\n    const onAvbrytSøknad = useAvbrytSøknad();\n    const onFortsettSøknadSenere = useFortsettSøknadSenere();\n\n    useEffect(() => {\n        if (tilgjengeligeStønadskontoerError) {\n            sendErrorMessageToSentry(tilgjengeligeStønadskontoerError);\n            throw new Error(\n                `Vi klarte ikke å hente opp stønadskontoer. Prøv igjen om noen minutter og hvis problemet vedvarer kontakt brukerstøtte.`\n            );\n        }\n        if (eksisterendeSakAnnenPartError) {\n            sendErrorMessageToSentry(eksisterendeSakAnnenPartError);\n            throw new Error(\n                `Vi klarte ikke å hente informasjon om saken til annen forelder. Prøv igjen om noen minutter og hvis problemet vedvarer kontakt brukerstøtte.`\n            );\n        }\n    }, [tilgjengeligeStønadskontoerError, eksisterendeSakAnnenPartError]);\n\n    if (\n        !stønadskontoer100 ||\n        !stønadskontoer80 ||\n        (eksisterendeSakAnnenPartRequestStatus !== RequestStatus.FINISHED &&\n            !eksisterendeSakAnnenPartRequestIsSuspended)\n    ) {\n        return (\n            <div style={{ textAlign: 'center', padding: '12rem 0' }}>\n                <Loader size=\"2xlarge\" />\n            </div>\n        );\n    }\n\n    return (\n        <Step\n            bannerTitle={intlUtils(intl, 'søknad.pageheading')}\n            activeStepId=\"uttaksplanInfo\"\n            pageTitle={intlUtils(intl, 'søknad.uttaksplanInfo')}\n            onCancel={onAvbrytSøknad}\n            onContinueLater={onFortsettSøknadSenere}\n            steps={stepConfig(intl, false)}\n        >\n            <UttaksplanInfoScenarios\n                tilgjengeligeStønadskontoer100DTO={stønadskontoer100}\n                tilgjengeligeStønadskontoer80DTO={stønadskontoer80}\n                eksisterendeSakAnnenPart={eksisterendeVedtakAnnenPart}\n            />\n        </Step>\n    );\n};\n\nexport default UttaksplanInfo;\n"],"names":["FarMedmorFødselBeggeHarRettFormField","FarMedmorFødselBeggeHarRettFormComponents","getTypedFormComponents","initialFarMedmorFødselBeggeHarRettValues","mapFarMedmorFødselBeggeHarRettToState","values","getInitialFarMedmorFødselBeggeHarRettValues","state","dekningsgrad","UttaksplanHexColor","getBarStyle","width","color","color2","Multibar","leftBar","rightBar","centerBar","borderColor","bem","bemUtils","jsxs","jsx","getProsentFordelingPerDel","tilgjengeligeDager","inkluderForeldrepengerFørTermin","pstMultiplikator","pstMor","pstFarMedmor","pstFelles","DeltOmsorgGraf","navnFarMedmor","navnMor","erFarEllerMedmor","intl","useIntl","fordeling","txtMor","intlUtils","getVarighetString","Personkort","FormattedMessage","getNavnGenitivEierform","Label","AleneomsorgGraf","txt","TilgjengeligeDagerGraf","props","summerAntallDagerIKontoer","kontoer","dager","konto","getMorsStønadskontoer","StønadskontoType","getFarsStønadskontoer","getForeldrepengeKontoer","getFellesStønadskontoer","kontoErFørTermin","kontoErEtterTermin","getTilgjengeligeDager","erDeltUttak","forelderVedAleneomsorg","kontoerEtterTermin","dagerTotalt","dagerForeldrepengerFørFødsel","dagerEtterTermin","dagerForeldrepenger","dagerMor","dagerFar","dagerFelles","dagerKunTilMor","Forelder","maksDagerFar","maksDagerMor","opprettAktivitetsFriKonto","generellMinsterett","nyeKontoer","mapTilgjengeligStønadskontoDTOToTilgjengeligStønadskonto","stønadskontoerDTO","tilgjengeligeStønadskontoer","getValgtStønadskontoFor80Og100Prosent","kontoer80","kontoer100","åttiProsent","hundreProsent","Dekningsgrad","includeFellesperiodeSpørsmål","farMedmorsFørsteDag","familiehendelsesdato","hasValue","andreAugust2022ReglerGjelder","dayjs","ISOStringToDate","getSisteUttaksdag6UkerEtterFødsel","FarMedmorFødselBeggeHarRettFormConfig","morsSisteDag","farMedmorFødselBeggeHarRettQuestionsConfig","Questions","MorsSisteDagSpørsmål","FormComponents","fieldName","maxDate","uttaksplanDatoavgrensninger","minDate","validateStartdatoFarMedmor","minDato","maxDato","permisjonStartdato","isISODateString","Uttaksdagen","formatDateExtended","FarMedmorsFørsteDag","setFieldValue","termindato","situasjon","morHarRettTilForeldrepengerIEØS","Fragment","Block","LenkeKnapp","formatDate","farSinFørsteUttaksdag","dateToISOString","RangeIcon","Component","type","icon","delay","minZoomTouchDelta","lastTapAt","lastClientX","lastClientY","preventDoubleTapZoom","event","tapAt","timeDiff","clientX","clientY","xDiff","yDiff","AriaText","id","children","tag","tagName","createElement","Sirkelknapp","onClick","ariaLabel","ikon","toggle","disabled","stil","size","posisjoneringFraHøyre","labelId","guid","classnames","getNumberFromStringInput","input","getNumberFromNumberInputValue","leggTil","currentAntall","max","number","trekkFra","min","AntallUkerOgDagerFellesperiodeFarMedmorSpørsmål","ukerFieldName","dagerFieldName","antallDager","antallUker","ukerMedFellesperiode","ReadMore","DekningsgradSpørsmål","FormKomponent","dekningsgradFeltNavn","spørsmålTekst","getAntallUker","useUttaksplanInfo","useForeldrepengesøknadContext","getDekningsgradFromString","deltUttakAdopsjonSøktFørst","famDato","startdatoPermisjon","fellesperiodeukerMor","harAnnenForelderSøktFP","førsteUttaksdagNesteBarnsSak","førsteUttaksdag","perioder","kontoType","forelder","k","currentTomDate","periodeMødrekvote","Periodetype","getTidsperiode","tidperiodeOverlapperDato","splittPeriodePåDato","periode","periodeFellesperiode","sorterPerioder","deltUttakAdopsjonSøktSist","antallDagerFellesperiodeFarMedmor","antallUkerFellesperiodeFarMedmor","morSinSisteUttaksdag","begrunnelseForUtsettelse","deltUttakFødselFarMedmor","isUttaksperiode","deltUttakAdopsjon","deltUttakFødselMor","ønsketStartdatoPermisjon","skalHaForeldrePengerFørFødsel","fpFørFødselKonto","mkKonto","dagerFørFødsel","merEnnTreUkerPermisjonFørFødsel","startdatoFpFørFødsel","ekstraPeriodeFørFødsel","periodeFørFødsel","ekstraPermisjonFørFødsel","p","trekkEkstraPermisjonDager","Tidsperioden","periodeFellesperiodeMor","morHarRettPåForeldrepengerIEØS","dateIsSameOrAfter","startDatoUttak","sisteUttaksDag","fedrekvoteKonto","fellesKonto","morHarRett","skalFarUtsetteEtterMorSinSisteUttaksdag","erPeriodeWLBRundtFødsel","starterTidsperiodeInnenforToUkerFørFødselTilSeksUkerEtterFødsel","lengdePåForeslåttUttak","getLengdePåForeslåttWLBUttakFarMedmor","fedrekvotePeriode","farMedmorsTidsperiodeSkalSplittesPåFamiliehendelsesdato","splittUttaksperiodePåFamiliehendelsesdato","antallDagerFellesperiode","fellesPeriode","deltUttakFødsel","annenForelderHarRettPåForeldrepengerIEØS","tilgjengeligeStønadskontoerUtenFPP","deltUttak","params","ikkeDeltUttakAdopsjonFarMedmor","foreldrepengerKonto","erMorUfør","aktivitetsfriKvote","bareFarMedmorHarRett","startDatoNestePeriode","aktivitetsFriPeriode","sp","aktivitetskravPeriode","ikkeDeltUttakAdopsjonMor","ikkeDeltUttakAdopsjon","ikkeDeltUttakFødselMor","foreldrePengerFørFødselKonto","antallDagerIForeldrepenger","foreldrepengerPeriode","ikkeDeltUttakFødselFarMedmor","startDato","ikkeDeltUttakFødsel","ikkeDeltUttak","lagUttaksplan","erEndringssøknad","søkerErFarEllerMedmor","annenForelderErUfør","uttaksplanSkjema","harAktivitetskravIPeriodeUtenUttak","erAdopsjon","morSinSisteUttaksdagDate","forslag","finnOgSettInnHull","FarMedmorFødselFørsteganggsøknadBeggeHarRett","tilgjengeligeStønadskontoer100DTO","tilgjengeligeStønadskontoer80DTO","annenForelder","søkersituasjon","barn","useSøknad","person","useSøkerinfo","isFarEllerMedmor","erFødsel","lagretUttaksplanInfo","navnFar","isAnnenForelderOppgitt","getFamiliehendelsedato","getErMorUfør","familiehendelsesdatoDate","getTermindato","onValidSubmitHandler","actionCreator","handleSubmit","isSubmitting","useOnValidSubmit","SøknadRoutes","state2","storeAppState","formValues","visibility","valgtStønadskonto","GuidePanel","StepButtonWrapper","Button","Link","getPreviousStepHref","getFlerbarnsuker","antallBarn","uttaksplanHarForMangeFlerbarnsdager","uttaksplan","sum","finnAntallDagerÅTrekke","MorFødselFormField","MorFødselFormComponents","initialMorFødselValues","mapMorFødselFormToState","getInitialMorFødselValues","defaultPermisjonStartdato","validateErStartdatoFørTermindato","familiehendelsedato","skalIkkeHaUttakFørTermin","avgrensninger","uttaksConstants","getÅrsakDersomUgyldigStartdato","startdato","førsteMuligeStartdato","VeilederStartdatoPermisjon","antallDagerFørFødselIhtRegler","visKunFeil","ugyldigDatoÅrsak","msg","React.useMemo","formaterDato","getVarighetForStartdato","barnetErFødt","StartdatoPermisjonMor","erBarnFødt","isFødtBarn","spørsmålNår","spørsmålHaddeIkke","sisteUttaksdagFørTermin","tidsperiode","getValidTidsperiode","visVeileder","datoAvgrensninger","maksDato","RangeStepper","direction","label","defaultValueLabelRenderer","options","defaultBottomContentRenderer","BodyShort","RangeInput","__publicField","_e","hjelpetekst","ariaLabelText","inputId","valueLabelRenderer","steppers","ariaValueChangedMessage","bottomContentRenderer","hjelpetekstApneLabel","valueLabelPlacement","rest","value","onChange","labelRenderer","ariaLabelId","bottomRenderer","bemWrapper","bemRangeInput","bemStepper","Fieldset","c","e","FordelingFellesperiodeSpørsmål","valgtFellesperiodeukerMor","annenForelderErFarEllerMedmor","mor","farMedmor","getAntallUkerFellesperiode","useEffect","ukerFellesperiode","antallUkerFedreKvote","getAntallUkerFedrekvote","antallUkerMødreKvote","getAntallUkerMødrekvote","infotekst","annenForeldersNavn","lenker","fellesperiodeukerMor2","Ingress","MorFødselFormConfig","harRettPåForeldrepengerINorge","erAleneOmOmsorg","morFødselQuestionsConfig","skalViseInfoOmPrematuruker","fødselsdato","fødselsdatoEtterEllerLikFørsteJuli","getHarAktivitetskravIPeriodeUtenUttak","søkerErAleneOmOmsorg","uttaksplanInneholderPerioderUtenKonto","leggTilAnnenPartsPerioderISøkerenesUttaksplan","annenPartsPerioder","bareFarHarRett","normaliserteEgnePerioder","normaliserteAnnenPartsPerioder","normaliserPerioder","overlappendePerioderAnnenPart","Periodene","overlappendePeriodeAnnenPart","isUttakAnnenPart","settInnAnnenPartsUttak","MorFødsel","eksisterendeSakFar","fornavn","mellomnavn","etternavn","getFødselsdato","visInfoOmPrematuruker","ekstraDagerGrunnetPrematurFødsel","oppgittAnnenForelder","formaterNavn","submissionValues","uttaksplanforslag","uttaksplanMedAnnenPart","AdopsjonStartdatoValg","finnEnum","valg","MorFarAdopsjonFormField","MorFarAdopsjonFormComponents","initialMorFarAdopsjonValues","YesOrNo","mapMorFarAdopsjonFormToState","convertYesOrNoOrUndefinedToBoolean","getInitialMorFarAdopsjonValues","MorFarAdopsjonFormConfig","harAnnenForelderRettPåForeldrepengerINorge","startdatoAdopsjonValg","annenStartdatoAdopsjon","annenForeldersSisteDag","søkersFørsteDag","antallUkerFellesperiode","morFarAdopsjonQuestionsConfig","validateErAnnenStartdatoAdopsjonGyldig","finnStartdatoAdopsjon","adopsjonsdato","ankomstdato","assertUnreachable","konverterStringTilDate","invalidDateRanges","r","StartdatoAdopsjon","valgtStartdatoAdopsjon","radios","isAdoptertAnnetBarn","formaterDatoUtenDag","isAdoptertBarn","MorFarAdopsjon","annenForelderOppgittIkkeAleneOmOmsorg","shouldRender","barnAdopsjonsdato","erSøkerMor","fornavnAnnenForeldre","erAnnenPartUfør","navnAnnenPart","navnSøker","erAdoptertIUtlandet","latestDate","findEldsteDato","isAdoptertStebarn","MorFarAdopsjonAnnenForelderHarRettIEØSFormField","MorFarAdopsjonAnnenForelderHarRettIEØSFormComponents","MorFarAdopsjonAnnenForelderHarRettIEØSFormConfig","morFarAdopsjonAnnenForelderHarRettIEØSQuestionsConfig","initialMorFarAdopsjonAnnenForelderHarRettIEØSValues","mapMorFarAdopsjonAnnenForelderHarRettIEØSFormToState","getInitialMorFarAdopsjonAnnenForelderHarRettIEØSValues","MorFarAdopsjonAnnenForelderHarRettIEØS","erDeltUttakINorge","MorFarFødselAnnenForelderHarRettIEØSFormField","MorFarFødselAnnenForelderHarRettIEØSFormComponents","MorFarFødselAnnenForelderHarRettIEØSFormConfig","morFarFødselAnnenForelderHarRettIEØSQuestionsConfig","initialMorFarFødselAnnenForelderHarRettIEØSValues","mapMorFarFødselAnnenForelderHarRettIEØSFormToState","getInitialMorFarFødselAnnenForelderHarRettIEØSValues","MorFarFødselAnnenForelderHarRettIEØS","FarMedmorAleneomsorgFødselFormField","FarMedmorAleneomsorgFødselFormComponents","FarMedmorAleneomsorgFødselFormConfig","startPåOmsorgsovertakelse","startdatoUttak","farMedmorAleneomsorgFødselQuestionsConfig","initialFarMedmorAleneomsorgFødselValues","mapFarMedmorAleneomsorgFødselFormToState","datoForAleneomsorg","getInitialFarMedmorAleneomsorgFødselValues","startetPåOmsorgsovertakelse","validateStartdatoUttakFarMedmorAleneomsorgFødsel","isDateABeforeDateB","FarMedmorAleneomsorgFødsel","søker","uttaksplanInfo","kontoerForValgtDekningsgrad","farMedmorAleneomsorgFødselAdopsjonQuestionsConfig","FarMedmorFødselOgMorHarIkkeRettFormField","FarMedmorFødselOgMorHarIkkeRettFormComponents","initialFarMedmorFødselOgMorHarIkkeRettValues","mapFarMedmorFødselOgMorHarIkkeRettFormToState","getInitialFarMedmorFødselOgMorHarIkkeRettValues","FarMedmorFødselOgMorHarIkkeRettFormConfig","farMedmorFødselOgMorHarIkkeRettQuestionsConfig","FarMedmorFødselOgMorHarIkkeRett","annenForelderHarIkkeRett","startDatoUttaksplan","datoAvgrensinger","FarMedmorFødselOgMorHarIkkeRett$1","FarMedmorFørstegangssøknadMedAnnenPartFormField","FarMedmorFørstegangssøknadMedAnnenPartFormComponents","FarMedmorFørstegangssøknadMedAnnenPartFormConfig","farMedmorFørstegangssøknadMedAnnenPartQuestionsConfig","getFarMedmorFørstegangssøknadMedAnnenPartInitialValues","FarMedmorFørstegangssøknadMedAnnenPart","eksisterendeSakAnnenPart","søknad","familiehendelsedatoDate","getMorHarRettPåForeldrepengerINorgeEllerEØS","morsSisteUttaksdag","stønadskontoer","grunnlag","farMedmorSinePerioder","isInfoPeriode","valgtMengdeStønadskonto","InfoOmSøknaden","getUttaksplanScenario","annenForelderKanIkkeOppgis","annenForelderHarRett","annenForelderHarRettIEØS","UttaksplanInfoScenarios","harAnnenForelderRettIEØS","FarMedmorAleneomsorgFødselAdopsjon","getFarHarRettINorge","erFarMedmor","getMorHarRettINorge","getAnnenForelderHarRettIEØS","getTermindatoSomSkalBrukes","termindatoSaksgrunnlag","isUfødtBarn","getTermindatoSomSkalBrukesFraSaksgrunnlagBeggeParter","termindatoSaksgrunnlagAnnenPart","getAntallBarnSomSkalBrukesFraSaksgrunnlagBeggeParter","antallBarnSaksgrunnlag","antallBarnSaksgrunnlagAnnenPart","getStønadskontoParams","farHarAleneomsorg","morHarAleneomsorg","familieHendelseDatoNesteSak","oppgittTermindato","UttaksplanInfo","dispatch","barnFraNesteSak","eksisterendeSak","annenPartFnr","eksisterendeSakAnnenPartRequestIsSuspended","barnFnr","_a","eksisterendeSakAnnenPartData","eksisterendeSakAnnenPartError","eksisterendeSakAnnenPartRequestStatus","Api","farMedmorErAleneOmOmsorg","getFarMedmorErAleneOmOmsorg","morErAleneOmOmsorg","getMorErAleneOmOmsorg","eksisterendeVedtakAnnenPart","useMemo","mapAnnenPartsEksisterendeSakFromDTO","useSaveLoadedRoute","saksgrunnlagsTermindato","saksgrunnlagsAntallBarn","søknadMedOppdatertAntallBarn","stønadskontoer100","tilgjengeligeStønadskontoerError","RequestStatus","stønadskontoer80","onAvbrytSøknad","useAvbrytSøknad","onFortsettSøknadSenere","useFortsettSøknadSenere","sendErrorMessageToSentry","Loader","Step","stepConfig","UttaksplanInfo$1"],"mappings":"ktEAEY,IAAAA,IAAAA,IACRA,EAAA,aAAe,eACfA,EAAA,aAAe,eACfA,EAAA,oBAAsB,sBACtBA,EAAA,wBAA0B,0BAC1BA,EAAA,yBAA2B,2BALnBA,IAAAA,IAAA,CAAA,CAAA,EAgBL,MAAMC,GAA4CC,GAGvD,ECdIC,GAAgF,CAClF,CAACH,GAAqC,YAAY,EAAG,GACrD,CAACA,GAAqC,YAAY,EAAG,GACrD,CAACA,GAAqC,mBAAmB,EAAG,GAC5D,CAACA,GAAqC,uBAAuB,EAAG,IAChE,CAACA,GAAqC,wBAAwB,EAAG,GACrE,EAEaI,GACTC,IAEO,CACH,yBACIA,EAAO,2BAA6B,QAAaA,EAAO,yBAAyB,KAAA,EAAO,SAAW,EAC7F,IACAA,EAAO,yBACjB,wBACIA,EAAO,0BAA4B,QAAaA,EAAO,wBAAwB,KAAA,EAAO,SAAW,EAC3F,IACAA,EAAO,wBACjB,oBAAqBA,EAAO,oBAC5B,aAAcA,EAAO,YAAA,GAIhBC,GAA8C,CACvDC,EACAC,IAEKD,EAIE,CACH,GAAGJ,GACH,yBAA0BI,EAAM,yBAChC,wBAAyBA,EAAM,wBAC/B,aAAcA,EAAM,aACpB,oBAAqBA,EAAM,oBAC3B,aAAAC,CAAA,EATOL,GCrCH,IAAAM,IAAAA,IACRA,EAAA,MAAQ,UACRA,EAAA,KAAO,UACPA,EAAA,MAAQ,UACRA,EAAA,OAAS,UACTA,EAAA,KAAO,UACPA,EAAA,UAAY,UACZA,EAAA,IAAM,UAPEA,IAAAA,IAAA,CAAA,CAAA,ECkBZ,MAAAC,GAAA,CAAA,CAAA,MAAAC,EAAA,MAAAC,EAAA,OAAAC,CAAA,KACI,CAAO,MAAA,GAAAF,KACO,WAAAE,EAAA,oCAAAD,UAAAC,SAAAD,CAC6E,GAI/FE,GAAA,CAAA,CAAA,QAAAC,EAAA,SAAAC,EAAA,UAAAC,EAAA,YAAAC,CAAA,IAAA,CACI,MAAAC,EAAAC,GAAA,UAAA,EAEA,OAAAC,EAAA,MAAA,CAAA,UAAAF,EAAA,MAAA,SAAA,CAEQE,EAAA,MAAA,CAAA,UAAAF,EAAA,QAAA,MAAA,EAAA,SAAA,CACKJ,GAAAA,EAAA,MAAA,GAAAO,EAAA,MAAA,CAAA,UAAAH,EAAA,QAAA,MAAA,MAAA,EAAA,MAAAT,GAAAK,CAAA,EAAA,SAAAA,GAAAA,EAAA,KAAA,EAGGE,GAAAK,EAGA,MAAC,CAAA,UAAAH,EAAA,QAAA,MAAA,QAAA,EACyC,MAAA,CAAA,GAAAT,GAAAO,CAAA,EAAA,KAAAF,EAAA,GAAAA,EAAA,SAAA,MAAA,EAC8C,SAAAE,GAAAA,EAAA,IAE5D,CAAA,EAC5BD,GAAAA,EAAA,MAAA,GAAAM,EAAA,MAAA,CAAA,UAAAH,EAAA,QAAA,MAAA,OAAA,EAAA,MAAAT,GAAAM,CAAA,EAAA,SAAAA,GAAAA,EAAA,KAAA,CAKA,EAAA,EAERM,EAAA,MAAA,CAAA,UAAAH,EAAA,QAAA,YAAA,EAAA,MAAA,CAAA,YAAAD,CAAA,EAAA,CACmE,CAAA,CAAA,CAG/E,ueCjCO,MAAAK,GAAA,CAAAC,EAAAC,IAAA,CAQH,MAAAC,EAAA,KAAAD,EAAAD,EAAA,YAAAA,EAAA,kBAGAG,EAAAD,EAAAF,EAAA,UAAAC,EAAAD,EAAA,6BAAA,GAGAI,EAAAF,EAAAF,EAAA,eACAK,EAAA,IAAAF,EAAAC,EAEA,MAAA,CAAO,OAAAD,EACH,aAAAC,EACA,UAAAC,CACA,CAER,EAEAC,GAAA,CAAA,CAAwD,mBAAAN,EACpD,cAAAO,EACA,QAAAC,EACA,iBAAAC,CAEJ,IAAA,CACI,MAAAC,EAAAC,KACAhB,EAAAC,GAAA,wBAAA,EACAgB,EAAAb,GAAAC,EAAA,EAAA,EACAa,EAAAb,EAAA,6BAAA,EAAA,GAAAA,EAAA,6BAAA,OAAAA,EAAA,SAAA,KAAAc,EAEyGJ,EAC3F,OACA,CAAA,KAAA,EAAA,CACW,IAAAK,GAAAf,EAAA,SAAAU,CAAA,EAGzB,OAAAb,EAAA,MAAA,CAAA,UAAAF,EAAA,WAAAA,EAAA,MAAAA,EAAA,SAAA,eAAA,CAAA,EAAA,SAAA,CAEQE,EAAA,MAAA,CAAA,UAAAF,EAAA,QAAA,MAAA,EAAA,SAAA,CACIE,EAAA,MAAA,CAAA,UAAAF,EAAA,QAAA,WAAA,EAAA,MAAA,CAAA,MAAA,GAAAiB,EAAA,SAAA,EAAA,SAAA,CACId,EAAA,MAAA,CAAA,UAAAH,EAAA,QAAA,UAAA,EAAA,SAAAG,EAAAkB,GAAA,CAAA,WAAA,SAAA,SAAAlB,EAEQmB,EAAC,CAAA,GAAA,oCACM,OAAA,CAAA,aAAAC,GAAAV,EAAAE,EAAA,MAAA,CAAA,CACkE,CAAA,CAAA,CAAA,CAAA,CAAA,EAGjFZ,EACAR,GAAC,CAAA,YAAAL,GAAA,KACmC,QAAA,CACvB,MAAAA,GAAA,MACqB,MAAA,IACnB,KAAAa,EAAA,MAAA,CAAA,UAAAH,EAAA,QAAA,UAAA,EAAA,SAAAkB,EAAA,CACgD,CAC3D,CAAA,CACJ,EAAA,EACJhB,EAAA,MAAA,CAAA,UAAAF,EAAA,QAAA,QAAA,EAAA,MAAA,CAAA,MAAA,GAAAiB,EAAA,YAAA,EAAA,SAAA,CAEId,EAAA,MAAA,CAAA,UAAAH,EAAA,QAAA,UAAA,EAAA,SAAAG,EAAAmB,EAAA,CAAA,GAAA,sCAAA,CAAA,CAAA,CAAA,EAEAnB,EACAR,GAAC,CAAA,YAAAL,GAAA,KACmC,QAAA,CACvB,MAAAA,GAAA,MACqB,OAAAA,GAAA,KACC,MAAA,IACpB,KAAAa,EAAA,MAAA,CAAA,UAAAH,EAAA,QAAA,UAAA,EAAA,SAAAoB,GAAAf,EAAA,YAAAU,CAAA,CAAA,CAAA,CAIH,CAER,CAAA,CACJ,EAAA,EACJH,GAAAV,EAAA,MAAA,CAAA,UAAAF,EAAA,QAAA,WAAA,EAAA,MAAA,CAAA,MAAA,GAAAiB,EAAA,eAAA,EAAA,SAAA,CAGQd,EAAA,MAAA,CAAA,UAAAH,EAAA,QAAA,UAAA,EAAA,SAAAG,EAAAkB,GAAA,CAAA,UAAA,GAAA,WAAA,SAAA,SAAAlB,EAEQmB,EAAC,CAAA,GAAA,oCACM,OAAA,CACK,aAAAC,GAAAX,EAAAG,EAAA,MAAA,CAC2D,CACnE,CAAA,CAAA,CAAA,CAAA,CAAA,EAGZZ,EACAR,GAAC,CAAA,YAAAL,GAAA,KACmC,QAAA,CACvB,MAAAA,GAAA,KACqB,MAAA,IACnB,KAAAa,EAAA,MAAA,CAAA,UAAAH,EAAA,QAAA,UAAA,EAAA,SAAAoB,GAAAf,EAAA,eAAAU,CAAA,CAAA,CAAA,CAIH,CAER,CAAA,CACJ,EAAA,CACJ,EAAA,EAER,CAAAD,GAAAT,EAAA,6BAAA,GAAAF,EAAA,MAAA,CAAA,MAAA,CAAA,WAAA,UAAA,EAAA,SAAAA,EAAAqB,GAAA,CAAA,SAAArB,EAAAmB,EAAA,CAAA,GAAA,4CAAA,OAAA,CAAA,KAAAT,CAAA,EAAA,CAAA,CAAA,CAAA,CAAA,EAMIC,GAAAT,EAAA,6BAAA,GAAAF,EAAA,MAAA,CAAA,MAAA,CAAA,WAAA,UAAA,EAAA,SAAAA,EAAAqB,GAAA,CAAA,SAAArB,EAKQmB,EAAC,CAAA,GAAA,qDACM,OAAA,CAAA,KAAAT,CAAA,CACqB,CAAA,CAAA,CAAA,CAAA,CAAA,CAGpC,CAAA,CAAA,CAIhB,EAEAY,GAAA,CAAA,CAAA,mBAAApB,EAAA,iBAAAS,KAAA,CACI,MAAAC,EAAAC,KACAhB,EAAAC,GAAA,wBAAA,EACAyB,EAAArB,EAAA,6BAAA,EAAA,GAAAA,EAAA,6BAAA,OAAAA,EAAA,oBAAA,SAAAe,GAAAf,EAAA,iBAAAU,CAAA,EAMA,OAAAb,EAAA,MAAA,CAAA,UAAAF,EAAA,MAAA,SAAA,CAEQG,EAAA,MAAA,CAAA,MAAA,CAAA,SAAA,UAAA,EAAA,SAAAA,EAAA,MAAA,CAAA,UAAAH,EAAA,QAAA,UAAA,EAAA,SAAAG,EAAAqB,GAAA,CAAA,SAAArB,EAAAmB,EAAA,CAAA,GAAA,iDAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAMAnB,EACAR,GAAC,CAAA,YAAAL,GAAA,KACmC,QAAA,CACvB,MAAAwB,EAAAxB,GAAA,KAAAA,GAAA,MACkE,MAAA,IAChE,KAAAa,EAAA,MAAA,CAAA,UAAAH,EAAA,QAAA,UAAA,EAAA,SAAA0B,EAAA,CAC6C,CACxD,CAAA,EACJ,CAAAZ,GAAAT,EAAA,6BAAA,GAAAF,EAAA,MAAA,CAAA,MAAA,CAAA,WAAA,UAAA,EAAA,SAAAA,EAAAqB,GAAA,CAAA,SAAArB,EAAAmB,EAAA,CAAA,GAAA,wDAAA,CAAA,CAAA,CAAA,EAAA,CAMI,CAAA,CAAA,CAIhB,EAEAK,GAAAC,GACIA,EAAA,YAAAzB,EAAAQ,GAAA,CAAA,GAAAiB,EAAA,EAAAzB,EAAAsB,GAAA,CAAA,GAAAG,CAAA,CAAA,opBCrLS,MAAAC,GAA6BC,GAC/BA,EAAQ,OAAO,CAACC,EAAOC,IAAUA,EAAM,MAAQD,EAAO,CAAC,EAG5DE,GAAyBH,GAC3BA,EAAQ,OAAQE,GAAUA,EAAM,QAAUE,EAAiB,UAAU,EAEnEC,GAAyBL,GAC3BA,EAAQ,OAAQE,GAAUA,EAAM,QAAUE,EAAiB,UAAU,EAEnEE,GAA2BN,GAC7BA,EAAQ,OAAQE,GAAUA,EAAM,QAAUE,EAAiB,cAAc,EAEvEG,GAA2BP,GAC7BA,EAAQ,OAAQE,GAAUA,EAAM,QAAUE,EAAiB,aAAa,EAEtEI,GAAoBN,GACfA,EAAM,QAAUE,EAAiB,wBAGtCK,GAAsBP,GACjBA,EAAM,QAAUE,EAAiB,wBAG/BM,GAAwB,CACjCV,EACAW,EACAC,IACqB,CACf,MAAAC,EAAqBb,EAAQ,OAAOS,EAAkB,EAEtDK,EAAcf,GAA0BC,CAAO,EAC/Ce,EAA+BhB,GAA0BC,EAAQ,OAAOQ,EAAgB,CAAC,EACzFQ,EAAmBjB,GAA0Bc,CAAkB,EAC/DI,EAAsBlB,GAA0BO,GAAwBO,CAAkB,CAAC,EAC3FK,EAAWnB,GAA0BI,GAAsBU,CAAkB,CAAC,EAC9EM,EAAWpB,GAA0BM,GAAsBQ,CAAkB,CAAC,EAC9EO,EAAcrB,GAA0BQ,GAAwBM,CAAkB,CAAC,EAEnFQ,EAAiBV,IAAgB,IAASC,IAA2BU,EAAS,IAG9EC,EAFiBZ,IAAgB,IAASC,IAA2BU,EAAS,UAE9CL,EAAsBE,EAAWC,EACjEI,EAAeH,EAAiBJ,EAAsBF,EAA+BG,EAAWE,EAE/F,MAAA,CACH,YAAAN,EACA,6BAAAC,EACA,iBAAAC,EACA,oBAAAC,EACA,SAAAC,EACA,eAAgBC,EAChB,YAAAC,EACA,aAAAG,EACA,aAAAC,EACA,eAAgBxB,CAAA,CAExB,ECzDMyB,GAA4B,CAC9BzB,EACA0B,IAC6B,CAC7B,MAAMC,EAAyC,CAAA,EAC/C,OAAAA,EAAW,KAAK,CAAE,GAAG3B,EAAQ,CAAC,EAAG,MAAOA,EAAQ,CAAC,EAAE,MAAQ0B,CAAoB,CAAA,EAC/EC,EAAW,KAAK,CAAE,MAAOvB,EAAiB,mBAAoB,MAAOsB,EAAoB,EAClFC,CACX,EAEMC,GACFC,GAC6B,CAC7B,IAAIC,EAA0D,CAAA,EAE9D,OAAO,KAAKD,EAAkB,OAAO,EAChC,OAAQ3B,GAAkBA,IAAUE,EAAiB,cAAc,EACnE,QAASF,GAAU,CAChB4B,EAA4B,KAAK,CAC7B,MAAA5B,EACA,MAAO2B,EAAkB,QAAQ3B,CAAK,CAAA,CACzC,CAAA,CACJ,EAEC,MAAAwB,EAAqBG,EAAkB,aAAa,mBAE1D,OAAIH,EAAqB,IACSI,EAAAL,GAA0BK,EAA6BJ,CAAkB,GAEpGI,CACX,EAEaC,GAAwC,CACjDC,EACAC,IACC,CACK,MAAAC,EAAcN,GAAyDI,CAAS,EAChFG,EAAgBP,GAAyDK,CAAU,EAClF,MAAA,CACH,CAACG,GAAa,YAAY,EAAGF,EAC7B,CAACE,GAAa,cAAc,EAAGD,CAAA,CAEvC,EClCME,GAA+B,CAACC,EAA6BC,IAE3DC,EAASF,CAAmB,IAC3B,CAACG,IACEC,GAAMC,EAAgBL,CAAmB,CAAC,EAAE,QACxCM,GAAkCL,CAAoB,EACtD,KAAA,GAIVM,GAGF,CACA,CAAC9F,GAAqC,YAAY,EAAG,CACjD,WAAY,IAAM,GAClB,WAAY,CAAC,CAAE,aAAAQ,KAAmBiF,EAASjF,CAAY,CAC3D,EACA,CAACR,GAAqC,YAAY,EAAG,CACjD,WAAY,CAAC,CAAE,qBAAAwF,CAA2B,IAAA,CAACE,GAA6BF,CAAoB,EAC5F,WAAY,CAAC,CAAE,aAAAO,EAAc,qBAAAP,CAAA,IACzBE,GAA6BF,CAAoB,GAAKC,EAASM,CAAY,EAC/E,iBAAkB,CAAC,CAAE,aAAAvF,KAAmBiF,EAASjF,CAAY,CACjE,EACA,CAACR,GAAqC,mBAAmB,EAAG,CACxD,WAAY,CAAC,CAAE,aAAA+F,EAAc,qBAAAP,CAAA,IACzBE,GAA6BF,CAAoB,GAAKC,EAASM,CAAY,EAC/E,WAAY,CAAC,CAAE,oBAAAR,KAA0BE,EAASF,CAAmB,CACzE,EACA,CAACvF,GAAqC,wBAAwB,EAAG,CAC7D,WAAY,CAAC,CAAE,oBAAAuF,EAAqB,qBAAAC,CAChC,IAAAF,GAA6BC,EAAqBC,CAAoB,EAC1E,WAAY,IAAM,EACtB,EACA,CAACxF,GAAqC,uBAAuB,EAAG,CAC5D,WAAY,CAAC,CAAE,oBAAAuF,EAAqB,qBAAAC,CAChC,IAAAF,GAA6BC,EAAqBC,CAAoB,EAE1E,WAAY,IAAM,EACtB,CACJ,EAEMQ,GAA6CC,GAGjDH,EAAqC,EC5CvCI,GAAA,CAAA,CAAwD,eAAAC,EACpD,UAAAC,EACA,qBAAAZ,EACA,QAAAxD,CAEJ,IAAA,CACI,MAAAE,EAAAC,KAEAkE,EAAAT,EAAAU,GAAA,mBAAAd,CAAA,EAAA,OAAA,EACAe,EAAAX,EAAAU,GAAA,mBAAAd,CAAA,EAAA,OAAA,EAEA,OAAAlE,EACI6E,EAAA,WAAgB,CAAf,KAAAC,EACS,MAAA9D,EAAAJ,EAAA,4CAAA,CAAA,QAAAF,CAAA,CAAA,EACyE,QAAAqE,EAC/E,QAAAE,EACA,iBAAA,GACkB,eAAA,GACF,YAAA,YACH,CAAA,CAGzB,klBC7BO,MAAMC,GACT,CAACtE,EAAiBuE,EAAeC,IAAmBC,GAA+B,CAC3E,GAAA,CAACC,GAAAA,gBAAgBD,CAAkB,EAC5B,OAAArE,EAAUJ,EAAM,8DAA8D,EAEzF,GAAI,CAAC2E,EAAYjB,EAAgBe,CAAkB,CAAE,EAAE,cAC5C,OAAArE,EAAUJ,EAAM,8CAA8C,EAEzE,GAAIyD,GAAMgB,CAAkB,EAAE,SAASF,EAAS,GAAG,GAAKd,GAAMgB,CAAkB,EAAE,QAAQD,EAAS,GAAG,EAC3F,OAAApE,EAAUJ,EAAM,uCAAwC,CAC3D,IAAK4E,GAAmBL,CAAO,EAC/B,IAAKK,GAAmBJ,CAAO,CAAA,CAClC,CAIT,ECAJK,GAAA,CAAA,CAAuD,eAAAZ,EACnD,UAAAC,EACA,qBAAAZ,EACA,aAAAO,EACA,cAAAiB,EACA,QAAAhF,EACA,WAAAiF,EACA,UAAAC,EACA,gCAAAC,CAEJ,IAAA,CACI,MAAAjF,EAAAC,KACAkE,EAAAT,EAAgBU,GAAA,4BAAAd,EAAAyB,EAAAC,CAAA,EAAA,OACyF,EAEzGX,EAAAX,EAAgBU,GAAA,4BAAAd,EAAAyB,EAAAC,CAAA,EAAA,OACyF,EAGzG,OAAA7F,EAAA+F,GAAA,CAAA,SAAA,CAEQ9F,EAAA+F,EAAA,CAAA,UAAA,IAAA,SAAA/F,EACI6E,EAAA,WAAgB,CAAf,KAAAC,EACS,MAAA9D,EAAAJ,EAAA,oDAAA,EACqE,QAAAmE,EAC3E,QAAAE,EACA,iBAAA,GACkB,eAAA,GACF,YAAA,aACH,SAAAC,GAAAtE,EAAAqE,EAAAF,CAAA,CACgD,CAAA,EAAA,EAErE,CAAAX,GAAAF,CAAA,GAAA,CAAA2B,GAAA7F,EAEIgG,GAAC,CAAA,KAAAhG,EAEOmB,EAAC,CAAA,GAAA,6EACM,OAAA,CACK,KAAAT,EACE,KAAAuF,GAAAV,EAAAd,CAAA,EAAA,MAAA,CAAA,CAC6C,CACvD,CAAA,EACJ,QAAA,IAAA,CAGA,MAAAyB,EAAAzB,EAAA0B,EAAAZ,EAAAd,CAAA,EAAA,MAAA,CAAA,EAAA,OAIAiB,EAAAZ,EAAAoB,CAAA,CAA8C,CAClD,CAAA,CACJ,CAAA,CAAA,CAIhB,4wCCxEA,MAAAE,WAAAC,GAAAA,SAAA,CAAiE,gBAAA,CAEzD,OAAArG,EACI,OAAC,CAAA,EAAA,ksBACK,GAAA,QACC,KAAA,SACE,CAAA,CACT,CAER,iBAAA,CAGI,OAAAA,EACI,OAAC,CAAA,EAAA,qTACK,GAAA,QACC,KAAA,SACE,CAAA,CACT,CAER,QAAA,CAGI,KAAA,CAAA,KAAAsG,CAAA,EAAA,KAAA,MACAC,EAAAD,IAAA,QAAA,KAAA,kBAAA,KAAA,iBAEA,OAAAtG,EACI,MAAC,CAAA,UAAA,QACa,KAAA,MACL,cAAA,OACO,MAAA,OACN,OAAA,OACC,QAAA,YACC,UAAA,YACE,SAAAA,EAAA,IAAA,CAAA,GAAA,yBAAA,OAAA,OAAA,YAAA,IAAA,KAAA,OAAA,SAAA,UAAA,SAAAuG,EAAA,CAIV,CAAA,CACJ,CAGZ,sOC9CA,MAAMC,GAAQ,IAERC,GAAoB,GAG1B,IAAIC,GAAY,EACZC,GAAc,EACdC,GAAc,EAElB,SAAwBC,GAAqBC,EAA8B,CAEnE,GAAAA,EAAM,QAAQ,OAAS,EACvB,OAGJ,MAAMC,EAAQ,IAAI,KAAK,EAAE,QAAQ,EAC3BC,EAAWD,EAAQL,GACnB,CAAE,QAAAO,EAAS,QAAAC,CAAA,EAAYJ,EAAM,QAAQ,CAAC,EACtCK,EAAQ,KAAK,IAAIR,GAAcM,CAAO,EACtCG,EAAQ,KAAK,IAAIR,GAAcM,CAAO,EACxCC,EAAQV,IAAqBW,EAAQX,IAAqBK,EAAM,QAAQ,SAAW,GAAKE,EAAWR,KACnGM,EAAM,eAAe,EAEpBA,EAAM,OAAe,SAEZH,GAAAM,EACAL,GAAAM,EACFR,GAAAK,CAChB,CClBA,MAAAM,GAAA,CAAA,CAAA,GAAAC,EAAA,SAAAC,EAAA,IAAAC,CAAA,IAAA,CACI,MAAAC,EAAAD,GAAA,OACA,OAAAE,GAAAA,cAAAD,EAAA,CAAA,GAAAH,EAAA,UAAA,SAAA,EAAAC,CAAA,CACJ,2QCcA,MAAAI,GAAA,CAAA,CAAgE,QAAAC,EAC5D,UAAAC,EACA,KAAAC,EACA,OAAAC,EACA,SAAAC,EACA,KAAAC,EAAA,OACO,KAAAC,EAAA,SACA,sBAAAC,CAEX,IAAA,CACI,MAAAC,EAAAC,IACA,OAAAtI,EACI,SAAC,CAAA,MAAA,CAAA,KAAAoI,CAAA,EACwC,KAAA,SAChC,QAAA,IAAAP,EAAA,EACkB,aAAAf,GACT,kBAAAuB,EACG,UAAAE,GAAA,cAAA,gBAAAL,IAAA,gBAAAC,IAAA,CACoE,uBAAAH,GAAAA,EAAA,QACxC,wBAAAC,CAChB,CAAA,EAC5B,SAAAA,EACD,eAAAD,EAAAA,EAAA,QAAA,OACwC,SAAA,CAExC/H,EAAA,OAAA,CAAA,UAAA,oBAAA,KAAA,eAAA,SAAA8H,EAAA,EAEA9H,EAAAqH,GAAA,CAAA,GAAAe,EAAA,SAAAP,EAAA,CACkC,CAAA,CAAA,CAG9C,ivCCvCA,MAAAU,GAAAC,GACIA,IAAA,QAAAA,EAAA,KAAA,EAAA,SAAA,EAAA,EAAAC,GAAAD,CAAA,EAGJE,GAAA,CAAAC,EAAAC,IAAA,CACI,MAAAC,EAAAN,GAAAI,CAAA,EAEA,OAAAE,IAAA,QAAA,KAAA,MAAAA,CAAA,IAAAA,EACIF,EAGJE,EAAA,EAAAD,EACIA,EAAA,YAGJC,EAAA,GAAA,UACJ,EAEAC,GAAA,CAAAH,EAAAI,IAAA,CACI,MAAAF,EAAAN,GAAAI,CAAA,EAEA,OAAAE,IAAA,QAAAA,IAAA,GAAA,KAAA,MAAAA,CAAA,IAAAA,EACIF,EAGJE,EAAA,EAAAE,EACIA,EAAA,YAGJF,EAAA,GAAA,UACJ,EAEAG,GAAA,CAAA,CAAmF,eAAAnE,EAC/E,cAAAoE,EACA,eAAAC,EACA,YAAAC,EACA,WAAAC,EACA,cAAA1D,EACA,qBAAA2D,CAEJ,IAAA,CACI,MAAAxJ,EAAAC,GAAA,iDAAA,EACAc,EAAAC,KAEA,OAAAd,EAAA+F,GAAA,CAAA,SAAA,CAEQ9F,EAAA,SAAA,CAAA,SAAAA,EAAAqB,GAAA,CAAA,SAAArB,EAAAmB,EAAA,CAAA,GAAA,qCAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAIApB,EAAA,MAAA,CAAA,UAAAF,EAAA,MAAA,SAAA,CAEIE,EAAA,MAAA,CAAA,UAAAF,EAAA,QAAA,SAAA,EAAA,SAAA,CACIG,EAAA,MAAA,CAAA,UAAAH,EAAA,QAAA,MAAA,EAAA,SAAAG,EACI2H,GAAC,CAAA,KAAA,OACQ,UAAA,8BACK,KAAA3H,EAAAoG,GAAA,CAAA,KAAA,OAAA,CAAA,EACoB,SAAAgD,IAAA,QAAA,SAAAA,EAAA,EAAA,IAAA,GAAAA,EAAA,KAAA,EAAA,SAAA,EAMpB,QAAA,IAAA1D,EAAAuD,EAAAH,GAAAM,EAAA,CAAA,CAAA,CAEyD,CAAA,EAAA,EAE3EpJ,EACA6E,EAAA,YAAgB,CAAf,UAAAhF,EAAA,QAAA,MAAA,EACgC,aAAA,GACf,KAAAoJ,EACR,MAAAjI,EAAAJ,EAAA,oBAAA,EACqC,MAAA,KACrC,KAAA,GACD,CAAA,EACTZ,EAAA,MAAA,CAAA,UAAAH,EAAA,QAAA,MAAA,EAAA,SAAAG,EAEI2H,GAAC,CAAA,KAAA,OACQ,UAAA,4BACK,KAAA3H,EAAAoG,GAAA,CAAA,KAAA,MAAA,CAAA,EACmB,SAAA,SAAAgD,EAAA,EAAA,GAAAC,EACuC,QAAA,IAAA3D,EAAAuD,EAAAP,GAAAU,EAAAC,CAAA,CAAA,CACiB,CAAA,EAAA,CAE7F,EAAA,EACJtJ,EAAA,MAAA,CAAA,UAAAF,EAAA,QAAA,SAAA,EAAA,SAAA,CAEIG,EAAA,MAAA,CAAA,UAAAH,EAAA,QAAA,MAAA,EAAA,SAAAG,EACI2H,GAAC,CAAA,KAAA,OACQ,UAAA,+BACK,KAAA3H,EAAAoG,GAAA,CAAA,KAAA,OAAA,CAAA,EACoB,QAAA,IAAAV,EAAAwD,EAAAJ,GAAAK,EAAA,CAAA,CAAA,EACuC,SAAAA,IAAA,QAAA,SAAAA,EAAA,EAAA,IAAA,GAAAA,EAAA,KAAA,EAAA,SAAA,CAM3D,CAAA,EAAA,EAGlBnJ,EACA6E,EAAA,YAAgB,CAAf,UAAAhF,EAAA,QAAA,MAAA,EACgC,aAAA,GACf,KAAAqJ,EACR,MAAAlI,EAAAJ,EAAA,qBAAA,EACsC,MAAA,KACtC,KAAA,GACD,CAAA,EACTZ,EAAA,MAAA,CAAA,UAAAH,EAAA,QAAA,MAAA,EAAA,SAAAG,EAEI2H,GAAC,CAAA,KAAA,OACQ,UAAA,6BACK,KAAA3H,EAAAoG,GAAA,CAAA,KAAA,MAAA,CAAA,EACmB,QAAA,IAAAV,EAAAwD,EAAAR,GAAAS,EAAA,CAAA,CAAA,EACuC,SAAA,SAAAA,EAAA,EAAA,IAAA,CACjB,CAAA,EAAA,CAE3D,EAAA,CACJ,EAAA,EACJnJ,EAAA+F,EAAA,CAAA,OAAA,IAAA,SAAA/F,EAAAsJ,GAAA,CAAA,OAAAtI,EAAAJ,EAAA,wCAAA,EAAA,SAAAZ,EAAAmB,EAAA,CAAA,GAAA,yCAAA,CAAA,CAAA,CAAA,EAAA,CAKA,CAAA,CAAA,CAGZ,kkCCjIA,MAAAoI,GAAA,CAAA,CAAwD,cAAAC,EACpD,qBAAAC,EACA,4BAAAhG,EACA,YAAAnB,CAEJ,IAAA,CACI,MAAA1B,EAAAC,KACA6I,EAAApH,EAAA,8CAAA,kDAGA,OAAAvC,EAAAgG,EAAA,CAAA,UAAA,IAAA,SAAA,CAEQ/F,EAAAwJ,EAAA,WAAe,CAAd,KAAAC,EACS,OAAA,CACE,CACJ,MAAAzI,EAAAJ,EAAA,wBAAA,CACoD,WAAA+I,GAAAlG,EAAAM,GAAA,cAAA,CAAA,CACsC,CAAA,EACrF,MAAAA,GAAA,cACmB,EACxB,CACA,MAAA/C,EAAAJ,EAAA,wBAAA,CACoD,WAAA+I,GAAAlG,EAAAM,GAAA,YAAA,CAAA,CACoC,CAAA,EACnF,MAAAA,GAAA,YACmB,CACxB,EACJ,OAAA/C,EAAAJ,EAAA8I,CAAA,CACqC,CAAA,EACzC1J,EAAAsJ,GAAA,CAAA,OAAA,8CAAA,SAAA,wHAAA,CAIA,CAAA,CAAA,CAGZ,wrBCpDA,MAAMM,GAAoB,IAA+C,CAC/D,KAAA,CAAE,MAAA3K,GAAU4K,KAElB,OAAU5K,EAAM,cACpB,ECLa6K,GAA6B5K,GACjCA,EAIEA,IAAiB6E,GAAa,eAAiBA,GAAa,eAAiBA,GAAa,aAHtFA,GAAa,eCmBtBgG,GAA6B,CAC/BC,EACArJ,EACA8C,EACAwG,EACAC,EACAC,EACAC,IACY,CACZ,GAAID,IAA2B,GAAM,CACjC,MAAME,EAAkB9E,EAAY0E,GAAsBD,CAAO,EAAE,gBAAgB,EAC7EM,EAAsB,CAAA,EACtBC,EAAY5J,EAAmBoB,EAAiB,WAAaA,EAAiB,WAC9EyI,EAAW7J,EAAmBsC,EAAS,UAAYA,EAAS,IAC5DpB,EAA8C4B,EAA4B,KAAMgH,GAClF9J,EAAmB8J,EAAE,QAAU1I,EAAiB,WAAa0I,EAAE,QAAU1I,EAAiB,UAAA,EAE9F,IAAI2I,EAAuBL,EAE3B,GAAIxI,IAAU,OAAW,CACrB,MAAM8I,EAA6B,CAC/B,GAAItC,EAAK,EACT,KAAMuC,EAAY,MAClB,SAAAJ,EACA,MAAOD,EACP,YAAaM,EAAeH,EAAgB7I,EAAM,KAAK,EACvD,oBAAqB,GACrB,QAAS,EAAA,EAGb6I,EAAiBnF,EAAYoF,EAAkB,YAAY,GAAG,EAAE,QAG5DP,IAAiC,QACjCU,GAAyBH,EAAkB,YAAaP,CAA4B,EAE1DW,GAAoBJ,EAAmBP,CAA4B,EAC3E,QAASY,GAAYV,EAAS,KAAKU,CAAO,CAAC,EAE7DV,EAAS,KAAKK,CAAiB,EAInC,GAAAT,IAAyB,QAAaA,EAAuB,EAAG,CAChE,MAAMe,EAAgC,CAClC,GAAI5C,EAAK,EACT,KAAMuC,EAAY,MAClB,SAAAJ,EACA,MAAOzI,EAAiB,cACxB,YAAa8I,EAAeH,EAAgBR,EAAuB,CAAC,EACpE,oBAAqB,GACrB,QAAS,EAAA,EAGTE,IAAiC,QACjCU,GAAyBG,EAAqB,YAAab,CAA4B,EAE7DW,GAAoBE,EAAsBb,CAA4B,EAC9E,QAASY,GAAYV,EAAS,KAAKU,CAAO,CAAC,EAE7DV,EAAS,KAAKW,CAAoB,EAInC,OAAAX,EAAS,KAAKY,EAAc,MAEnC,OAAO,EAEf,EAEMC,GAA4B,CAC9BjH,EACAT,EACA9C,EACAyK,EACAC,EACAC,EACApF,EACAqF,EACAnB,IAEIzJ,EAEO6K,GACH/H,EACA2H,EACAC,EACAC,EACApF,EACAqF,EACArH,EACA,OACA,OACAkG,EACA,UAAA,EAGYoB,GACZ/H,EACA2H,EACAC,EACAC,EACApF,EACAqF,EACArH,EACA,OACA,OACAkG,EACA,UAAA,EAGiC,IAAKY,GAElCS,GAAgBT,CAAO,IACtBA,EAAQ,QAAUjJ,EAAiB,YAAciJ,EAAQ,QAAUjJ,EAAiB,eAEjFiJ,EAAQ,QAAUjJ,EAAiB,WAC5B,CACH,GAAGiJ,EACH,MAAOjJ,EAAiB,WACxB,SAAUkB,EAAS,GAAA,EAGhB,CACH,GAAG+H,EACH,SAAU/H,EAAS,GAAA,EAKxB+H,CACV,EAMHU,GAAoB,CACtB1B,EACArJ,EACA8C,EACAwG,EACAC,EACAC,EACAiB,EACAC,EACAC,EACApF,EACAqF,EACAnB,IAEKD,EAWMgB,GACHnB,EACAvG,EACA9C,EACAyK,EACAC,EACAC,EACApF,EACAqF,EACAnB,CAAA,EAnBGL,GACHC,EACArJ,EACA8C,EACAwG,EACAC,EACAC,EACAC,CAAA,EAiBNuB,GAAqB,CACvB3B,EACAvG,EACAmI,EACA1B,IACY,CACZ,MAAMG,EAAkB9E,EAAYyE,CAAO,EAAE,gBAAgB,EACvDM,EAAsB,CAAA,EACtBuB,EAAgC,EAAAD,EAChCE,EAAyDrI,EAA4B,KACtF5B,GAAUA,EAAM,QAAUE,EAAiB,uBAAA,EAE1CgK,EAAgDtI,EAA4B,KAC7E5B,GAAUA,EAAM,QAAUE,EAAiB,UAAA,EAEhD,IAAI2I,EAAuBL,EACvB,GAAAyB,IAAqB,QAAaD,GAAiCD,EAA0B,CAC7F,MAAM3B,EAAqB1E,EAAYqG,CAAwB,EAAE,gBAAgB,EAC3EI,EAAiBzG,EAAY0E,CAAkB,EAAE,0BAA0BS,CAAc,EACzFuB,EAAkCD,EAAiB,GACnDE,EAAuB3G,EAAY8E,CAAe,EAAE,SACtD4B,EAAkC,GAAKD,CAAA,EAG3C,GAAIC,EAAiC,CACjC,MAAME,EAAkC,CACpC,GAAI9D,EAAK,EACT,KAAMuC,EAAY,MAClB,SAAU3H,EAAS,IACnB,MAAOlB,EAAiB,cACxB,YAAa8I,EAAeZ,EAAoB+B,EAAiB,EAAE,EACnE,QAAS,CAAC,CAAA,EAGd1B,EAAS,KAAK6B,CAAsB,EAGxC,MAAMC,EAA4B,CAC9B,GAAI/D,EAAK,EACT,KAAMuC,EAAY,MAClB,SAAU3H,EAAS,IACnB,MAAOlB,EAAiB,wBACxB,YAAa,CACT,IAAKmK,EACL,IAAK3G,EAAYmF,CAAc,EAAE,QAAQ,CAC7C,CAAA,EAGJJ,EAAS,KAAK8B,CAAgB,MAC3B,CACH,MAAMA,EAA4B,CAC9B,GAAI/D,EAAK,EACT,KAAMuC,EAAY,MAClB,SAAU3H,EAAS,IACnB,MAAOlB,EAAiB,wBACxB,yBAA0B,GAC1B,YAAa,CAAC,EACd,QAAS,CAAC,CAAA,EAEduI,EAAS,KAAK8B,CAAgB,EAGlC,GAAIL,IAAY,OAAW,CACvB,MAAMpB,EAA6B,CAC/B,GAAItC,EAAK,EACT,KAAMuC,EAAY,MAClB,SAAU3H,EAAS,IACnB,MAAOlB,EAAiB,WACxB,YAAa8I,EAAeH,EAAgBqB,EAAQ,KAAK,EACzD,oBAAqB,GACrB,QAAS,EAAA,EAGbrB,EAAiBnF,EAAYoF,EAAkB,YAAY,GAAG,EAAE,QAEhEL,EAAS,KAAKK,CAAiB,EAG/B,GAAAT,IAAyB,QAAaA,EAAuB,EAAG,CAChE,MAAMmC,EAA2B/B,EAAS,KACrCgC,GAAMb,GAAgBa,CAAC,GAAKA,EAAE,QAAUvK,EAAiB,aAAA,EAG9D,IAAIwK,EAA4B,EAK5B,GAJAF,IACAE,EAA4BC,GAAaH,EAAyB,WAAW,EAAE,qBAAqB,GAGpGnC,EAAuB,EAAIqC,EAA4B,EAAG,CAC1D,MAAME,EAAmC,CACrC,GAAIpE,EAAK,EACT,KAAMuC,EAAY,MAClB,SAAU3H,EAAS,IACnB,MAAOlB,EAAiB,cACxB,YAAa8I,EAAeH,EAAgBR,EAAuB,EAAIqC,CAAyB,EAChG,oBAAqB,GACrB,QAAS,EAAA,EAGbjC,EAAS,KAAKmC,CAAuB,GAItC,OAAAnC,EAAS,KAAKY,EAAc,CACvC,EAEMM,GAA2B,CAC7B/H,EACA2H,EACAC,EACAC,EACApF,EACAqF,EACArH,EACAyB,EACA+G,EACAtC,EACAxE,EAAY,WACA,CAER,GAAA,CAACxB,GAA6BF,CAAoB,GAClDyI,GAAkBrB,EAAsBpF,CAAqB,GAC7D,CAACwG,EAED,MAAO,GAGX,MAAMpC,EAAsB,CAAA,EACtBsC,EAAiBrH,EAAYW,CAAqB,EAAE,gBAAgB,EAC1E,IAAI2G,EAAiBtH,EAAYW,CAAqB,EAAE,gBAAgB,EACxE,MAAM4G,EAAwDrJ,EAA4B,KACrF5B,GAAUA,EAAM,QAAUE,EAAiB,UAAA,EAE1CgL,EAAoDtJ,EAA4B,KACjF5B,GAAUA,EAAM,QAAUE,EAAiB,aAAA,EAG1CiL,EAAa,GAoBnB,GAjBIzB,GACAD,IAAyB,QACzB2B,GAAwC/G,EAAuBoF,CAAoB,GAEnFhB,EAAS,KAAK,CACV,GAAIjC,EAAK,EACT,MAAOkD,EACP,KAAMX,EAAY,WAClB,SAAU3H,EAAS,UACnB,eAAgB,GAChB,YAAa,CACT,IAAKsC,EAAY+F,CAAoB,EAAE,MAAM,EAC7C,IAAK/F,EAAYW,CAAqB,EAAE,QAAQ,CACpD,CAAA,CACH,EAGD4G,IAAoB,OAAW,CAC/B,MAAMI,EACFtH,IAAc,UACdxB,GAA6BF,CAAoB,GACjDiJ,GACItC,EAAe+B,EAAgB,CAAC,EAChC1I,EACAyB,CAAA,EAGFyH,EAAyBF,EACzBG,GAAsCnJ,EAAsB0I,CAAc,EAC1EE,EAAgB,MAEhBQ,EAA6B,CAC/B,GAAIjF,EAAK,EACT,KAAMuC,EAAY,MAClB,SAAU3H,EAAS,UACnB,MAAOlB,EAAiB,WACxB,YAAa8I,EAAe+B,EAAgBQ,CAAsB,EAClE,oBAAqBF,EACrB,qBAAsBA,EAA0B,MAAQ,MAAA,EAG5DL,EAAiBtH,EAAY+H,EAAkB,YAAY,GAAG,EAAE,QAG5DC,GACID,EACApJ,EACA8I,EACArH,CAAA,EAGuB6H,GACvBF,EACApJ,CAAA,EAEe,QAAS8G,GAAYV,EAAS,KAAKU,CAAO,CAAC,EAE9DZ,IAAiC,QACjCU,GAAyBwC,EAAkB,YAAalD,CAA4B,EAEzDW,GAAoBuC,EAAmBlD,CAA4B,EAC3E,QAASY,GAAYV,EAAS,KAAKU,CAAO,CAAC,EAE9DV,EAAS,KAAKgD,CAAiB,EAIvC,GAAIP,IAAgB,OAAW,CAC3B,IAAIU,EAA2B,EAU/B,GARIpC,IAAqC,QAAaA,IAAqC,IACvFoC,EAA2B,EAAIpC,GAG/BD,IAAsC,QAAaA,IAAsC,IACzFqC,EAA2BA,EAA2BrC,GAGtDqC,EAA2B,EAAG,CAC9B,MAAMC,EAAyB,CAC3B,GAAIrF,EAAK,EACT,KAAMuC,EAAY,MAClB,SAAU3H,EAAS,UACnB,MAAOlB,EAAiB,cACxB,YAAa8I,EAAegC,EAAgBY,CAAwB,EACpE,oBAAqB,GACrB,QAAS,EAAA,EAGbnD,EAAS,KAAKoD,CAAa,GAI5B,OAAApD,CACX,EAEMqD,GAAkB,CACpB3D,EACArJ,EACA8C,EACAwG,EACAC,EACAkB,EACAC,EACAC,EACApF,EACAqF,EACAqC,EACAxD,EACAzE,IACC,CACD,GAAKhF,EAEE,CACH,MAAMkN,EAAqCpK,EAA4B,OAClE5B,GAAUA,EAAM,QAAUE,EAAiB,uBAAA,EAGzC,OAAAyJ,GACHqC,EACAzC,EACAC,EACAC,EACApF,EACAqF,EACAvB,EACArE,EACAiI,EACAxD,CAAA,MAhBJ,QAAOuB,GAAmB3B,EAASvG,EAA6BwG,EAAoBC,CAAoB,CAmBhH,EAoBa4D,GAAaC,GAClBA,EAAO,YAAc,WACdrC,GACHqC,EAAO,QACPA,EAAO,iBACPA,EAAO,4BACPA,EAAO,mBACPA,EAAO,qBACPA,EAAO,uBACPA,EAAO,kCACPA,EAAO,iCACPA,EAAO,qBACPA,EAAO,sBACPA,EAAO,yBACPA,EAAO,4BAAA,EAIXA,EAAO,YAAc,SACdJ,GACHI,EAAO,QACPA,EAAO,iBACPA,EAAO,4BACPA,EAAO,mBACPA,EAAO,qBACPA,EAAO,kCACPA,EAAO,iCACPA,EAAO,qBACPA,EAAO,sBACPA,EAAO,yBACPA,EAAO,yCACPA,EAAO,6BACPA,EAAO,UAAA,EAIR,GCjgBLC,GAAiC,CACnChE,EACAiE,EACAhE,EACAiE,EACAC,EACAC,EACAhE,IACC,CACD,MAAMC,EAAkB9E,EAAY0E,GAAsBD,CAAO,EAAE,gBAAgB,EAC7EM,EAA4B,CAAA,EAElC,GAAI4D,IAAc,GAAM,CACpB,IAAIG,EAAwBhE,EAC5B,GAAIjG,GAA6B4F,CAAO,GAAOoE,EAAsB,CACjE,MAAME,EAAsC,CACxC,GAAIjG,EAAK,EACT,KAAMuC,EAAY,MAClB,SAAU3H,EAAS,UACnB,MAAOlB,EAAiB,mBACxB,YAAa8I,EAAeR,EAAiB8D,EAAoB,KAAK,EACtE,QAAS,CAAC,EACV,QAAS,GACT,sBAAuB,EAAA,EAGvB/D,IAAiC,QACjCU,GAAyBwD,EAAqB,YAAalE,CAA4B,EAE/DW,GACpBuD,EACAlE,CAAA,EAEY,QAASmE,GAAOjE,EAAS,KAAKiE,CAAE,CAAC,EAEjDjE,EAAS,KAAKgE,CAAoB,EAEtCD,EAAwB9I,EAAY+I,EAAqB,YAAY,GAAG,EAAE,QAE9E,MAAMtD,EAAyB,CAC3B,GAAI3C,EAAK,EACT,KAAMuC,EAAY,MAClB,SAAU3H,EAAS,UACnB,MAAOgL,EAAoB,MAC3B,YAAapD,EAAewD,EAAuBJ,EAAoB,KAAK,EAC5E,QAAS,CAAC,EACV,QAAS,EAAA,EAGT7D,IAAiC,QACjCU,GAAyBE,EAAQ,YAAaZ,CAA4B,EAElDW,GAAoBC,EAASZ,CAA4B,EACjE,QAASmE,GAAOjE,EAAS,KAAKiE,CAAE,CAAC,EAEjDjE,EAAS,KAAKU,CAAO,MAEtB,CACH,MAAMsD,EAAsC,CACxC,GAAIjG,EAAK,EACT,KAAMuC,EAAY,MAClB,SAAU3H,EAAS,UACnB,MAAOlB,EAAiB,mBACxB,YAAa8I,EAAeR,EAAiB8D,EAAoB,KAAK,EACtE,QAAS,CAAC,EACV,QAAS,GACT,sBAAuB,EAAA,EAIvB/D,IAAiC,QACjCU,GAAyBwD,EAAqB,YAAalE,CAA4B,EAE/DW,GACpBuD,EACAlE,CAAA,EAEY,QAASmE,GAAOjE,EAAS,KAAKiE,CAAE,CAAC,EAEjDjE,EAAS,KAAKgE,CAAoB,EAGtC,MAAME,EAAuC,CACzC,GAAInG,EAAK,EACT,KAAMuC,EAAY,MAClB,SAAU3H,EAAS,UACnB,MAAOlB,EAAiB,eACxB,YAAa8I,EACTtF,EAAY+I,EAAqB,YAAY,GAAG,EAAE,MAAM,EACxDL,EAAoB,KACxB,EACA,QAAS,CAAC,EACV,QAAS,EAAA,EAIT7D,IAAiC,QACjCU,GAAyB0D,EAAsB,YAAapE,CAA4B,EAEhEW,GACpByD,EACApE,CAAA,EAEY,QAASmE,GAAOjE,EAAS,KAAKiE,CAAE,CAAC,EAEjDjE,EAAS,KAAKkE,CAAqB,EAIpC,OAAAlE,CACX,EAEMmE,GAA2B,CAC7BzE,EACAiE,EACAhE,EACAG,IACC,CACD,MAAMC,EAAkB9E,EAAY0E,GAAsBD,CAAO,EAAE,gBAAgB,EAC7EgB,EAAyB,CAC3B,GAAI3C,EAAK,EACT,KAAMuC,EAAY,MAClB,SAAU3H,EAAS,IACnB,MAAOgL,EAAoB,MAC3B,YAAapD,EAAeR,EAAiB4D,EAAoB,KAAK,EACtE,QAAS,CAAC,EACV,QAAS,EAAA,EAEb,OACI7D,IAAiC,QACjCU,GAAyBE,EAAQ,YAAaZ,CAA4B,EAEnEW,GAAoBC,EAASZ,CAA4B,EAE7D,CAACY,CAAO,CACnB,EAEM0D,GAAwB,CAC1B1E,EACArJ,EACAsN,EACAhE,EACAiE,EACAC,EACAC,EACAhE,IAEKzJ,EAGMqN,GACHhE,EACAiE,EACAhE,EACAiE,EACAC,EACAC,EACAhE,CAAA,EATGqE,GAAyBzE,EAASiE,EAAqBhE,EAAoBG,CAA4B,EAchHuE,GAAyB,CAC3B3E,EACAiE,EACAhE,EACA2E,IACC,CACD,MAAMvE,EAAkB9E,EAAYyE,CAAO,EAAE,gBAAgB,EACvDM,EAAsB,CAAA,EAGxB,GAAAsE,IAAiC,QAFC,EAAA3E,GAE6CA,EAAoB,CACnG,MAAM+B,EAAiBzG,EAAY0E,CAAkB,EAAE,0BAA0BI,CAAe,EAC1F4B,EAAkCD,EAAiB,GACnDE,EAAuB3G,EAAY8E,CAAe,EAAE,SACtD4B,EAAkC,GAAKD,CAAA,EAG3C,GAAIC,EAAiC,CACjC,MAAME,EAAkC,CACpC,GAAI9D,EAAK,EACT,KAAMuC,EAAY,MAClB,SAAU3H,EAAS,IACnB,MAAOlB,EAAiB,eACxB,YAAa8I,EAAeZ,EAAoB+B,EAAiB,EAAE,EACnE,QAAS,CAAC,CAAA,EAGd1B,EAAS,KAAK6B,CAAsB,EAGxC,MAAMC,EAA4B,CAC9B,GAAI/D,EAAK,EACT,KAAMuC,EAAY,MAClB,SAAU3H,EAAS,IACnB,MAAO2L,EAA6B,MACpC,YAAa,CACT,IAAK1C,EACL,IAAK3G,EAAY8E,CAAe,EAAE,QAAQ,CAC9C,EACA,QAAS,CAAC,CAAA,EAGdC,EAAS,KAAK8B,CAAgB,MAC3B,CACH,MAAMA,EAA4B,CAC9B,GAAI/D,EAAK,EACT,KAAMuC,EAAY,MAClB,SAAU3H,EAAS,IACnB,MAAOlB,EAAiB,wBACxB,yBAA0B,GAC1B,YAAa,CAAC,EACd,QAAS,CAAC,CAAA,EAGduI,EAAS,KAAK8B,CAAgB,EAGlC,MAAMC,EAA2B/B,EAAS,KACrCgC,GAAMb,GAAgBa,CAAC,GAAKA,EAAE,QAAUvK,EAAiB,cAAA,EAGxD8M,EAA6BxC,EAC7BxB,EACIR,EACA4D,EAAoB,MAAQzB,GAAaH,EAAyB,WAAW,EAAE,qBAAqB,CAExG,EAAAxB,EAAeR,EAAiB4D,EAAoB,KAAK,EAEzDa,EAAiC,CACnC,GAAIzG,EAAK,EACT,KAAMuC,EAAY,MAClB,SAAU3H,EAAS,IACnB,MAAOgL,EAAoB,MAC3B,YAAaY,EACb,QAAS,CAAC,EACV,QAAS,EAAA,EAGb,OAAAvE,EAAS,KAAKwE,CAAqB,EAE5BxE,EAAS,KAAKY,EAAc,CACvC,EAEM6D,GAA+B,CACjC/E,EACAiE,EACAhE,EACAiE,EACAC,EACAC,EACAzI,EACAyE,IACC,CACD,MAAM4E,EAAYzJ,EAAY0E,GAAsBD,CAAO,EAAE,gBAAgB,EACvEgD,EAAa,GACb1C,EAAsB,CAAA,EAE5B,GAAI4D,IAAc,GAAM,CACpB,IAAIG,EAAwBW,EAC5B,GAAI5K,GAA6B4F,CAAO,GAAOoE,EAAsB,CACjE,MAAME,EAAsC,CACxC,GAAIjG,EAAK,EACT,KAAMuC,EAAY,MAClB,SAAU3H,EAAS,UACnB,MAAOlB,EAAiB,mBACxB,YAAa8I,EAAemE,EAAWb,EAAoB,KAAK,EAChE,QAAS,CAAC,EACV,sBAAuB,EAAA,EAGvBZ,GACIe,EACAtE,EACAgD,EACArH,CAAA,EAG2B6H,GAA0Cc,EAAsBtE,CAAO,EAC/E,QAASgB,GAAYV,EAAS,KAAKU,CAAO,CAAC,EAElEZ,IAAiC,QACjCU,GAAyBwD,EAAqB,YAAalE,CAA4B,EAExDW,GAAoBuD,EAAsBlE,CAA4B,EAC9E,QAASY,GAAYV,EAAS,KAAKU,CAAO,CAAC,EAElEV,EAAS,KAAKgE,CAAoB,EAEtCD,EAAwB9I,EAAY+I,EAAqB,YAAY,GAAG,EAAE,QAG9E,MAAMtD,EAAyB,CAC3B,GAAI3C,EAAK,EACT,KAAMuC,EAAY,MAClB,SAAU3H,EAAS,UACnB,MAAOgL,EAAoB,MAC3B,YAAapD,EAAewD,EAAuBJ,EAAoB,KAAK,EAC5E,QAAS,CAAC,EACV,QAAS,EAAA,EAGb3D,EAAS,KAAKU,CAAO,MAClB,CACH,MAAMsD,EAAsC,CACxC,GAAIjG,EAAK,EACT,KAAMuC,EAAY,MAClB,SAAU3H,EAAS,UACnB,MAAOlB,EAAiB,mBACxB,YAAa8I,EAAemE,EAAWb,EAAoB,KAAK,EAChE,QAAS,CAAC,EACV,QAAS,GACT,sBAAuB,EAAA,EAIvBZ,GACIe,EACAtE,EACAgD,EACArH,CAAA,EAG2B6H,GAA0Cc,EAAsBtE,CAAO,EAC/E,QAASgB,GAAYV,EAAS,KAAKU,CAAO,CAAC,EAElEV,EAAS,KAAKgE,CAAoB,EAGtC,MAAME,EAAuC,CACzC,GAAInG,EAAK,EACT,KAAMuC,EAAY,MAClB,SAAU3H,EAAS,UACnB,MAAOlB,EAAiB,eACxB,YAAa8I,EACTtF,EAAY+I,EAAqB,YAAY,GAAG,EAAE,MAAM,EACxDL,EAAoB,KACxB,EACA,QAAS,CAAC,EACV,QAAS,EAAA,EAEb3D,EAAS,KAAKkE,CAAqB,EAGhC,OAAAlE,EAAS,KAAKY,EAAc,CACvC,EAEM+D,GAAsB,CACxBjF,EACArJ,EACAsN,EACAhE,EACA2E,EACAV,EACAC,EACAC,EACAzI,EACAyE,IAEKzJ,EAGMoO,GACH/E,EACAiE,EACAhE,EACAiE,EACAC,EACAC,EACAzI,EACAyE,CAAA,EAVGuE,GAAuB3E,EAASiE,EAAqBhE,EAAoB2E,CAA6B,EAexGM,GAAgB,CACzBtJ,EACAoE,EACArJ,EACA8C,EACAwG,EACAiE,EACAE,EACAzI,EACAyE,IACC,CACD,MAAM6D,EAAsBxK,EAA4B,KACnD5B,GAAUA,EAAM,QAAUE,EAAiB,cAAA,EAE1C6M,EAA+BnL,EAA4B,KAC5D5B,GAAUA,EAAM,QAAUE,EAAiB,uBAAA,EAE1CoM,EAAqB1K,EAA4B,KAClD5B,GAAUA,EAAM,QAAUE,EAAiB,kBAAA,EAGhD,OAAI6D,IAAc,WACP8I,GACH1E,EACArJ,EACAsN,EACAhE,EACAiE,EACAC,EACAC,EACAhE,CAAA,EAIJxE,IAAc,SACPqJ,GACHjF,EACArJ,EACAsN,EACAhE,EACA2E,EACAV,EACAC,EACAC,EACAzI,EACAyE,CAAA,EAID,EACX,EC3Za+E,GAAiBpB,GAA2C,CAC/D,KAAA,CACF,UAAAnI,EACA,qBAAA1B,EACA,YAAA5B,EACA,iBAAA8M,EACA,sBAAAC,EACA,oBAAAC,EACA,4BAAA7L,EACA,iBAAA8L,EACA,qBAAAnB,EACA,WAAAzI,EACA,mCAAA6J,EACA,yCAAA5B,EACA,6BAAAxD,CACA,EAAA2D,EAEA,GAAAwB,EAAiB,yBAA2BH,EAC5C,MAAO,GAEX,MAAMK,EAAa7J,IAAc,WAE3B,CACF,uBAAAuE,EACA,mBAAAF,EACA,qBAAAC,EACA,kCAAAkB,EACA,iCAAAC,EACA,qBAAAC,EACA,sBAAApF,EACA,yBAAAqF,CACA,EAAAgE,EAEEG,EAA2BpL,EAAgBgH,CAAoB,EACrE,GAAIpH,EACA,GAAI5B,EAAa,CACb,MAAMqN,EAAU7B,GAAU,CACtB,UAAAlI,EACA,QAAS1B,EACT,iBAAkBmL,EAClB,4BAAA5L,EACA,mBAAoBa,EAAgB2F,CAAkB,EACtD,qBAAAC,EACA,uBAAAC,EACA,kCAAAiB,EACA,iCAAAC,EACA,qBAAsBqE,EACtB,sBAAuBpL,EAAgB4B,CAAqB,EAC5D,yBAAAqF,EACA,yCAAAqC,EACA,WAAAjI,EACA,6BAAAyE,CAAA,CACH,EAEM,OAAAwF,GACHD,EACAH,EACAtL,EACAuL,EACA,GACAJ,EACAjF,CAAA,MAED,CACH,MAAMuF,EAAUT,GACZtJ,EACA1B,EACAmL,EACA5L,EACAa,EAAgB2F,CAAkB,EAClCqF,EACAlB,EACAzI,EACAyE,CAAA,EAGG,OAAAwF,GACHD,EACAH,EACAtL,EACAuL,EACAJ,EACAA,EACAjF,CAAA,EAKZ,MAAO,EACX,EC9DAyF,GAAA,CAAA,CAAgF,kCAAAC,EAC5E,iCAAAC,CAEJ,IAAA,CACI,MAAAnP,EAAAC,KACA,CAAA,MAAA5B,GAAA4K,KACA,CAAA,cAAAmG,EAAA,eAAAC,EAAA,KAAAC,EAAA,aAAAhR,EAAA,iBAAAkQ,CAAA,EAAAe,KACA,CAAA,OAAAC,GAAAC,KACA1P,EAAA2P,GAAAL,EAAA,KAAA,EACAM,EAAAN,EAAA,YAAA,SACAO,EAAA5G,KAEA6G,EAAA9P,EAAAyP,EAAA,QAAAM,EAAAV,CAAA,EAAAA,EAAA,QAAA,GAKA9L,EAAAyM,GAAAT,CAAA,EACAxP,EAAAC,GAAA+P,EAAAV,CAAA,EAAAA,EAAA,QAAAI,EAAA,QAEAlC,EAAA0C,GAAAZ,EAAArP,CAAA,EACA8C,EAAAC,GAAoCqM,EAChCD,CACA,EAGJe,EAAAvM,EAAAJ,CAAA,EACAyB,EAAAmL,GAAAZ,CAAA,EACA9F,EAAAnL,EAAA,kBAAA,OAAAA,EAAA,gBAAA,8BAAA,OAEA8R,EAAAhS,GAAA,CACI,MAAAqK,EAAAO,GAAAlG,EAAA1E,EAAA,eAAA,MAAA,IAAA,EAAA,CAAA,EACA,MAAA,CAAOiS,EAAA,yBAAA5H,CAAA,EAC8C4H,EAAA,kBAAAlS,GAAAC,CAAA,CAAA,EAC4BiS,EAAA,gBAAAlH,GAAA/K,EAAA,YAAA,CAAA,EACDiS,EAAA,qBAC9D7B,GAAA,CACI,oBAAAjB,EACW,YAAA,GACR,iBAAAkB,EACb,sBAAAA,EACuB,qBAAAyB,EACD,6BAAAtL,EACQA,EAAAsL,CAAA,EAAA,gBAAA,CAC6B,EAAA,QAAA,EAAA,EAC/C,UAAAN,EAAA,SAAA,WACqB,sBAAA5P,EACV,0BAAA,GACI,4BAAA8C,EAAAqG,GAAA/K,EAAA,YAAA,CAAA,EAEmD,iBAAA,CAC5D,qBAAAA,EAAA,aACe,sBAAAA,EAAA,oBACC,kCAAA,SAAAA,EAAA,0BAAA,IAAA,EAAA,EACwD,iCAAA,SAAAA,EAAA,yBAAA,IAAA,EAAA,CACF,EACxF,qBAAA,GACsB,WAAA4G,EACtB,mCAAA,GACoC,6BAAAyE,CACpC,CAAA,CACH,CACL,CACJ,EAEJ,CAAA,aAAA6G,EAAA,aAAAC,CAAA,EAAAC,GAAuCJ,EACnCK,GAAA,WACaC,GAAAC,GAAAD,CAAA,CACkD,EAGnE,OAAArR,EACIrB,GAAA,cAA2C,CAA1C,cAAAK,GAAAwR,EAAAtR,CAAA,EACgG,SAAA+R,EACnF,WAAA,CAAA,CAAA,OAAAM,EAAA,cAAA7L,CAAA,IAAA,CAEN,MAAA8L,EAAA9M,GAAA,aAAA,CAA2E,GAAA6M,EACpE,qBAAAV,CACmB,CAAA,EAG1BY,EAAAhO,EAAA8N,EAAA,eAAA,MAAA,IAAA,EAAA,EACArR,EAAAuR,EAAApP,GAAAoP,EAAA,GAAAxO,EAAA,SAAA,EAAA,OAIA,OAAAlD,EACIpB,GAAA,KAA2C,CAA1C,eAAA,GACmB,yBAAA,GACU,SAAA,CAE1BqB,EAAA+F,EAAA,CAAA,UAAA,KAAA,SAAA/F,EAAA0R,GAAA,CAAA,SAAA1R,EAEQmB,EAAC,CAAA,GAAA,sDACM,OAAA,CACK,KAAAuP,EAAAV,CAAA,EAAA5O,GAAA4O,EAAA,QAAApP,EAAA,MAAA,EAAA,EAGE,CACV,CAAA,CAAA,CAAA,CAAA,CAAA,EAGZZ,EAAA+F,EAAA,CAAA,UAAA,IAAA,SAAA/F,EAEIuJ,GAAC,CAAA,cAAA5K,GACkB,qBAAAD,GAAA,aAC4C,4BAAA+E,EAC3D,YAAA,EACa,CAAA,EAAA,EAErBzD,EAAA+F,EAAA,CAAA,UAAA,KAAA,QAAAwL,EAAA,eAAA,GAAA,SAAArR,GAAAF,EAGQwB,GAAC,CAAA,YAAA,GACgB,iBAAA,GACK,cAAAiP,EACH,QAAA/P,EACf,mBAAAR,CACA,CAAA,EAAA,EAGZF,EACA+F,EAAC,CAAA,UAAA,KACa,QAAApF,GAAA4Q,EAAA,eAAA,IAAA,CAAAnN,GAAAE,EAAAJ,CAAA,CAAA,EAI8D,SAAAlE,EAAA0R,GAAA,CAAA,SAAA1R,EAIpEmB,EAAC,CAAA,GAAA,mFACM,OAAA,CAAA,QAAAT,CAAA,CACe,CAAA,EAAA,CAE1B,CAAA,EACJV,EACA+F,EAAC,CAAA,UAAA,KACa,QAAAyL,EAAA,UAAA9S,GAAA,YAAA,EACqE,SAAAsB,EAE/E4E,GAAC,CAAA,eAAAjG,GACmB,UAAAD,GAAA,aACgC,QAAAgC,EAChD,qBAAAwD,CACA,CAAA,CACJ,CAAA,EACJlE,EACA+F,EAAC,CAAA,UAAA,KACa,QAAAyL,EAAA,UAAA9S,GAAA,mBAAA,EAC4E,SAAAsB,EAEtFyF,GAAC,CAAA,eAAA9G,GACmB,UAAAD,GAAA,oBACgC,qBAAAmS,EAC1B,cAAAnL,EACtB,aAAApB,EAAAiN,EAAA,YAAA,EACqD,QAAA7Q,EACrD,WAAAiF,EACA,UAAAsK,EAAA,UAC0B,gCAAA,EACO,CAAA,CACrC,CAAA,EACJjQ,EACA+F,EAAC,CAAA,UAAA,KACa,QAAAyL,EAAA,UACU9S,GAAA,wBACqB,EACzC,SAAAwB,GAAAF,EAGIgJ,GAAC,CAAA,eAAArK,GACmB,cAAAD,GAAA,wBACoC,eAAAA,GAAA,yBACC,YAAA6S,EAAA,yBAC7B,WAAAA,EAAA,wBACD,cAAA7L,EACvB,qBAAAxF,EAAA,YAAA,CACuD,CAAA,CAC3D,CAAA,EAERF,EAAA+F,EAAA,CAAA,SAAAhG,EAAA4R,GAAA,CAAA,SAAA,CAGQ3R,EAAA4R,GAAA,CAAA,QAAA,YAAA,GAAAC,GAAA,GAAAC,GAAA,gBAAA,EAAA,SAAA9R,EAAAmB,EAAA,CAAA,GAAA,gBAAA,CAAA,EAAA,EAEAqQ,EAAA,wBAAA,GAAAxR,EAAA4R,GAAA,CAAA,KAAA,SAAA,SAAAV,EAAA,QAAAA,EAAA,SAAAlQ,EAAAJ,EAAA,iBAAA,EAAA,CAII,CAAA,CAAA,CAAA,CAAA,CAGZ,CAAA,CAAA,CACJ,CAER,CAAA,CAGZ,ypBC1Pa,MAAAmR,GAAmB,CAAC7S,EAAsB8S,IAC/CA,IAAe,EACX9S,IAAiB6E,GAAa,eACvB,GAEA,GAGP7E,IAAiB6E,GAAa,eACvB,GAEA,GAKNkO,GAAsC,CAC/CC,EACAhT,EACA8S,IAEuBE,EAClB,MACA,EAAA,OAAQlH,GAAYS,GAAgBT,CAAO,GAAKA,EAAQ,uBAAyB,EAAI,EACrF,OAAO,CAACmH,EAAanH,IACdS,GAAgBT,CAAO,EAChBoH,GAAuBpH,CAAO,EAAImH,EAElCA,EAEZ,CAAC,EAEQJ,GAAiB7S,EAAc8S,CAAU,EAAI,EClCrD,IAAAK,IAAAA,IACRA,EAAA,aAAe,eACfA,EAAA,mBAAqB,qBACrBA,EAAA,yBAA2B,2BAC3BA,EAAA,qBAAuB,uBAJfA,IAAAA,IAAA,CAAA,CAAA,EAcL,MAAMC,GAA0B1T,GAA8D,ECX/F2T,GAA4C,CAC9C,CAACF,GAAmB,YAAY,EAAG,GACnC,CAACA,GAAmB,kBAAkB,EAAG,GACzC,CAACA,GAAmB,wBAAwB,EAAG,GAC/C,CAACA,GAAmB,oBAAoB,EAAG,MAC/C,EAEaG,GAA2BzT,IAC7B,CACH,mBAAoBA,EAAO,mBAC3B,yBAA0BA,EAAO,yBACjC,qBAAsBA,EAAO,oBAAA,GAIxB0T,GAA4B,CACrCC,EACAlC,EACAtR,IAEIsR,EACO,CACH,GAAGA,EACH,CAAC6B,GAAmB,YAAY,EAAGnT,CAAA,EAIpC,CACH,GAAGqT,GACH,CAACF,GAAmB,kBAAkB,EAAGlM,EAAgBuM,CAAyB,CAAA,ECxB7EC,GACT,CAAC/R,EAAiBgS,EAA2BC,IAAuCxN,GAA+B,CAC3G,GAAA,EAAEA,IAAuB,QAAawN,IAClC,CAACvN,GAAAA,gBAAgBD,CAAkB,EAC5B,OAAArE,EAAUJ,EAAM,8DAA8D,EAIzF,GAAAyE,IAAuB,QAAa,CAACE,EAAYjB,EAAgBe,CAAkB,CAAE,EAAE,cAChF,OAAArE,EAAUJ,EAAM,8CAA8C,EAGzE,GAAI,CAACiS,EAA0B,CAC3B,MAAMC,EAAgB9N,GAA4B,mBAAmBmB,EAAgByM,CAAmB,CAAC,EACzG,GACKE,EAAc,SACXA,EAAc,SACdzO,GAAMgB,CAAkB,EAAE,SAASyN,EAAc,QAAS,KAAK,GACnEzO,GAAMgB,CAAkB,EAAE,QAAQyN,EAAc,QAAS,KAAK,EAEvD,OAAA9R,EAAUJ,EAAM,+DAAgE,CACnF,KAAMmS,GAAgB,0CAAA,CACzB,EAKb,EClBGC,GAAA,CAAAC,EAAAC,IAAA,CAIH,GAAAD,IAAA,OAGA,IAAA1N,EAAA0N,CAAA,EAAA,YAAA,IAAA,GACI,MAAA,WAAO,GAAAC,GAAA7O,GAAA4O,CAAA,EAAA,SAAAC,EAAA,KAAA,EAEP,MAAA,YAIR,EAEAC,GAAA,CAAA,CAAoE,UAAAF,EAChE,YAAA9J,EACA,8BAAAiK,EACA,yBAAAP,EACA,sBAAAK,EACA,WAAAG,CAEJ,IAAA,CACI,MAAAzS,EAAAC,KAEAyS,EAAAL,GAAAD,GAAAC,EAAAC,CAAA,EAEAK,EAAAC,GAAAA,QAAA,IAAA,CACI,GAAAF,GAAAJ,EACI,OAAAI,IAAA,YAAAtS,EAAAJ,EAAA,6CAAA,CACoE,KAAA6S,GAAAP,CAAA,CAClB,CAAA,EAAAlS,EAAAJ,EAAA,kCAAA,EAItD,GAAA,CAAAyS,EAGA,IAAAR,IAAA,GACI,OAAA7S,EAAAmB,EAAA,CAAA,GAAA,8DAAA,CAAA,EAA2F,GAAAgI,EAAAiK,EAE3F,OAAApT,EACImB,EAAC,CAAA,GAAA,qEACM,OAAA,CACK,SAAAF,GAAAmS,EAAAjK,EAAAvI,CAAA,CACyE,CACjF,CAAA,EACJ,GAAAuI,EAAAiK,EAGJ,OAAApT,EACImB,EAAC,CAAA,GAAA,kEACM,OAAA,CACK,SAAAF,GAAAkI,EAAAiK,EAAAxS,CAAA,CACyE,CACjF,CAAA,EAIL,EAAA,CACR0S,EACCnK,EACAiK,EACAF,EACAtS,EACAiS,EACAQ,CACA,CAAA,EAGJ,OAAArT,EAAA+F,EAAA,CAAA,OAAA,OAAA,QAAAwN,IAAA,OAAA,SAAAvT,EAAA0R,GAAA,CAAA,SAAA6B,CAAA,CAAA,CAAA,CAAA,CAKJ,20BC7EA,MAAAG,GAAA,CAAAvK,EAAAwK,EAAA/S,IAAAuI,EAAA,EAAAwK,EAAA3S,EAAAJ,EAAA,mEAAA,CAGkG,SAAAK,GAAAkI,EAAAvI,CAAA,CAEpF,CAAA,EAAAI,EAAAJ,EAAA,sDAAA,CACuE,SAAAK,GAAAkI,EAAAvI,CAAA,CAEvE,CAAA,EAAA,OAQdgT,GAAA,CAAA,CAAA,mBAAAvO,EAAA,yBAAAwN,KAAA,CACI,MAAAjS,EAAAC,KACA,CAAA,KAAAqP,GAAAC,KACAtQ,EAAAC,GAAA,WAAA,EAEA+T,EAAAC,GAAA5D,CAAA,EACA6D,EAAAF,EAAA7S,EAAAJ,EAAA,+DAAA,EAAAI,EAAAJ,EAAA,kDAAA,EAIAoT,EAAAH,EAAA7S,EAAAJ,EAAA,+EAAA,EAAAI,EAAAJ,EAAA,kEAAA,EAIAsD,EAAAyM,GAAAT,CAAA,EACAW,EAAAxM,GAAAH,CAAA,EAAA,OAAA,EACA+P,EAAA1O,EAAAsL,CAAA,EAAA,QAAA,EACAoC,EAAAJ,IAAA,GAAAxN,EAAA,OACA6O,EAAAC,GAAA,CAAwC,IAAA7P,EAAA2O,CAAA,EACN,IAAAgB,CACzB,CAAA,EAET9K,EAAA+K,EAAA1H,GAAA0H,CAAA,EAAA,qBAAA,EAAA,EACAd,EAAAL,GAAA,sCAAA,EACAqB,EAAAjL,IAAAiK,EAEAiB,EAAArP,GAAA,mBAAAd,CAAA,EACAoQ,EAAA/O,EAAAsL,CAAA,EAAA,QAAA,EAEA,OAAA9Q,EAAA+F,GAAA,CAAA,SAAA,CAEQ9F,EAAA+F,EAAA,CAAA,UAAA,IAAA,SAAAhG,EAAA,MAAA,CAAA,UAAAF,EAAA,MAAA,SAAA,CAEQG,EAAAsS,GAAA,WAAyB,CAAxB,KAAAD,GAAA,mBAC4B,MAAA0B,EAClB,SAAAlB,EACG,QAAAyB,EACD,eAAA,CACO,aAAAhQ,EAAAe,CAAA,GAAAwL,CACyC,EACzD,SAAA8B,GACU/R,EACNiQ,EACAgC,CACA,EACJ,eAAA,GACc,YAAA,YACD,CAAA,EACjB7S,EAAA,MAAA,CAAA,UAAAH,EAAA,QAAA,SAAA,EAAA,SAAA6T,GAAAvK,EAAA0K,EAAAjT,CAAA,CAAA,CAAA,CAGA,CAAA,CAAA,CAAA,CAAA,EAERZ,EAAA+F,EAAA,CAAA,UAAAqO,EAAA,IAAA,IAAA,SAAApU,EAEIsS,GAAA,SAAyB,CAAxB,KAAAD,GAAA,yBAC4B,MAAA2B,EAClB,aAAA,KACM,CAAA,EAAA,EAErBhU,EAAA+F,EAAA,CAAA,UAAAqO,EAAA,IAAA,IAAA,QAAAA,EAAA,SAAApU,EAEImT,GAAC,CAAA,UAAA7O,EAAA2O,CAAA,EACuC,YAAA9J,EACpC,yBAAA0J,IAAA,GACuD,8BAAAO,EACvD,sBAAAiB,EAAA,QAAA,IAAA,KAAAA,EAAA,OAAA,EAAA,MACyF,CAAA,EAAA,CAEjG,CAAA,CAAA,CAGZ,gXC3FA,MAAAE,GAAA,CAAA,CAAA,UAAAC,EAAA,QAAA5M,EAAA,MAAA6M,EAAA,SAAAzM,CAAA,IAAAhI,EACI2H,GAAC,CAAA,KAAA,OACQ,QAAA,IAAAC,EAAA,EACkB,UAAA6M,EACZ,SAAAzM,EACX,KAAAwM,IAAA,WAAAxU,EAAAoG,GAAA,CAAA,KAAA,OAAA,CAAA,EAAApG,EAAAoG,GAAA,CAAA,KAAA,MAAA,CAAA,CACqF,CACzF,8gBCsBJ,MAAAsO,GAAAC,GAAA5U,EAAA,MAAA,CAAA,UAAA,0BAAA,SAAA,CAEQC,EAAA,MAAA,CAAA,UAAA,gCAAA,SAAA2U,EAAA,IAAA,EAA4D3U,EAAA,MAAA,CAAA,UAAA,iCAAA,SAAA2U,EAAA,IAAA,CACC,CAAA,CAAA,EAIrEC,GAAAD,GAAA3U,EAAA,MAAA,CAAA,UAAA,4BAAA,SAAAA,EAAA6U,GAAA,CAAA,SAAAF,EAAA,IAAAA,EAAA,GAAA,CAAA,CAAA,CAAA,EAMA,MAAAG,WAAAzO,GAAAA,SAAA,CACuC,YAAA5E,EAAA,CAG/B,MAAAA,CAAA,EAJyCsT,GAAA,iBAAA,MAKzC,KAAA,WAAA,KAAA,WAAA,KAAA,IAAA,EACA,KAAA,YAAA,KAAA,YAAA,KAAA,IAAA,EACA,KAAA,oBAAA,KAAA,oBAAA,KAAA,IAAA,EACA,KAAA,MAAA,CAAa,OAAA,EACD,CACZ,CACJ,WAAAC,EAAA,CAEI,KAAA,WAGA,WAAA,IAAA,KAAA,oBAAA,EAAA,CAAA,CAA8C,CAClD,YAAAA,EAAA,CAEI,KAAA,SAAA,CAAc,OAAA,EACF,CAAA,CACX,CACL,qBAAA,CAEI,KAAA,WAAA,OAAA,SAAA,eAAA,CAAA,KAAA,UAAA,SAAA,OAAA,SAAA,aAAA,GAKI,KAAA,SAAA,CAAc,OAAA,EACF,CAAA,CAEhB,CACJ,QAAA,CAEI,KAAA,CAAM,MAAAP,EACF,YAAAQ,EACA,cAAAC,EACA,QAAAC,EACA,mBAAAC,EACA,SAAAC,EACA,wBAAAC,EACA,sBAAAC,EACA,qBAAAC,EACA,oBAAAC,EAAA,QACsB,GAAAC,CACnB,EAAA,KAAA,MAGP,CAAA,MAAAC,EAAA,IAAA5M,EAAA,IAAAH,EAAA,SAAAgN,CAAA,EAAA,KAAA,MACAtO,EAAA6N,GAAA9M,IACAwN,EAAAT,GAAAV,GACAoB,EAAA,GAAAxO,UACAyO,EAAAR,GAAAX,GAEAoB,EAAAlW,GAAA,mBAAA,EACAmW,EAAAnW,GAAA,YAAA,EACAoW,EAAApW,GAAA,qBAAA,EAEA,OAAAE,EAAA,MAAA,CAAA,UAAAgW,EAAA,MAAA,SAAAjW,EAAAoW,GAAA,CAAA,OAAAnW,EAAA8F,GAAA,CAAA,SAAA2O,CAAA,CAAA,EAAA,UAAA,gBAAA,SAAA,CAGYzU,EAAA,MAAA,CAAA,YAAA,SAAA,SAAAyV,IAAA,SAAAI,EAAA,CAAA,MAAAF,EAAA,IAAA5M,EAAA,IAAAH,CAAA,CAAA,CAAA,CAAA,EAEA7I,EACA,MAAC,CAAA,UAAAuI,GAAA2N,EAAA,MAAA,CAC8C,CAAAA,EAAA,SAAA,cAAA,CAAA,EAAAZ,IAAA,MACgB,CAAA,EAC1D,IAAAe,GAAA,KAAA,UAAAA,EAC6B,OAAA,KAAA,WACjB,QAAA,KAAA,YACC,SAAA,CAEbf,GAAArV,EAAA,MAAA,CAAA,UAAA,GAAAkW,EAAA,SAAAA,EAAA,SAAA,UAAA,IAAA,SAAAlW,EAEOuU,GAAC,CAAA,UAAA,WACa,QAAA,IAAAoB,EAAA5M,EAAA6M,EAAAD,EAAA,CAAA,EAAA,KAC0C,MAAAN,EAAAA,EAAA,YAAA,QACX,CAAA,EAAA,EAEjDtV,EAAA,MAAA,CAAA,UAAAkW,EAAA,QAAA,OAAA,EAAA,SAAA,CAGAjW,EAAAqH,GAAA,CAAA,GAAAyO,EAAA,SAAAZ,EAAA,EAA0ClV,EAC1C,QAAC,CAAA,GAAA0V,EACO,GAAApO,EACJ,kBAAAwO,EACiB,KAAA,QACZ,SAAAO,GAAAT,EAAA,SAAAS,EAAA,OAAA,MAAA,EAAA,CAAA,CACiD,CAAA,EAC1DrW,EAAA,MAAA,CAAA,KAAA,QAAA,YAAA,YAAA,UAAA,UAAA,SAAAsV,GAAA,KAAA,MAAA,OAAAA,EAAAK,CAAA,EAAA,OAAA,CAKA,EAAA,EACJN,GAAArV,EAAA,MAAA,CAAA,UAAA,GAAAkW,EAAA,SAAAA,EAAA,SAAA,MAAA,IAAA,SAAAlW,EAGQuU,GAAC,CAAA,UAAA,OACa,QAAA,IAAAoB,EAAA/M,EAAAgN,EAAAD,EAAA,CAAA,EAAA,KAC0C,MAAAN,EAAAA,EAAA,cAAA,KACT,CAAA,EAAA,CAEnD,CAAA,CAAA,EAERrV,EAAA,MAAA,CAAA,YAAA,SAAA,SAAAyV,IAAA,SAAAI,EAAA,CAAA,MAAAF,EAAA,IAAA5M,EAAA,IAAAH,CAAA,CAAA,CAAA,CAAA,EAGAmN,EAAA,CAAA,MAAAJ,EAAA,IAAA5M,EAAA,IAAAH,CAAA,CAAA,EACmC5I,EAAAsJ,GAAA,CAAA,OAAAkM,EAAA,SAAAP,EAAA,CACkB,CAAA,CAAA,CAAA,CAAA,CAE7D,CAGZ,+tDCrJA,MAAAqB,GAAA,CAAA,CAA2E,cAAA5Q,EACvE,0BAAA6Q,EACA,8BAAAC,EACA,IAAAC,EACA,UAAAC,EACA,kBAAAjF,CAEJ,IAAA,CACI,MAAA7Q,EAAAC,KAEAqJ,EAAAqM,IAAA,QAAA,CAAA9E,EAAA8E,EAAA,KAAA,OAAAI,GAAAlF,CAAA,GAAA,GAAA,CAAA,EASA,GAJAmF,GAAAA,UAAA,IAAA,CACIlR,EAAA,uBAAAwE,CAAA,CAA0D,EAAA,CAAAxE,EAAAwE,CAAA,CAAA,EAG9D,CAAAuH,EACI,OAAA,KAGJ,MAAAoF,EAAA,KAAA,MAAAF,GAAAlF,CAAA,CAAA,EACAqF,EAAAC,GAAAtF,CAAA,EACAuF,EAAAC,GAAAxF,CAAA,EAEAyF,EAAAlW,EAAAJ,EAAA,sCAAA,CAAyE,iBAAAoW,EACnD,iBAAAF,EACA,cAAAL,EACH,cAAAC,CACA,CAAA,EAGnBS,EAAAX,EAAAE,EAAAD,EACA,OAAAzW,EACI8U,GAAC,CAAA,MAAA9T,EAAAJ,EAAA,mCAAA,EAC6D,YAAAb,EAAA8U,GAAA,CAAA,GAAA,MAAA,SAAA,CAGlD7U,EAAA+F,EAAA,CAAA,UAAA,IAAA,SAAAmR,EAAA,EAAgClX,EAAA6R,GAAA,CAAA,KAAAuF,GAAA,mBAAA,OAAA,SAAA,SAAApX,EAAAmB,EAAA,CAAA,GAAA,gDAAA,CAAA,CAAA,CAAA,CAGhC,EAAA,EACJ,qBAAAH,EAAAJ,EAAA,0DAAA,EAE4F,cAAAI,EAAAJ,EAAA,mCAAA,EAC9B,MAAAsJ,EAC3D,IAAA,EACF,IAAA2M,EACA,SAAAQ,GAAA3R,EAAA,uBAAA2R,CAAA,EACyF,SAAA,CACpF,YAAAzW,EAAA,cAAA,CAAA,GAAA,0CAAA,CAAA,EAC4E,cAAAA,EAAA,cAAA,CAAA,GAAA,qCAAA,CAAA,CACH,EACnF,wBAAA+U,GAAA/U,EAAA,cAES,CAAA,GAAA,qCAAA,EAC2C,CAC5C,aAAA+U,EACkB,WAAAkB,EACF,aAAAJ,GAAA7V,EAAA,cAAA,CAAA,GAAA,iBAAA,CACoD,CACpE,EACJ,mBAAA+T,GAAA3U,EAAAsX,GAAA,CAAA,GAAA,IAAA,UAAA,mDAAA,SAAAtX,EAIImB,EAAC,CAAA,GAAA,sCACM,OAAA,CACK,aAAAwT,EAAA,MACkB,WAAAA,EAAA,IACF,aAAA8B,GAAA7V,EAAA,cAAA,CAAA,GAAA,iBAAA,CAC4C,CACpE,CAAA,EAAA,EAER,oBAAA,QAEgB,sBAAA+T,GAAA3U,EAAA6U,GAAA,CAAA,UAAA,sDAAA,SAAA7U,EAGZmB,EAAC,CAAA,GAAA,uDACM,OAAA,CAAA,mBAAAgW,EAAA,WAAAxC,EAAA,IAAAA,EAAA,KAAA,CACmE,CAAA,EAAA,CAE9E,CAAA,CAIhB,i8BCxGA,MAAM4C,GAAqF,CACvF,CAAClF,GAAmB,YAAY,EAAG,CAC/B,WAAY,CAAC,CAAE,aAAAnT,KAAmBiF,EAASjF,CAAY,EACvD,WAAY,IAAM,EACtB,EACA,CAACmT,GAAmB,kBAAkB,EAAG,CACrC,WAAY,CAAC,CAAE,mBAAAhN,KAAyBlB,EAASkB,CAAkB,EACnE,WAAY,IAAM,GAClB,iBAAkB,CAAC,CAAE,aAAAnG,KAAmBiF,EAASjF,CAAY,CACjE,EACA,CAACmT,GAAmB,wBAAwB,EAAG,CAC3C,WAAY,CAAC,CAAE,yBAAAQ,KAA+B1O,EAAS0O,CAAwB,EAC/E,WAAY,IAAM,GAClB,iBAAkB,CAAC,CAAE,aAAA3T,KAAmBiF,EAASjF,CAAY,CACjE,EACA,CAACmT,GAAmB,oBAAoB,EAAG,CACvC,WAAY,CAAC,CAAE,qBAAAnI,KAA2B/F,EAAS+F,CAAoB,EACvE,WAAY,CAAC,CAAE,8BAAAsN,EAA+B,gBAAAC,CAC1C,IAAA,CAAC,CAACD,GAAiCC,IAAoB,GAC3D,iBAAkB,CAAC,CAAE,aAAAvY,EAAc,mBAAAmG,EAAoB,yBAAAwN,CAAA,IACnD1O,EAASjF,CAAY,IAAMiF,EAASkB,CAAkB,GAAKwN,IAA6B,GAChG,CACJ,EAEa6E,GAA2B/S,GAAyD4S,EAAmB,EC9BvGI,GAA6B,CACtCC,EACAjS,EACAC,IACU,CACV,GAAIgS,IAAgB,QAAajS,IAAe,QAAaC,IAAc,SAChE,MAAA,GAEL,MAAAiS,EAAqCxT,GAAMuT,CAAW,EAAE,cAAcvT,GAAM,IAAI,KAAK,YAAY,CAAC,EAAG,KAAK,EAChH,OACIA,GAAMuT,CAAW,EAAE,IAAI,EAAG,OAAO,EAAE,IAAI,EAAG,MAAM,EAAE,SAASvT,GAAMsB,CAAU,EAAG,MAAM,GACpFkS,CAER,ECRaC,GAAwC,CAAC,CAClD,YAAAxV,EACA,WAAA0K,EACA,qBAAA+K,CACJ,IACW,CAACzV,GAAe,CAAC0K,GAAc,CAAC+K,EAG9BC,GAAyC9F,GAC3CA,EAAW,KAAMlH,GAAYS,GAAgBT,CAAO,GAAKA,EAAQ,QAAU,MAAS,IAAM,OCTxFiN,GAAgD,CACzDC,EACAhG,EACAU,EACApD,EACAC,EACA0I,EACAxX,EACAyJ,IACY,CACN,KAAA,CAAE,yBAAAgO,EAA0B,+BAAAC,CAAA,EAAmCC,GACjEpG,EACAgG,CAAA,EAGA,OAAAG,EAA+B,OAAS,GACfD,EAAA,QAAS9L,GAAM,CAChC,GAAAb,GAAgBa,CAAC,EAAG,CACpB,MAAMiM,EACFC,GAAUH,CAA8B,EAAE,yBAAyB/L,CAAC,EAClEmM,EACFF,EAA8B,OAAS,EAAIA,EAA8B,CAAC,EAAI,OAE9EE,IAAiC,QAAaC,GAAiBD,CAA4B,IACtFnM,EAAE,sBACHA,EAAE,oBAAsB,GACxBA,EAAE,qBAAuB,OAExBmM,EAA6B,sBAC9BA,EAA6B,oBAAsB,GACnDA,EAA6B,qBAAuB,QAGhE,CACH,EACM7I,GACH+I,GACIP,EACAC,EACAzF,EACAxI,CACJ,EACAoF,EACAoD,EACAnD,EACA0I,EACAxX,EACAyJ,CAAA,GAID8H,CACX,ECVA0G,GAAA,CAAA,CAA6C,kCAAA9I,EACzC,iCAAAC,EACA,mBAAA8I,CAEJ,IAAA,CACI,MAAAjY,EAAAC,KACA,CAAA,MAAA5B,GAAA4K,KACA,CAAM,cAAAmG,EACF,eAAAC,EACA,KAAAC,EACA,MAAA,CAAA,gBAAAuH,CAAA,EACyB,aAAAvY,EACzB,iBAAAkQ,CACA,EAAAe,GAAA,EAEJ,CAAM,OAAA,CAAA,QAAA2I,EAAA,WAAAC,EAAA,UAAAC,CAAA,CACuC,EAAA3I,GAAA,EAE7CG,EAAA5G,KAEAoI,EAAA9B,EAAA,WAEA0H,EAAAqB,GAAA/I,CAAA,EACAvK,EAAAmL,GAAAZ,CAAA,EACAgJ,EAAAvB,GAAAC,EAAAjS,EAAAsK,EAAA,SAAA,EACAkJ,EAAAD,EAAA1M,GAAA,CAAA,IAAAoL,EAAA,IAAAjS,CAAA,CAAA,EAAA,qBAAA,EAAA,EAAA,OAGAyE,EAAAnL,EAAA,kBAAA,OAAAA,EAAA,gBAAA,8BAAA,OAEAma,EAAA1I,EAAAV,CAAA,EAAAA,EAAA,OACA9B,EAAA,CAAA,EAAAkL,GAAA,MAAAA,EAAA,QACA5B,EAAA,CAAA,EAAA4B,GAAA,MAAAA,EAAA,+BACA3Y,EAAA2Y,EAAAC,GAAAD,EAAA,QAAAA,EAAA,UAAA,EAAA,EAAA,GAIA1Y,EAAA2Y,GAAAP,EAAAE,EAAA,GAAAD,CAAA,EACA7U,EAAAyM,GAAAT,CAAA,EACA7F,EAAA9E,EAAAjB,EAAAJ,CAAA,CAAA,EAAA,kBACAwO,EAAAnN,EAAA8E,CAAA,EAAA,SAA+D0I,GAAA,sCAAA,CACH,EAE5DxC,GAAAN,EAAA,YAAA,SACAR,GAAAQ,EAAA,YAAA,WACAtP,EAAA2P,GAAAL,EAAA,KAAA,EAEA3N,EAAAoO,EAAAV,CAAA,EAAA,CAAA,CAAAA,EAAA,8BAAA,GAEAvM,EAAAC,GAAoCqM,EAChCD,CACA,EAEJe,EAAAvM,EAAAJ,CAAA,EAEA6M,EAAAhS,GAAA,CACI,MAAAua,GAAA9G,GAAAzT,CAAA,EACAwa,GAAApK,GAAA,CAAwC,oBAAAjB,EACf,YAAA5L,EACrB,iBAAA8M,EACA,sBAAAA,EACuB,qBAAAyB,EACD,6BAAAtL,EAAAA,EAAAsL,CAAA,EAAA,gBAAA,CAAA,EAAA,QAC8E,EAChG,EACJ,UAAAN,GAAA,SAAA,WACiC,sBAAA5P,EACV,0BAAA,GACI,4BAAA8C,EAAAqG,GAAA/K,EAAA,YAAA,CAAA,EAC4E,iBAAA,CACrF,qBAAAua,GAAA,qBACyB,mBAAAA,GAAA,yBAAA,OAAAA,GAAA,mBAGhB,yBAAAA,GAAA,wBACoB,EAC/C,qBAAA,GACsB,WAAA3T,EACtB,mCAAA,GACoC,6BAAAyE,CACpC,CAAA,EAEJhB,GAAAO,GAAAlG,EAAA1E,EAAA,eAAA,MAAA,IAAA,EAAA,CAAA,EACAyQ,EAAAsI,GAAA,CAAiF,YAAAxV,EAC7E,WAAA,GACY,qBAAA,EACU,CAAA,EAG1B,IAAAkX,GAEA,OAAAX,GAAAU,GAAA,OAAA,EACIC,GAAAvB,GAAyBY,EAAA,WACFU,GACnB1I,EACArB,EACAC,GACA,GACA,GACArF,CACA,EACJyO,EAEAW,GAAAX,EAAA,WAEAW,GAAAD,GAEJ,CAAOvI,EAAA,yBAAA5H,EAAA,EAC8C4H,EAAA,kBAAAsI,EAAA,EACDtI,EAAA,gBAAAlH,GAAA/K,EAAA,YAAA,CAAA,EAC4BiS,EAAA,qBAAAwI,EAAA,CACnB,CAC7D,EAEJ,CAAA,aAAAvI,GAAA,aAAAC,EAAA,EAAAC,GAAuCJ,EACnCK,GAAA,WACaC,GAAAC,GAAAD,CAAA,CACkD,EAGnE,OAAArR,EACIsS,GAAA,cAAyB,CAAxB,cAAAG,GAAAC,EAAAlC,EAAAtR,CAAA,EACyG,SAAA+R,GAC5F,WAAA,CAAA,CAAA,OAAAM,EAAA,cAAA7L,EAAA,IAAA,CAEN,MAAA8L,GAAAkG,GAAA,aAAA,CAAyD,GAAAnG,EAClD,8BAAAiG,EACH,gBAAAC,CACA,CAAA,EAGJhG,GAAAhO,EAAA8N,EAAA,eAAA,MAAA,IAAA,EAAA,EAEA,OAAAxR,EAAAuS,GAAA,KAAA,CAAA,eAAA,GAAA,yBAAA,GAAA,SAAA,CAEQtS,EAAA+F,EAAA,CAAA,UAAA,IAAA,SAAA/F,EACIuJ,GAAC,CAAA,cAAA+I,GACkB,qBAAAD,GAAA,aAC0B,4BAAA5O,EACzC,YAAAnB,CACA,CAAA,EAAA,EAERtC,EAAA+F,EAAA,CAAA,UAAA,KAAA,QAAAyL,GAAA,WAAAa,GAAA,YAAA,EAAA,SAAAZ,IAAAzR,EAGQwB,GAAC,CAAA,YAAAc,EACG,iBAAA,GACkB,cAAA7B,EAClB,QAAAC,EACA,mBAAA2B,GACoBoP,GAChB,GACAxO,EAAA,SACS,CACb,CAAA,EAAA,EAGZjD,EAAA+F,EAAA,CAAA,UAAA,KAAA,QAAAmT,IAAA,GAAA,SAAAlZ,EAAA0R,GAAA,CAAA,SAAA1R,EAGQmB,EAAC,CAAA,GAAA,kDACM,OAAA,CACK,mBAAA,KAAA,MAAAgY,EAAA,CAAA,EACgE,oBAAAA,EAAA,CACX,CAC7D,CAAA,CAAA,CAAA,CAAA,CAAA,EAGZnZ,EAAA+F,EAAA,CAAA,QAAAyL,GAAA,WAAAa,GAAA,YAAA,EAAA,SAAArS,EAEI4T,GAAC,CAAA,mBAAArC,EAAA,mBACkC,yBAAAA,EAAA,wBACM,CAAA,EAAA,EAE7CxR,EACAgG,EAAC,CAAA,QAAA0R,IAAA,IAAAD,GAAAhG,GAAA,WAAAa,GAAA,YAAA,EAI4D,SAAA,CAGzDrS,EAAA+F,EAAC,CAAA,UAAA,KACa,QAAAiM,EAAA,IAAAT,EAAA,qBAAA,QAAAA,EAAA,2BAAA,IAIsC,SAAAvR,EAAA0R,GAAA,CAAA,SAAA1R,EAI5CmB,EAAC,CAAA,GAAA,+CACM,OAAA,CACK,KAAA4Q,GAAAR,EAAA,aAAAS,CAAA,EACuD,QAAAvR,EAClD,QAAAC,CACT,CACJ,CAAA,EAAA,CAER,CAAA,EACJV,EACA+F,EAAC,CAAA,UAAA,KACa,QAAAyL,GAAA,UAAAa,GAAA,oBAAA,EAC2D,SAAArS,EAErEsW,GAAC,CAAA,cAAA5Q,GACG,kBAAA+L,GACA,0BAAAF,EAAA,qBACsC,IAAA7Q,EACjC,UAAAD,EACM,8BAAA,CAAAE,CACqB,CAAA,CACpC,CAAA,CACJ,CAAA,CAAA,EACJX,EAAA+F,EAAA,CAAA,SAAAhG,EAAA4R,GAAA,CAAA,SAAA,CAGQ3R,EAAA4R,GAAA,CAAA,QAAA,YAAA,GAAAC,GAAA,GAAAC,GAAA,gBAAA,EAAA,SAAA9R,EAAAmB,EAAA,CAAA,GAAA,gBAAA,CAAA,EAAA,EAEAqQ,GAAA,wBAAA,GAAAxR,EAAA4R,GAAA,CAAA,KAAA,SAAA,SAAAV,GAAA,QAAAA,GAAA,SAAAlQ,EAAAJ,EAAA,iBAAA,EAAA,CAII,CAAA,CAAA,CAAA,CAAA,CAGZ,CAAA,CAAA,CACJ,CAER,CAAA,CAGZ,qkBC1RA,IAAK6Y,IAAAA,IACDA,EAAA,QAAU,UACVA,EAAA,mBAAqB,qBACrBA,EAAA,MAAQ,QAHPA,IAAAA,IAAA,CAAA,CAAA,EAMQ,MAAAC,GAAYC,GAAqD,CAC1E,GAAIA,IAAS,UACF,MAAA,UAEX,GAAIA,IAAS,qBACF,MAAA,qBAEX,GAAIA,IAAS,QACF,MAAA,OAGf,ECdY,IAAAC,GAAAA,IACRA,EAAA,uBAAyB,yBACzBA,EAAA,aAAe,eACfA,EAAA,sBAAwB,wBACxBA,EAAA,uBAAyB,yBACzBA,EAAA,uBAAyB,yBACzBA,EAAA,gBAAkB,kBAClBA,EAAA,wBAA0B,0BAC1BA,EAAA,yBAA2B,2BAC3BA,EAAA,qBAAuB,uBATfA,IAAAA,GAAA,CAAA,CAAA,EAwBL,MAAMC,GAA+Bjb,GAAwE,ECpB9Gkb,GAAsD,CACxD,CAACF,EAAwB,sBAAsB,EAAGG,EAAQ,WAC1D,CAACH,EAAwB,YAAY,EAAG,GACxC,CAACA,EAAwB,qBAAqB,EAAG,OACjD,CAACA,EAAwB,sBAAsB,EAAG,GAClD,CAACA,EAAwB,sBAAsB,EAAG,GAClD,CAACA,EAAwB,eAAe,EAAG,GAC3C,CAACA,EAAwB,uBAAuB,EAAG,IACnD,CAACA,EAAwB,wBAAwB,EAAG,IACpD,CAACA,EAAwB,oBAAoB,EAAG,MACpD,EAEaI,GAAgCjb,IAClC,CACH,uBAAwBkb,GAAmClb,EAAO,sBAAsB,EACxF,sBAAuBA,EAAO,sBAC9B,uBAAwBA,EAAO,uBAC/B,uBAAwBA,EAAO,uBAC/B,gBAAiBA,EAAO,gBACxB,wBAAyBA,EAAO,wBAChC,yBAA0BA,EAAO,yBACjC,qBAAsBA,EAAO,oBAAA,GAIxBmb,GAAiC,CAC1C1J,EACAtR,IAEIsR,EACO,CACH,GAAGA,EACH,CAACoJ,EAAwB,YAAY,EAAG1a,EACxC,CAAC0a,EAAwB,qBAAqB,EAAGF,GAASlJ,EAAqB,qBAAqB,EACpG,CAACoJ,EAAwB,sBAAsB,EAAGpJ,EAAqB,uBACjEuJ,EAAQ,IACRA,EAAQ,EAAA,EAIfD,GCpCLK,GAAoG,CACtG,CAACP,EAAwB,sBAAsB,EAAG,CAC9C,WAAY,CAAC,CAAE,uBAAAzP,CAAuB,IAAMA,IAA2B4P,EAAQ,WAC/E,WAAY,CAAC,CAAE,2CAAAK,CAA2C,IAAM,CAAC,CAACA,CACtE,EACA,CAACR,EAAwB,YAAY,EAAG,CACpC,WAAY,CAAC,CAAE,aAAA1a,KAAmBiF,EAASjF,CAAY,EACvD,WAAY,CAAC,CAAE,uBAAAiL,EAAwB,2CAAAiQ,KACnCjQ,IAA2B4P,EAAQ,YAAc,CAACK,CAC1D,EACA,CAACR,EAAwB,qBAAqB,EAAG,CAC7C,WAAY,CAAC,CAAE,sBAAAS,KAA4BlW,EAASkW,CAAqB,EACzE,WAAY,CAAC,CAAE,aAAAnb,EAAc,uBAAAiL,KACzBhG,EAASjF,CAAY,GAAKiL,IAA2B4P,EAAQ,GACrE,EACA,CAACH,EAAwB,sBAAsB,EAAG,CAC9C,WAAY,CAAC,CAAE,uBAAAU,KAA6BnW,EAASmW,CAAsB,EAC3E,WAAY,CAAC,CAAE,aAAApb,EAAc,uBAAAiL,EAAwB,sBAAAkQ,CAAsB,IACvEA,IAA0BZ,GAAsB,OAChDtV,EAASjF,CAAY,GACrBiL,IAA2B4P,EAAQ,GAC3C,EACA,CAACH,EAAwB,sBAAsB,EAAG,CAC9C,WAAY,CAAC,CAAE,uBAAAW,KAA6BpW,EAASoW,CAAsB,EAC3E,WAAY,CAAC,CAAE,aAAArb,EAAc,uBAAAiL,KACzBhG,EAASjF,CAAY,GAAKiL,IAA2B4P,EAAQ,GACrE,EACA,CAACH,EAAwB,eAAe,EAAG,CACvC,WAAY,CAAC,CAAE,gBAAAY,KAAsBrW,EAASqW,CAAe,EAC7D,WAAY,CAAC,CAAE,uBAAAD,EAAwB,uBAAApQ,KACnChG,EAASoW,CAAsB,GAAKpQ,IAA2B4P,EAAQ,GAC/E,EACA,CAACH,EAAwB,wBAAwB,EAAG,CAChD,WAAY,CAAC,CAAE,yBAAAnM,KAA+BtJ,EAASsJ,CAAwB,EAC/E,WAAY,CAAC,CAAE,gBAAA+M,KAAsBrW,EAASqW,CAAe,CACjE,EACA,CAACZ,EAAwB,uBAAuB,EAAG,CAC/C,WAAY,CAAC,CAAE,wBAAAa,KAA8BtW,EAASsW,CAAuB,EAC7E,WAAY,CAAC,CAAE,gBAAAD,KAAsBrW,EAASqW,CAAe,CACjE,EACA,CAACZ,EAAwB,oBAAoB,EAAG,CAC5C,WAAY,CAAC,CAAE,qBAAA1P,KAA2B/F,EAAS+F,CAAoB,EACvE,WAAY,CAAC,CACT,sBAAAmQ,EACA,uBAAAlQ,EACA,2CAAAiQ,EACA,gBAAA3C,CAAA,IAEA4C,IAA0B,QAC1BlQ,IAA2B4P,EAAQ,KACnC,CAAC,CAACK,GACF3C,IAAoB,EAC5B,CACJ,EAEaiD,GAAgC/V,GACzCwV,EACJ,EChEaQ,GAA0C/Z,GAAqB0Z,GAAmC,CACvG,GAAA,CAAChV,GAAAA,gBAAgBgV,CAAsB,EAChC,OAAAtZ,EAAUJ,EAAM,uEAAuE,CAItG,ECKOga,GAAA,CAAAP,EAAAC,EAAAO,EAAAC,EAAAN,IAAA,CAOH,GAAArW,EAAAqW,CAAA,EACI,OAAAA,EAGJ,OAAAH,EAAA,CAA+B,KAAAZ,GAAA,QAEvB,OAAAqB,EAAO,KAAArB,GAAA,mBAEP,OAAAoB,EAAO,KAAApB,GAAA,MAEP,OAAAa,EAAO,QAEP,OAAAS,GAAAV,EAAA,sCAAA,CAAsF,CAElG,EAEAW,GAAAC,GAAA,CACI,GAAAA,EAIA,OAAAA,EAAA,IAAAC,IAAA,CAAqC,KAAA5W,EAAA4W,EAAA,IAAA,EACL,GAAA5W,EAAA4W,EAAA,EAAA,CACJ,EAAA,CAEhC,EAMAC,GAAA,CAAA,CAAA,uBAAAC,KAAA,CACI,MAAAxa,EAAAC,KACA,CAAA,KAAAqP,GAAAC,KACAjM,EAAAyM,GAAAT,CAAA,EAEAmL,EAAA,CAAA,EACAC,GAAApL,CAAA,GAAAA,EAAA,aACImL,EAAA,KAAA,CAAY,MAAAra,EAAAJ,EAAA,sDAAA,CACsE,KAAA2a,GAAArL,EAAA,WAAA,CAChC,CAAA,EAC7C,MAAAuJ,GAAA,OAC4B,CAAA,EAIrC+B,GAAAtL,CAAA,GACImL,EAAA,KAAA,CAAY,MAAAra,EAAAJ,EAAA,iEAAA,CACiF,KAAA2a,GAAArL,EAAA,aAAA,CACzC,CAAA,EAC/C,MAAAuJ,GAAA,kBAC4B,CAAA,EAIrC4B,EAAA,KAAA,CAAY,MAAAra,EAAAJ,EAAA,mDAAA,EACkE,MAAA6Y,GAAA,KAC7C,CAAA,EAGjC,MAAApF,EAAArP,GAAA,2BAAAd,CAAA,EAEA,OAAAnE,EAAA+F,GAAA,CAAA,SAAA,CAEQ9F,EAAA+F,EAAA,CAAA,UAAA,IAAA,SAAA/F,EACI6Z,GAAA,WAA8B,CAA7B,KAAAD,EAAA,sBACiC,OAAAyB,EAC9B,OAAAra,EAAAJ,EAAA,2CAAA,CACmE,CAAA,EAAA,EAE3EZ,EAAA+F,EAAA,CAAA,UAAA,IAAA,QAAAqV,IAAA3B,GAAA,MAAA,SAAAzZ,EAEI6Z,GAAA,WAA8B,CAA7B,KAAAD,EAAA,uBACiC,MAAA5Y,EAAAJ,EAAA,qDAAA,EAC8C,QAAAyT,EAAA,QAAA/P,EAAA+P,EAAA,OAAA,EAAA,OACM,QAAAA,EAAA,QAAA/P,EAAA+P,EAAA,OAAA,EAAA,OACA,mBAAA2G,GAAA3G,EAAA,iBAAA,EACJ,eAAAA,EAAA,sBAC5C,SAAAsG,GAAA/Z,CAAA,EACmB,YAAA,YACxC,CAAA,EAAA,CAErB,CAAA,CAAA,CAGZ,6TCpDA,MAAA6a,GAAA,CAAA,CAAkD,iCAAA1L,EAC9C,kCAAAD,CAEJ,IAAA,CACI,MAAAlP,EAAAC,KACA,CAAA,MAAA5B,GAAA4K,KACA,CAAM,eAAAoG,EACF,cAAAD,EACA,KAAAE,EACA,MAAA,CAAA,gBAAAuH,CAAA,EACyB,aAAAvY,EACzB,iBAAAkQ,CACA,EAAAe,GAAA,EAEJ,CAAM,OAAA,CAAA,QAAA2I,EAAA,WAAAC,EAAA,UAAAC,CAAA,CACuC,EAAA3I,GAAA,EAE7CG,EAAA5G,KAEA6F,EAAAQ,EAAA,YAAA,WACA8H,EAAA,CAAA,CAAAN,EACAiE,EAAAhL,EAAAV,CAAA,EAAAA,EAAA,gCAAA,QAAAA,EAAA,8BAAA,OAAA,GAIArP,EAAA2P,GAAAL,EAAA,KAAA,EACA7B,EAAAzN,GAAA+P,EAAAV,CAAA,GAAA,CAAA+H,GAAA,CAAA/H,EAAA,+BAAA,CAAAA,EAAA,4BAMA9L,EAAAyM,GAAAT,CAAA,EACAW,EAAAvM,EAAAJ,CAAA,EACAkG,EAAAnL,EAAA,kBAAA,OAAAA,EAAA,gBAAA,8BAAA,OAGA0c,EAAAlM,IAAAiM,GAAA1L,EAAA,eAAA+H,GAGAhH,EAAAhS,GAAA,CACI,MAAAua,GAAAU,GAAAjb,CAAA,EACA6c,GAAAJ,GAAAtL,CAAA,EAAAA,EAAA,cAAA,OACA9G,GAAAO,GAAAlG,GAAA1E,EAAA,eAAA,MAAA,IAAA,EAAA,CAAA,EAEAkU,GAAA2H,GAAkB7b,EAAA,sBACPA,EAAA,uBACAoH,EAAAyV,EAAA,EAC0BzV,EAAA2U,CAAA,EACN/b,EAAA,eACpB,EAGX,MAAA,CAAOiS,EAAA,yBAAA5H,EAAA,EAC8C4H,EAAA,kBAAAsI,EAAA,EACDtI,EAAA,gBAAAlH,GAAA/K,EAAA,YAAA,CAAA,EAC4BiS,EAAA,qBAC9D7B,GAAA,CACI,oBAAAjB,EACW,YAAA5L,EACrB,iBAAA8M,EACA,sBAAAA,EACuB,qBAAAyB,EACD,6BAAAtL,EACQA,EAAAsL,CAAA,EAAA,gBAAA,CAC6B,EAAA,QAAA,EAAA,EAC/C,UAAAZ,EAAA,UACc,sBAAAtP,EACH,0BAAA,GACI,4BAAA8C,GAAAqG,GAAA/K,EAAA,YAAA,CAAA,EAEmD,iBAAA,CAC5D,qBAAAua,GAAA,qBACyB,mBAAArG,GACnB,kCAAA,SAAAqG,GAAA,wBAAA,EACiE,iCAAA,SAAAA,GAAA,uBAAA,EACF,uBAAAA,GAAA,uBAC1C,qBAAAA,GAAA,uBACF,sBAAAA,GAAA,eACC,EAC5C,qBAAAlL,EACA,WAAA,OACY,mCAAA0J,GAAA,CAC8D,YAAAxV,EACtE,WAAA,CAAA8L,EACa,qBAAA2J,CACb,CAAA,EACH,6BAAA3N,CACD,CAAA,CACH,CACL,CACJ,EAGJ,CAAA,aAAA6G,EAAA,aAAAC,CAAA,EAAAC,GAAuCJ,EACnCK,GAAA,WACaC,GAAAC,GAAAD,CAAA,CACkD,EAGnE,GAAA,CAAAsK,GAAA,CAAAH,GAAAtL,CAAA,EACI,OAAA,KAGJ,MAAA2L,EAAA,CAAAlb,EAEAyY,EAAA1I,EAAAV,CAAA,EAAAA,EAAA,OACAoK,EAAA,CAAA,EAAAhB,GAAA,MAAAA,EAAA,+BACA0C,GAAA1C,GAAA,YAAAA,EAAA,QACA2C,GAAA,CAAA,EAAA3C,GAAA,MAAAA,EAAA,QACA4C,EAAA5C,EAAAC,GAAAD,EAAA,QAAAA,EAAA,UAAA,EAAA,EAAA,GAIA9W,EAAAoO,EAAAV,CAAA,EAAA,CAAA,CAAAA,EAAA,+BAAA,CAAA,CAAAA,EAAA,4BAAA,GAIA9B,EAAA2N,EAAA,GAAAE,GAEAE,EAAA5C,GAAAP,EAAAE,EAAA,GAAAD,CAAA,EACArY,EAAAmb,EAAAI,EAAAD,EACAvb,GAAAob,EAAAG,EAAAC,EAEAC,GAAAZ,GAAApL,CAAA,EAAAA,EAAA,kBAAA,GACA4K,EAAAQ,GAAApL,CAAA,EAAAA,EAAA,YAAA,OACA8B,GAAA9B,EAAA,WACAiM,GAAArB,IAAA,QAAA5K,EAAA,gBAAA,OAAA/J,EAAAiW,GAAA,CAAAtB,EAAA5K,EAAA,aAAA,CAAA,CAAA,EAAAA,EAAA,cAKAzM,GAAAC,GAAoCqM,EAChCD,CACA,EAGJ,OAAA9P,EACI6Z,GAAA,cAA8B,CAA7B,cAAAK,GAAA1J,EAAAtR,CAAA,EACmF,SAAA+R,EACtE,WAAA,CAAA,CAAA,OAAAM,EAAA,cAAA7L,EAAA,IAAA,CAEN,MAAA8L,GAAAkJ,GAAA,aAAA,CAA8D,GAAAnJ,EACvD,2CAAA6I,EACH,gBAAA3C,CACA,CAAA,EAGJhG,GAAAhO,GAAA8N,EAAA,eAAA,MAAA,IAAA,EAAA,EAEArR,GAAAuR,GAAApP,GAAAoP,GAAA,GAAAxO,EAAA,SAAA,EAAA,OAIA,OAAAlD,EAAA8Z,GAAA,KAAA,CAAA,eAAA,GAAA,yBAAA,GAAA,SAAA,CAEQ7Z,EAAA+F,EAAC,CAAA,UAAA,KACa,QAAAyL,GAAA,WAAAoI,EAAA,sBAAA,EACmE,SAAA5Z,EAE7E6Z,GAAA,gBAA8B,CAA7B,KAAAD,EAAA,uBACiC,OAAA5Y,EAAAJ,EAAA,uDAAA,CACkD,kBAAAkb,EACzD,CAAA,CACtB,CAAA,CACL,CAAA,EACJvK,EAAA,yBAAAwI,EAAA,KAAA/Z,EAAA+F,EAAA,CAAA,UAAA,KAAA,SAAA/F,EAAA0R,GAAA,CAAA,SAAA1R,EAIYmB,EAAC,CAAA,GAAA,8CACM,OAAA,CACK,KAAAC,GAAA0a,GAAAlb,EAAA,MAAA,CAC2D,CACnE,CAAA,CAAA,CAAA,CAAA,CAAA,EAGZZ,EAAA+F,EAAA,CAAA,UAAA,KAAA,QAAAyL,GAAA,WAAAoI,EAAA,YAAA,EAAA,SAAA5Z,EAGAuJ,GAAC,CAAA,cAAAsQ,GACkB,qBAAAD,EAAA,aAC+B,4BAAAnW,GAC9C,YAAAnB,CACA,CAAA,EAAA,EAERtC,EAAA+F,EAAA,CAAA,UAAA,KAAA,QAAAyL,GAAA,WAAAoI,EAAA,YAAA,EAAA,SAAA1Z,IAAAF,EAGQwB,GAAC,CAAA,YAAAc,EACG,iBAAA,CAAAuZ,EACmB,cAAApb,GACnB,QAAAC,EACA,mBAAAR,EACA,CAAA,EAAA,EAGZF,EAAA+F,EAAA,CAAA,QAAAyL,GAAA,WAAAoI,EAAA,qBAAA,EAAA,SAAA5Z,EAAAmb,GAAA,CAAA,uBAAA5J,EAAA,qBAAA,CAAA,EAAA,EAGAvR,EACA+F,EAAC,CAAA,UAAA,KACa,QAAAyL,GAAA,WAAAoI,EAAA,sBAAA,EACmE,SAAA5Z,EAE7E4E,GAAC,CAAA,eAAAiV,GACmB,UAAAD,EAAA,uBACmB,QAAAoC,EAC1B,qBAAA9X,CACT,CAAA,CACJ,CAAA,EACJlE,EAAA+F,EAAA,CAAA,UAAA,KAAA,QAAAyL,GAAA,WAAAoI,EAAA,eAAA,EAAA,SAAA5Z,EAEIyF,GAAC,CAAA,eAAAoU,GACmB,UAAAD,EAAA,gBACmB,qBAAA/I,EACb,cAAAnL,GACtB,aAAApB,EAAAiN,EAAA,sBAAA,EAC+D,QAAA7Q,EAC/D,WAAA,OACY,UAAAuP,EAAA,UACc,gCAAA,EACO,CAAA,EAAA,EAEzCjQ,EACA+F,EAAC,CAAA,UAAA,KACa,QAAAyL,GAAA,WAAAoI,EAAA,eAAA,GAAA,CAAAjN,GAGLrI,EAAAiN,EAAA,sBAAA,EACoDjN,EAAAiN,EAAA,eAAA,CACP,GAAAA,EAAA,yBAAAwI,EAAA,IAEA,SAAA7Z,IAAAF,EAI9CgJ,GAAC,CAAA,eAAA6Q,GACmB,cAAAD,EAAA,wBACuB,eAAAA,EAAA,yBACC,YAAArI,EAAA,yBAChB,WAAAA,EAAA,wBACD,cAAA7L,GACvB,qBAAAxF,GAAA,YAAA,CACuD,CAAA,CAC3D,CAAA,EAERF,EACA+F,EAAC,CAAA,UAAA,KACa,QAAAwL,EAAA,wBAAAkI,GAAA,OAAApV,GAAA8X,EAAA,EAAA,SAGY9X,GACduW,GACIrJ,EAAA,sBACeA,EAAA,uBACApL,EAAA+J,EAAA,aAAA,EACuB/J,EAAA2U,CAAA,EACPvJ,EAAA,eAChB,CACf,EACJ,KACA,GAAA,CAAA8K,GAAAnM,CAAA,GAAA,CAAA5N,EAGH,SAAAtC,EAAA0R,GAAA,CAAA,SAAA1R,EAIDmB,EAAC,CAAA,GAAA+a,KAAA,GAAA,4CAAA,uCAIa,CAAA,EAAA,CAGlB,CAAA,EACJnc,EAAAgG,EAAA,CAAA,QAAA0R,IAAA,IAAA2C,EAAA,SAAA,CAEIpa,EAAA+F,EAAC,CAAA,UAAA,KACa,QAAAiM,GAAA,GAAAT,EAAA,wBAAA,QAAAA,EAAA,yBAAAwI,EAAA,IAIwC,SAAA/Z,EAAA0R,GAAA,CAAA,SAAA1R,EAI9CmB,EAAC,CAAA,GAAA,+CACM,OAAA,CACK,KAAA4Q,GAAAR,EAAA,aAAAS,EAAA,EACuD,QAAAvR,GAClD,QAAAC,CACT,CACJ,CAAA,EAAA,CAER,CAAA,EACJV,EACA+F,EAAC,CAAA,UAAA,KACa,QAAAyL,GAAA,WAAAoI,EAAA,oBAAA,EACiE,SAAA5Z,EAE3EsW,GAAC,CAAA,cAAA5Q,GACG,kBAAA+L,GACA,0BAAAF,EAAA,qBACsC,IAAA7Q,EACjC,UAAAD,GACM,8BAAA,CAAAob,CACqB,CAAA,CACpC,CAAA,CACJ,EAAA,EACJ7b,EAAA+F,EAAA,CAAA,SAAAhG,EAAA4R,GAAA,CAAA,SAAA,CAGQ3R,EAAA4R,GAAA,CAAA,QAAA,YAAA,GAAAC,GAAA,GAAAC,GAAA,gBAAA,EAAA,SAAA9R,EAAAmB,EAAA,CAAA,GAAA,gBAAA,CAAA,EAAA,EAEAqQ,GAAA,wBAAA,GAAAxR,EAAA4R,GAAA,CAAA,KAAA,SAAA,SAAAV,EAAA,QAAAA,EAAA,SAAAlQ,EAAAJ,EAAA,iBAAA,EAAA,CAII,CAAA,CAAA,CAAA,CAAA,CAGZ,CAAA,CAAA,CACJ,CAER,CAAA,CAGZ,+bC7XY,IAAA0b,IAAAA,IACRA,EAAA,aAAe,eACfA,EAAA,sBAAwB,wBACxBA,EAAA,uBAAyB,yBAHjBA,IAAAA,IAAA,CAAA,CAAA,EAYL,MAAMC,GAAuD3d,GAGlE,ECPI4d,GAGF,CACA,CAACF,GAAgD,YAAY,EAAG,CAC5D,WAAY,CAAC,CAAE,aAAApd,KAAmBiF,EAASjF,CAAY,EACvD,WAAY,IAAM,EACtB,EACA,CAACod,GAAgD,qBAAqB,EAAG,CACrE,WAAY,CAAC,CAAE,sBAAAjC,KAA4BlW,EAASkW,CAAqB,EACzE,WAAY,CAAC,CAAE,aAAAnb,KAAmBiF,EAASjF,CAAY,CAC3D,EACA,CAACod,GAAgD,sBAAsB,EAAG,CACtE,WAAY,CAAC,CAAE,uBAAAhC,KAA6BnW,EAASmW,CAAsB,EAC3E,WAAY,CAAC,CAAE,aAAApb,EAAc,sBAAAmb,KACzBA,IAA0BZ,GAAsB,OAAStV,EAASjF,CAAY,CACtF,CACJ,EACaud,GAAwD9X,GAGnE6X,EAAgD,ECxB5CE,GAAsG,CACxG,CAACJ,GAAgD,YAAY,EAAG,GAChE,CAACA,GAAgD,qBAAqB,EAAG,OACzE,CAACA,GAAgD,sBAAsB,EAAG,EAC9E,EACaK,GACT5d,IAEO,CACH,aAAcA,EAAO,aACrB,sBAAuBA,EAAO,sBAC9B,uBAAwBA,EAAO,sBAAA,GAG1B6d,GAAyD,CAClEpM,EACAtR,IAEIsR,EACO,CACH,GAAGA,EACH,CAAC8L,GAAgD,YAAY,EAAGpd,EAChE,CAACod,GAAgD,qBAAqB,EAAG5C,GACrElJ,EAAqB,qBACzB,CAAA,EAGDkM,GCiBXG,GAAA,CAAA,CAA0E,iCAAA9M,EACtE,kCAAAD,CAEJ,IAAA,CACI,MAAAlP,EAAAC,KACA,CAAA,MAAA5B,GAAA4K,KACA,CAAA,eAAAoG,EAAA,cAAAD,EAAA,KAAAE,EAAA,aAAAhR,EAAA,iBAAAkQ,CAAA,EAAAe,KACA,CAAM,OAAA,CAAA,QAAA2I,EAAA,WAAAC,EAAA,UAAAC,CAAA,CACuC,EAAA3I,GAAA,EAE7CG,EAAA5G,KACAtH,EAAA,GACAmN,EAAAQ,EAAA,YAAA,WACAtP,EAAA2P,GAAAL,EAAA,KAAA,EACA/L,EAAAyM,GAAAT,CAAA,EACAW,EAAAvM,EAAAJ,CAAA,EACAkG,EAAAnL,EAAA,kBAAA,OAAAA,EAAA,gBAAA,8BAAA,OAGA8R,EAAAhS,GAAA,CACI,MAAAua,EAAAqD,GAAA5d,CAAA,EACA6c,GAAAJ,GAAAtL,CAAA,EAAAA,EAAA,cAAA,OACA9G,GAAAO,GAAAlG,EAAA1E,EAAA,eAAA,MAAA,IAAA,EAAA,CAAA,EAEAkU,EAAA2H,GAAkB7b,EAAA,sBACPA,EAAA,uBACAoH,EAAAyV,EAAA,EAC0BzV,EAAA2U,EAAA,CACN,EAG/B,MAAA,CAAO9J,EAAA,yBAAA5H,EAAA,EAC8C4H,EAAA,kBAAAsI,CAAA,EACDtI,EAAA,gBAAAlH,GAAA/K,EAAA,YAAA,CAAA,EAC4BiS,EAAA,qBAC9D7B,GAAA,CACI,oBAAA,GACW,YAAA7M,EACrB,iBAAA8M,EACA,sBAAAA,EACuB,qBAAAyB,EACD,6BAAAtL,EACQA,EAAAsL,CAAA,EAAA,gBAAA,CAC6B,EAAA,QAAA,EAAA,EAC/C,UAAAZ,EAAA,UACc,sBAAAtP,EACH,0BAAA,GACI,4BAAA8C,EAAAqG,GAAA/K,EAAA,YAAA,CAAA,EAEmD,iBAAA,CAC5D,mBAAAkU,EACM,sBAAAtS,EAAAsS,EAAA,MACkC,EAC1D,qBAAA,GACsB,WAAA,OACV,mCAAA6E,GAAA,CAC8D,YAAAxV,EACtE,WAAA,GACY,qBAAA,EACU,CAAA,EACzB,yCAAA,GACyC,6BAAA8H,CAC1C,CAAA,CACH,CACL,CACJ,EAGJ,CAAA,aAAA6G,EAAA,aAAAC,CAAA,EAAAC,GAAuCJ,EACnCK,GAAA,WACaC,GAAAC,GAAAD,CAAA,CACkD,EAGnE,GAAA,CAAA5B,GAAA,CAAA+L,GAAAtL,CAAA,EACI,OAAA,KAGJ,MAAA2L,EAAA,CAAAlb,EACAyY,EAAA1I,EAAAV,CAAA,EAAAA,EAAA,OACAgM,EAAA5C,EAAAC,GAAAD,EAAA,QAAAA,EAAA,UAAA,EAAA,EAAA,GAIA0D,EAAA,GACAb,EAAA5C,GAAAP,EAAAE,EAAA,GAAAD,CAAA,EACArY,EAAAmb,EAAAI,EAAAD,EACAvb,EAAAob,EAAAG,EAAAC,EACAC,GAAAZ,GAAApL,CAAA,EAAAA,EAAA,kBAAA,GACA4K,GAAAQ,GAAApL,CAAA,EAAAA,EAAA,YAAA,OACA8B,EAAA9B,EAAA,WACAiM,EAAArB,KAAA,QAAA5K,EAAA,gBAAA,OAAA/J,EAAAiW,GAAA,CAAAtB,GAAA5K,EAAA,aAAA,CAAA,CAAA,EAAAA,EAAA,cAKAzM,EAAAC,GAAoCqM,EAChCD,CACA,EAGJ,OAAA9P,EACIuc,GAAA,cAAsD,CAArD,cAAAK,GAAApM,EAAAtR,CAAA,EAC2G,SAAA+R,EAC9F,WAAA,CAAA,CAAA,OAAAM,KAAA,CAEN,MAAAC,EAAAiL,GAAA,aAAA,CAAsF,GAAAlL,EAC/E,iBAAA5Q,CACH,CAAA,EAGJ,OAAAZ,EACIwc,GAAA,KAAsD,CAArD,eAAA,GACmB,yBAAA,GACU,SAAA,CAE1Bvc,EAAA+F,EAAC,CAAA,UAAA,KACa,QAAAyL,EAAA,WACU8K,GAAA,YACgC,EACpD,SAAAtc,EAEAuJ,GAAC,CAAA,cAAAgT,GACkB,qBAAAD,GAAA,aACuD,4BAAA7Y,EACtE,YAAAqZ,CACa,CAAA,CACjB,CAAA,EACJ9c,EACA+F,EAAC,CAAA,QAAAyL,EAAA,WACuB8K,GAAA,qBACgC,EACpD,SAAAtc,EAAAmb,GAAA,CAAA,uBAAA5J,EAAA,sBAAA,CAE6E,CAAA,EACjFvR,EACA+F,EAAC,CAAA,UAAA,KACa,QAAA0J,GAAA+L,GAAAtL,CAAA,GAAAqB,EAAA,wBAAAkI,GAAA,OAAApV,GAAA8X,CAAA,EAAA,SAKY9X,GACduW,GACIrJ,EAAA,sBACe,OACXpL,EAAA+J,EAAA,aAAA,EACkC/J,EAAA2U,EAAA,CACP,CAC/B,EACJ,KACA,GAAA,CAAAuB,GAAAnM,CAAA,GAAA,CAAA5N,EAGH,SAAAtC,EAAA0R,GAAA,CAAA,SAAA1R,EAIDmB,EAAC,CAAA,GAAA+a,KAAA,GAAA,4CAAA,uCAIa,CAAA,EAAA,CAGlB,CAAA,EACJlc,EACA+F,EAAC,CAAA,UAAA,KACa,QAAAiM,EAAA,GAAAT,EAAA,wBAAA,OACsD,SAAAvR,EAAA0R,GAAA,CAAA,SAAA1R,EAG5DmB,EAAC,CAAA,GAAA,wEACM,OAAA,CACK,KAAA4Q,GAAAR,EAAA,aAAAS,CAAA,EACuD,QAAAvR,EAClD,QAAAC,CACT,CACJ,CAAA,EAAA,CAER,CAAA,EACJV,EAAA+F,EAAA,CAAA,SAAAhG,EAAA4R,GAAA,CAAA,SAAA,CAGQ3R,EAAA4R,GAAA,CAAA,QAAA,YAAA,GAAAC,GAAA,GAAAC,GAAA,gBAAA,EAAA,SAAA9R,EAAAmB,EAAA,CAAA,GAAA,gBAAA,CAAA,EAAA,EAEAqQ,EAAA,wBAAA,GAAAxR,EAAA4R,GAAA,CAAA,KAAA,SAAA,SAAAV,EAAA,QAAAA,EAAA,SAAAlQ,EAAAJ,EAAA,iBAAA,EAAA,CAII,CAAA,CAAA,CAAA,CAAA,CAGZ,CAAA,CAAA,CACJ,CAER,CAAA,CAGZ,mjBCzPY,IAAAmc,IAAAA,IACRA,EAAA,aAAe,eACfA,EAAA,mBAAqB,qBACrBA,EAAA,yBAA2B,2BAHnBA,IAAAA,IAAA,CAAA,CAAA,EAYL,MAAMC,GAAqDpe,GAGhE,ECNIqe,GAGF,CACA,CAACF,GAA8C,YAAY,EAAG,CAC1D,WAAY,CAAC,CAAE,aAAA7d,KAAmBiF,EAASjF,CAAY,EACvD,WAAY,IAAM,EACtB,EACA,CAAC6d,GAA8C,kBAAkB,EAAG,CAChE,WAAY,CAAC,CAAE,mBAAA1X,KAAyBlB,EAASkB,CAAkB,EACnE,WAAY,CAAC,CAAE,aAAAnG,KAAmBiF,EAASjF,CAAY,CAC3D,CACJ,EAEage,GAAsDvY,GAGjEsY,EAA8C,ECpB1CE,GAAkG,CACpG,CAACJ,GAA8C,YAAY,EAAG,GAC9D,CAACA,GAA8C,kBAAkB,EAAG,GACpE,CAACA,GAA8C,wBAAwB,EAAG,MAC9E,EACaK,GACTre,IAEO,CACH,aAAcA,EAAO,aACrB,mBAAoBA,EAAO,mBAC3B,yBAA0BA,EAAO,wBAAA,GAG5Bse,GAAuD,CAChE3K,EACAlC,EACAtR,IAEIsR,EACO,CACH,GAAGA,EACH,CAACuM,GAA8C,YAAY,EAAG7d,CAAA,EAG/D,CACH,GAAGie,GACH,CAACJ,GAA8C,kBAAkB,EAAG5W,EAAgBuM,CAAyB,CAAA,ECmBrH4K,GAAA,CAAA,CAAwE,iCAAAvN,EACpE,kCAAAD,CAEJ,IAAA,CACI,MAAAlP,EAAAC,KACA,CAAA,MAAA5B,GAAA4K,KACA,CAAA,eAAAoG,EAAA,cAAAD,EAAA,KAAAE,EAAA,aAAAhR,EAAA,iBAAAkQ,CAAA,EAAAe,KACA,CAAM,OAAA,CAAA,QAAA2I,EAAA,WAAAC,EAAA,UAAAC,CAAA,CACuC,EAAA3I,GAAA,EAE7CuH,EAAAqB,GAAA/I,CAAA,EACAvK,EAAAmL,GAAAZ,CAAA,EACAM,EAAA5G,KACAtH,EAAA,GACAiO,EAAAN,EAAA,YAAA,SACAtP,EAAA2P,GAAAL,EAAA,KAAA,EACA/L,EAAAyM,GAAAT,CAAA,EACAW,EAAAvM,EAAAJ,CAAA,EACAkG,EAAAnL,EAAA,kBAAA,OAAAA,EAAA,gBAAA,8BAAA,OAGA0c,EAAApL,EAEAQ,EAAAhS,GAAA,CACI,MAAAua,GAAA8D,GAAAre,CAAA,EACAqK,GAAAO,GAAAlG,EAAA1E,EAAA,eAAA,MAAA,IAAA,EAAA,CAAA,EACAkU,GAAA9O,EAAApF,EAAA,kBAAA,EAAAA,EAAA,mBAAA,OAEA,MAAA,CAAOiS,EAAA,yBAAA5H,EAAA,EAC8C4H,EAAA,kBAAAsI,EAAA,EACDtI,EAAA,gBAAAlH,GAAA/K,EAAA,YAAA,CAAA,EAC4BiS,EAAA,qBAC9D7B,GAAA,CACI,oBAAA,GACW,YAAA7M,EACrB,iBAAA8M,EACA,sBAAAA,EACuB,qBAAAyB,EACD,6BAAAtL,EACQA,EAAAsL,CAAA,EAAA,gBAAA,CAC6B,EAAA,QAAA,EAAA,EAC/C,UAAAZ,EAAA,UACc,sBAAAtP,EACH,0BAAA,GACI,4BAAA8C,EAAAqG,GAAA/K,EAAA,YAAA,CAAA,EAEmD,iBAAA,CAC5D,mBAAAua,GAAA,yBAAA,OAAArG,GAC8D,sBAAAtS,EAAAsS,GAAA,MACtB,EAC1D,qBAAA,GACsB,WAAA,OACV,mCAAA6E,GAAA,CAC8D,YAAAxV,EACtE,WAAA,GACY,qBAAA,EACU,CAAA,EACzB,yCAAA,GACyC,6BAAA8H,CAC1C,CAAA,CACH,CACL,CACJ,EAGJ,CAAA,aAAA6G,EAAA,aAAAC,CAAA,EAAAC,GAAuCJ,EACnCK,GAAA,WACaC,GAAAC,GAAAD,CAAA,CACkD,EAGnE,GAAA,CAAAsK,EACI,OAAA,KAGJ,MAAAE,EAAA,CAAAlb,EACAyY,EAAA1I,EAAAV,CAAA,EAAAA,EAAA,OAEAgM,EAAA5C,EAAAC,GAAAD,EAAA,QAAAA,EAAA,UAAA,EAAA,EAAA,GAIA0D,EAAA,GAEAb,GAAA5C,GAAAP,EAAAE,EAAA,GAAAD,CAAA,EACArY,GAAAmb,EAAAI,GAAAD,EACAvb,EAAAob,EAAAG,EAAAC,GACAjK,EAAA9B,EAAA,WACAzM,EAAAC,GAAoCqM,EAChCD,CACA,EAGJoJ,EAAA,CAAAvY,GAAAgX,GAAAC,EAAAjS,EAAAsK,EAAA,SAAA,EAEAkJ,EAAAD,EAAA1M,GAAA,CAAA,IAAAoL,EAAA,IAAAjS,CAAA,CAAA,EAAA,qBAAA,EAAA,EAAA,OAGA0E,GAAA9E,EAAAjB,EAAAJ,CAAA,CAAA,EAAA,kBACAwO,GAAA/R,EAAA0J,GAAA9E,EAAA8E,EAAA,EAAA,SAAA0I,GAAA,sCAAA,CAAA,EAGA,OAAA/S,EACIgd,GAAA,cAAoD,CAAnD,cAAAK,GACkB3K,GACXlC,EACAtR,CACA,EACJ,SAAA+R,EACU,WAAA,CAAA,CAAA,OAAAM,EAAA,cAAA7L,EAAA,IAAA,CAEN,MAAA8L,GAAA0L,GAAA,aAAA,CAAoF,GAAA3L,EAC7E,iBAAA5Q,CACH,CAAA,EAGJ,OAAAZ,EACIid,GAAA,KAAoD,CAAnD,eAAA,GACmB,yBAAA,GACU,SAAA,CAE1Bhd,EAAA+F,EAAC,CAAA,UAAA,KACa,QAAAyL,GAAA,WAAAuL,GAAA,YAAA,EAC+E,SAAA/c,EAEzFuJ,GAAC,CAAA,cAAAyT,GACkB,qBAAAD,GAAA,aACqD,4BAAAtZ,EACpE,YAAAqZ,CACa,CAAA,CACjB,CAAA,EACJ9c,EAAA+F,EAAA,CAAA,UAAA,KAAA,QAAAmT,IAAA,GAAA,SAAAlZ,EAAA0R,GAAA,CAAA,SAAA1R,EAGQmB,EAAC,CAAA,GAAA,kDACM,OAAA,CACK,mBAAA,KAAA,MAAAgY,EAAA,CAAA,EACgE,oBAAAA,EAAA,CACX,CAC7D,CAAA,CAAA,CAAA,CAAA,CAAA,EAGZnZ,EACA+F,EAAC,CAAA,QAAA,CAAApF,GAAA6Q,GAAA,WAAAuL,GAAA,kBAAA,EAG6F,SAAA/c,EAG1F4T,GAAC,CAAA,mBAAArC,EAAA,mBACkC,yBAAAA,EAAA,wBACM,CAAA,CACzC,CAAA,EACJvR,EACA+F,EAAC,CAAA,UAAA,KACa,QAAApF,GAAA6Q,GAAA,WAAAuL,GAAA,kBAAA,EAGgF,SAAA/c,EAG1FyF,GAAC,CAAA,eAAAuX,GACmB,UAAAD,GAAA,mBACyC,qBAAAlM,EACnC,cAAAnL,GACtB,aAAA,OACc,QAAAhF,GACd,WAAA,OACY,UAAAuP,EAAA,UACc,gCAAA,EACO,CAAA,CACrC,CAAA,EACJjQ,EACA+F,EAAC,CAAA,UAAA,KACa,QAAAyL,GAAA,WAAAuL,GAAA,YAAA,GAAA/K,EAAA,IAAAT,EAAA,qBAAA,QAAAA,EAAA,2BAAA,IAKsC,SAAAvR,EAAA0R,GAAA,CAAA,SAAA1R,EAI5CmB,EAAC,CAAA,GAAA,wEACM,OAAA,CACK,KAAA4Q,GAAAR,EAAA,aAAAS,CAAA,EACuD,QAAAvR,EAClD,QAAAC,EACT,CACJ,CAAA,EAAA,CAER,CAAA,EACJV,EAAA+F,EAAA,CAAA,SAAAhG,EAAA4R,GAAA,CAAA,SAAA,CAGQ3R,EAAA4R,GAAA,CAAA,QAAA,YAAA,GAAAC,GAAA,GAAAC,GAAA,gBAAA,EAAA,SAAA9R,EAAAmB,EAAA,CAAA,GAAA,gBAAA,CAAA,EAAA,EAEAqQ,GAAA,wBAAA,GAAAxR,EAAA4R,GAAA,CAAA,KAAA,SAAA,SAAAV,EAAA,QAAAA,EAAA,SAAAlQ,EAAAJ,EAAA,iBAAA,EAAA,CAII,CAAA,CAAA,CAAA,CAAA,CAGZ,CAAA,CAAA,CACJ,CAER,CAAA,CAGZ,uiBCtQY,IAAA2c,IAAAA,IACRA,EAAA,aAAe,eACfA,EAAA,0BAA4B,4BAC5BA,EAAA,eAAiB,iBAHTA,IAAAA,IAAA,CAAA,CAAA,EAYL,MAAMC,GAA2C5e,GAGtD,ECTI6e,GAGF,CACA,CAACF,GAAoC,YAAY,EAAG,CAChD,WAAY,IAAM,GAClB,WAAY,CAAC,CAAE,aAAAre,KAAmBiF,EAASjF,CAAY,CAC3D,EACA,CAACqe,GAAoC,yBAAyB,EAAG,CAC7D,WAAY,IAAM,GAClB,WAAY,CAAC,CAAE,0BAAAG,CAA0B,IAAMA,IAA8B3D,EAAQ,WACrF,iBAAkB,CAAC,CAAE,aAAA7a,KAAmBiF,EAASjF,CAAY,CACjE,EACA,CAACqe,GAAoC,cAAc,EAAG,CAClD,WAAY,CAAC,CAAE,0BAAAG,CAA0B,IAAMA,IAA8B3D,EAAQ,GACrF,WAAY,CAAC,CAAE,eAAA4D,KAAqBxZ,EAASwZ,CAAc,EAC3D,iBAAkB,CAAC,CAAE,0BAAAD,CAA0B,IAAMA,IAA8B3D,EAAQ,EAC/F,CACJ,EAEM6D,GAA4CjZ,GAGhD8Y,EAAoC,ECtBhCI,GAA8E,CAChF,CAACN,GAAoC,YAAY,EAAG,GACpD,CAACA,GAAoC,yBAAyB,EAAGxD,EAAQ,WACzE,CAACwD,GAAoC,cAAc,EAAG,EAC1D,EAEaO,GAA2C,CACpD/e,EACAgf,KAEO,CACH,qBAAsB,OACtB,eAAgBhf,EAAO,4BAA8Bgb,EAAQ,IAAMgE,EAAqBhf,EAAO,cAAA,GAI1Fif,GAA6C,CACtDxN,EACAuN,EACA7e,IACqC,CACrC,GAAIsR,EAAsB,CACtB,MAAMyN,EAA8B5Z,GAAMmM,EAAqB,cAAc,EAAE,OAC3EnM,GAAM0Z,CAAkB,EACxB,KAAA,EAGG,MAAA,CACH,aAAA7e,EACA,0BAA2B+e,EAA8BlE,EAAQ,IAAMA,EAAQ,GAC/E,eAAgBkE,EAA8B,GAAKzN,EAAqB,cAAA,EAIzE,OAAAqN,EACX,ECvCaK,GACT,CAACtd,EAAiBsD,IAAkCyZ,GAA2B,CACvE,GAAA,CAACxZ,EAASwZ,CAAc,EACjB,OAAA3c,EAAUJ,EAAM,kFAAkF,EAGzG,GAAA,CAAC0E,GAAAA,gBAAgBqY,CAAc,EACxB,OAAA3c,EACHJ,EACA,qFAAA,EAIJ,GAAAud,GAAmBR,EAAgBzZ,CAAoB,EAChD,OAAAlD,EACHJ,EACA,qGACA,CAAE,qBAAsBqF,GAAW/B,CAAoB,CAAE,CAAA,CAKrE,ECuBJka,GAAA,CAAA,CAA8D,kCAAAtO,EAC1D,iCAAAC,CAEJ,IAAA,CACI,KAAA,CAAA,MAAA9Q,GAAA4K,KACA,CAAA,eAAAoG,EAAA,MAAAoO,EAAA,cAAArO,EAAA,KAAAE,EAAA,aAAAhR,EAAA,iBAAAkQ,GAAAe,KACA,CAAA,OAAAC,GAAAC,KACA1P,EAAA2P,GAAAL,EAAA,KAAA,EACA/L,EAAAyM,GAAAT,CAAA,EACAW,EAAAvM,EAAAJ,CAAA,EACA6Z,EAAA/N,EAAA,cAAAa,EAAAX,EAAA,mBACAtP,EAAAC,KAEA0P,EAAAN,EAAA,YAAA,SACAO,EAAA5G,KACAsE,EAAA0C,GAAAZ,EAAArP,CAAA,EACA8C,EAAAC,GAAoCqM,EAChCD,CACA,EAEJnK,EAAAmL,GAAAZ,CAAA,EACA9F,EAAAnL,EAAA,kBAAA,OAAAA,EAAA,gBAAA,8BAAA,OAEA8R,EAAAhS,GAAA,CACI,MAAAuf,EAAAR,GAAiE/e,EAC7DoH,EAAA4X,CAAA,CACkC,EAEtCQ,EAAA9a,EAAAqG,GAAA/K,EAAA,YAAA,CAAA,EACAqK,GAAAO,GAAA4U,CAAA,EAEA,MAAA,CAAOvN,EAAA,yBAAA5H,EAAA,EAC8C4H,EAAA,kBAAAsN,CAAA,EACHtN,EAAA,gBAAAlH,GAAA/K,EAAA,YAAA,CAAA,EAC8BiS,EAAA,qBAC9D7B,GAAA,CACI,oBAAAjB,EACW,YAAA,GACR,iBAAAkB,EACb,sBAAAA,EACuB,qBAAAyB,EACD,6BAAAtL,EACQA,EAAAsL,CAAA,EAAA,gBAAA,CAC6B,EAAA,QAAA,EAAA,EAC/C,UAAAN,EAAA,SAAA,WACqB,sBAAA5P,EACV,0BAAA,GACI,4BAAA8C,EAAAqG,GAAA/K,EAAA,YAAA,CAAA,EAEmD,iBAAA,CAC5D,mBAAAuf,EAAA,cACqB,EACvC,qBAAA,GACsB,WAAA3Y,EACtB,mCAAAmS,GAAA,CAC0E,YAAA,GACzD,WAAA,GACD,qBAAA,EACU,CAAA,EACzB,6BAAA1N,CACD,CAAA,CACH,CACL,CACJ,EAGJ,CAAA,aAAA6G,EAAA,aAAAC,CAAA,EAAAC,GAAuCJ,EACnCK,GAAA,WACaC,GAAAC,GAAAD,CAAA,CACkD,EAKnE,GAAA,EAFAd,GAAA5P,IAAA,CAAA,CAAA0d,EAAA,iBAAArO,EAAA,gBAGI,OAAA,KAGJ,MAAAS,EAAA9P,EAAAyP,EAAA,QAAAM,EAAAV,CAAA,EAAAA,EAAA,QAAA,GAMA,OAAAhQ,EACIwd,GAAA,cAA0C,CAAzC,cAAAQ,GACkBxN,EACXrK,EAAA4X,CAAA,EACkC7e,CAClC,EACJ,SAAA+R,EACU,WAAA,CAAA,CAAA,OAAAM,KAAA,CAEN,MAAAC,EAAAgN,GAAA,aAAqEjN,CACjE,EAGJE,EAAAhO,EAAA8N,EAAA,eAAA,MAAA,IAAA,EAAA,EAEA,OAAAxR,EACIyd,GAAA,KAA0C,CAAzC,eAAA,GACmB,yBAAA,GACU,SAAA,CAE1Bxd,EAAA+F,EAAC,CAAA,UAAA,KACa,QAAAyL,EAAA,UAAA+L,GAAA,YAAA,EACoE,SAAAvd,EAE9EuJ,GAAC,CAAA,cAAAiU,GACkB,qBAAAD,GAAA,aAC2C,4BAAA9Z,EAC1D,YAAA,EACa,CAAA,CACjB,CAAA,EACJzD,EAAA+F,EAAA,CAAA,QAAAwL,EAAA,eAAA,GAAA,SAAAE,GAAAzR,EAGQwB,GAAC,CAAA,YAAA,GACgB,iBAAA,GACK,cAAAiP,EACH,QAAA,GACP,mBAAApO,GACYoP,EAChB,GACAxO,EAAA,SACS,CACb,CAAA,EAAA,EAGZjD,EACA+F,EAAC,CAAA,UAAA,KACa,QAAAyL,EAAA,UACU+L,GAAA,yBACoB,EACxC,SAAAvd,EAEAwd,GAAA,gBAA0C,CAAzC,KAAAD,GAAA,0BAC6C,OAAAvc,EAAAJ,EAAA,uDAAA,EACqC,OAAA,CACvE,IAAAI,EACCJ,EACD,iEACA,CACA,KAAA2a,GAAAwC,CAAA,CACiD,CACjD,EACJ,GAAA/c,EAAAJ,EAAA,wDAAA,CAC4E,CAChF,CAAA,CACJ,CAAA,EACJZ,EACA+F,EAAC,CAAA,UAAA,KACa,QAAAyL,EAAA,UAAA+L,GAAA,cAAA,EACsE,SAAAvd,EAEhFwd,GAAA,WAA0C,CAAzC,KAAAD,GAAA,eAC6C,MAAA,YACpC,SAAAW,GAAAtd,EAAAsD,CAAA,EAC+E,QAAAI,EAAAJ,CAAA,EACxC,YAAA,YAChC,CAAA,CACjB,CAAA,EACJlE,EAAA+F,EAAA,CAAA,SAAAhG,EAAA4R,GAAA,CAAA,SAAA,CAGQ3R,EAAA4R,GAAA,CAAA,QAAA,YAAA,GAAAC,GAAA,GAAAC,GAAA,gBAAA,EAAA,SAAA9R,EAAAmB,EAAA,CAAA,GAAA,gBAAA,CAAA,EAAA,EAEAqQ,EAAA,wBAAA,GAAAxR,EAAA4R,GAAA,CAAA,KAAA,SAAA,SAAAV,EAAA,QAAAA,EAAA,SAAAlQ,EAAAJ,EAAA,iBAAA,EAAA,CAII,CAAA,CAAA,CAAA,CAAA,CAGZ,CAAA,CAAA,CACJ,CAER,CAAA,CAGZ,mgBCpOY,IAAA6d,IAAAA,IACRA,EAAA,aAAe,eACfA,EAAA,mBAAqB,qBAFbA,IAAAA,IAAA,CAAA,CAAA,EAUL,MAAMC,GAAgD9f,GAG3D,ECRI+f,GAAwF,CAC1F,CAACF,GAAyC,YAAY,EAAG,GACzD,CAACA,GAAyC,kBAAkB,EAAG,EACnE,EAEaG,GACT7f,IAEO,CACH,mBAAoBA,EAAO,kBAAA,GAItB8f,GAAkD,CAC3D3f,EACAsR,IAEIA,EACO,CACH,GAAGA,EACH,CAACiO,GAAyC,YAAY,EAAGvf,CAAA,EAI1Dyf,GClBLG,GAGF,CACA,CAACL,GAAyC,YAAY,EAAG,CACrD,WAAY,CAAC,CAAE,aAAAvf,KAAmBiF,EAASjF,CAAY,EACvD,WAAY,IAAM,EACtB,EACA,CAACuf,GAAyC,kBAAkB,EAAG,CAC3D,WAAY,CAAC,CAAE,mBAAApZ,KAAyBlB,EAASkB,CAAkB,EACnE,WAAY,CAAC,CAAE,aAAAnG,EAAc,UAAAgP,EAAW,qBAAAhK,CAAA,IACpCE,GAA6BF,CAAoB,GAAMC,EAASjF,CAAY,GAAKgP,CACzF,CACJ,EAEa6Q,GAAiDpa,GAG5Dma,EAAyC,ECqB3C9D,GAAAC,GAAA,CACI,GAAAA,EAIA,OAAAA,EAAA,IAAAC,IAAA,CAAqC,KAAA5W,EAAA4W,EAAA,IAAA,EACL,GAAA5W,EAAA4W,EAAA,EAAA,CACJ,EAAA,CAEhC,EAOA8D,GAAA,CAAA,CAAmE,iCAAAjP,EAC/D,kCAAAD,CAEJ,IAAA,CACI,MAAAlP,EAAAC,KACA,CAAA,MAAA5B,GAAA4K,KACA,CAAA,eAAAoG,EAAA,cAAAD,EAAA,KAAAE,EAAA,aAAAhR,EAAA,iBAAAkQ,CAAA,EAAAe,KACA,CAAM,OAAA,CAAA,QAAA2I,EAAA,WAAAC,EAAA,UAAAC,CAAA,CACuC,EAAA3I,GAAA,EAE7CG,EAAA5G,KAEAQ,EAAAnL,EAAA,kBAAA,OAAAA,EAAA,gBAAA,8BAAA,OAEA0B,EAAA2P,GAAAL,EAAA,KAAA,EACAM,EAAAN,EAAA,YAAA,SACAgP,EAAAvO,EAAAV,CAAA,EAAAA,EAAA,gCAAA,IAAAA,EAAA,8BAAA,GAAA,GAGA9L,EAAAyM,GAAAT,CAAA,EACAW,EAAAvM,EAAAJ,CAAA,EACAyB,EAAAmL,GAAAZ,CAAA,EAEAa,EAAAhS,GAAA,CACI,MAAAmgB,EAAA9a,GAAAyM,CAAA,GAAAD,GAAAZ,EAAArP,CAAA,EAAA5B,EAAA,mBAAAoH,EAAAZ,EAAAA,EAAAsL,CAAA,EAAA,gBAAA,CAAA,EAAA,QAAA,EAAA,CAAA,EAKA,MAAA,CAAOG,EAAA,kBAAA4N,GAAA7f,CAAA,CAAA,EACkFiS,EAAA,gBAAAlH,GAAA/K,EAAA,YAAA,CAAA,EACTiS,EAAA,qBAC9D7B,GAAA,CACI,oBAAAjB,EACW,YAAA,GACR,iBAAAkB,EACb,sBAAAA,EACuB,qBAAAyB,EACD,6BAAAtL,EACQA,EAAAsL,CAAA,EAAA,gBAAA,CAC6B,EAAA,QAAA,EAAA,EAC/C,UAAAZ,EAAA,UACc,sBAAAtP,EACH,0BAAA,GACI,4BAAA8C,EAAAqG,GAAA/K,EAAA,YAAA,CAAA,EAEmD,iBAAA,CAC5D,mBAAAmgB,CACM,EACxB,qBAAA,GACsB,WAAAvZ,EACtB,mCAAAmS,GAAA,CAC0E,YAAA,GACzD,WAAA,GACD,qBAAA,EACU,CAAA,EACzB,6BAAA1N,CACD,CAAA,CACH,CACL,CACJ,EAGJ,CAAA,aAAA6G,EAAA,aAAAC,CAAA,EAAAC,GAAuCJ,EACnCK,GAAA,WACaC,GAAAC,GAAAD,CAAA,CACkD,EAKnE,GAAA,EAFA1Q,GAAA4P,GAAA0O,GAGI,OAAA,KAGJ,MAAA3c,EAAA,CAAA2c,EACA/Q,EAAAwC,EAAAV,CAAA,EAAA,CAAA,CAAAA,EAAA,OAAA,GACAtP,EAAAgQ,EAAAV,CAAA,EAAAqJ,GAAArJ,EAAA,QAAAA,EAAA,UAAA,EAAA,EAAA,GAGAvP,EAAA4Y,GAAAP,EAAAE,EAAA,GAAAD,CAAA,EACAoG,EAAAna,GAAA,4BAAqD6L,EACjDlL,EACAsK,EAAA,SACe,EAEnB2H,GAAAqB,GAAA/I,CAAA,EACAgJ,GAAAvB,GAAAC,GAAAjS,EAAAsK,EAAA,SAAA,EACAkJ,EAAAD,GAAA1M,GAAA,CAAA,IAAAoL,GAAA,IAAAjS,CAAA,CAAA,EAAA,qBAAA,EAAA,EAAA,OAIAlC,EAAAC,GAAoCqM,EAChCD,CACA,EAGJ,OAAA9P,EACI0e,GAAA,cAA+C,CAA9C,cAAAG,GAAA3f,EAAAsR,CAAA,EACoG,SAAAS,EACvF,WAAA,CAAA,CAAA,OAAAM,KAAA,CAEN,MAAAC,EAAAuN,GAAA,aAAA,CAA+E,GAAAxN,EACxE,UAAArD,EACH,qBAAA2C,CACsB,CAAA,EAG1BY,EAAAhO,EAAA8N,EAAA,eAAA,MAAA,IAAA,EAAA,EAEA,OAAAxR,EACI2e,GAAA,KAA+C,CAA9C,eAAA,GACmB,yBAAA,GACU,SAAA,CAE1B1e,EAAA+F,EAAC,CAAA,UAAA,IACa,QAAAyL,EAAA,WAAAiN,GAAA,YAAA,EAC0E,SAAAze,EAEpFuJ,GAAC,CAAA,cAAAmV,GACkB,qBAAAD,GAAA,aACgD,4BAAAhb,EAC/D,YAAAnB,CACA,CAAA,CACJ,CAAA,EACJtC,EACA+F,EAAC,CAAA,UAAA,KACa,QAAAyL,EAAA,WAAAiN,GAAA,YAAA,EAC0E,SAAAhN,GAAAzR,EAGhFwB,GAAC,CAAA,YAAAc,EACG,iBAAA,GACgB,cAAA7B,EAChB,QAAAC,EACA,mBAAA2B,GACoBoP,EAChBnP,EACAW,EAAA,SACS,CACb,CAAA,CACJ,CAAA,EAERjD,EAAA+F,EAAA,CAAA,UAAA,KAAA,QAAAmT,KAAA,GAAA,SAAAlZ,EAAA0R,GAAA,CAAA,SAAA1R,EAGQmB,EAAC,CAAA,GAAA,kDACM,OAAA,CACK,mBAAA,KAAA,MAAAgY,EAAA,CAAA,EACgE,oBAAAA,EAAA,CACX,CAC7D,CAAA,CAAA,CAAA,CAAA,CAAA,EAGZnZ,EACA+F,EAAC,CAAA,UAAA,KACa,QAAAyL,EAAA,WAAAiN,GAAA,kBAAA,EACgF,SAAAze,EAE1F0e,GAAA,WAA+C,CAA9C,KAAAD,GAAA,mBACkD,MAAAzd,EAAAJ,EAAA,2DAAA,EACmC,QAAA0D,EAAA6a,EAAA,OAAA,EACjC,QAAA7a,EAAA6a,EAAA,OAAA,EACA,mBAAAnE,GAAAmE,EAAA,iBAAA,EAC4B,eAAAA,EAAA,sBAC5C,SAAAja,GACvBtE,EACN0D,EAAA6a,EAAA,OAAA,EACwC7a,EAAA6a,EAAA,OAAA,CACA,EAC5C,YAAA,YACa,CAAA,CACjB,CAAA,EACJnf,EAAA+F,EAAA,CAAA,SAAAhG,EAAA4R,GAAA,CAAA,SAAA,CAGQ3R,EAAA4R,GAAA,CAAA,QAAA,YAAA,GAAAC,GAAA,GAAAC,GAAA,gBAAA,EAAA,SAAA9R,EAAAmB,EAAA,CAAA,GAAA,gBAAA,CAAA,EAAA,EAEAqQ,EAAA,wBAAA,GAAAxR,EAAA4R,GAAA,CAAA,KAAA,SAAA,SAAAV,EAAA,QAAAA,EAAA,SAAAlQ,EAAAJ,EAAA,iBAAA,EAAA,CAII,CAAA,CAAA,CAAA,CAAA,CAGZ,CAAA,CAAA,CACJ,CAER,CAAA,CAGZ,EAEAwe,GAAAJ,whBCnQY,IAAAK,IAAAA,IACRA,EAAA,mBAAqB,qBADbA,IAAAA,IAAA,CAAA,CAAA,EAQL,MAAMC,GAAuD1gB,GAGlE,ECNI2gB,GAGF,CACA,CAACF,GAAgD,kBAAkB,EAAG,CAClE,WAAY,IAAM,GAClB,WAAY,CAAC,CAAE,mBAAAha,KAAyBlB,EAASkB,CAAkB,CACvE,CACJ,EAEama,GAAwD7a,GAGnE4a,EAAgD,ECjBrCE,GACTxgB,GAEKA,EAME,CACH,mBAAoBA,EAAM,kBAAA,EANnB,CACH,mBAAoB,EAAA,ECyChCygB,GAAA,CAAA,CAA0E,kCAAA5P,EACtE,iCAAAC,EACA,yBAAA4P,CAEJ,IAAA,CACI,MAAAC,EAAAzP,KACA,CAAA,MAAAlR,GAAA4K,KACAjJ,EAAAC,KACA,CAAA,KAAAqP,EAAA,eAAAD,EAAA,cAAAD,EAAA,iBAAAZ,CAAA,EAAAwQ,EACAjf,EAAA2P,GAAAL,EAAA,KAAA,EACAO,EAAA5G,KACAgJ,EAAAjC,GAAAT,CAAA,EACA2P,EAAAvb,EAAAsO,CAAA,EACArC,EAAAN,EAAA,YAAA,SACAR,EAAAQ,EAAA,YAAA,WACA/B,EAAA0C,GAAAZ,EAAArP,CAAA,EACAwX,EAAA,CAAA2H,GAAwB7P,EAAA,MACLtP,EACfqP,CACA,EAEJ5F,EAAAnL,EAAA,kBAAA,OAAAA,EAAA,gBAAA,8BAAA,OAEAqD,EAAA,GACAqD,EAAAmL,GAAAZ,CAAA,EACAV,EAAAsI,GAAA,CAAiF,YAAAxV,EAC7E,WAAA,GACY,qBAAA,EACU,CAAA,EAG1Byd,EAAAJ,GAAAA,EAAA,WAAA,OAAA,EAAAxZ,EAEUwZ,EAAA,WAAAA,EAAA,WAAA,OAAA,CAAA,EAAA,YAAA,GACoG,EAAA,OAG9G5O,EAAAhS,GAAA,CACI,MAAAuf,EAAA,CAA6E,mBAAAvf,EAAA,kBAC9C,EAE/BihB,EAAAvc,EAAAqG,GAAAmW,EAAA,YAAA,CAAA,EACA7W,EAAAO,GAAAlG,EAAAwc,EAAA,YAAA,CAAA,EACAC,GAAA/Q,GAAA,CAA4C,oBAAAjB,EACnB,YAAA5L,EACrB,iBAAA8M,EACA,sBAAAA,EACuB,qBAAAyQ,EACD,6BAAAta,EAAAA,EAAAsa,CAAA,EAAA,gBAAA,CAAA,EAAA,QAC6E,EAC/F,EACJ,UAAAtP,EAAA,SAAA,WACiC,sBAAA5P,EACV,0BAAA,GACI,4BAAAqf,EACE,iBAAA,CACX,qBAAAD,EACQ,sBAAAhhB,EAAA,mBACQ,kCAAA,OACK,iCAAA,MACD,EACtC,qBAAAoZ,EACsB,WAAAxS,EACtB,mCAAA6J,EACA,6BAAApF,CACA,CAAA,EAEJ,IAAAoP,GAEA,OAAAmG,GAAAO,GAAA,OAAA,EACI1G,GAAAvB,GAAyB0H,EAAA,WACIO,GACzBL,EACArQ,EACAC,EACA0I,EACAxX,EACAyJ,CACA,EACJuV,EAEAnG,GAAAmG,EAAA,WAEAnG,GAAA0G,GAGJ,CAAOlP,EAAA,yBAAA5H,CAAA,EAC8C4H,EAAA,kBAAAsN,CAAA,EACHtN,EAAA,gBAAAiP,EAAA,YAAA,EACKjP,EAAA,qBAAAwI,EAAA,CACM,CAC7D,EAGJ,CAAA,aAAAvI,EAAA,aAAAC,CAAA,EAAAC,GAAuCJ,EACnCK,GAAA,WACaC,GAAAC,GAAAD,CAAA,CACkD,EAGnE,GAAA,CAAAsO,GAAA,CAAAhf,EACI,OAAA,KAGJ,MAAAD,EAAAgQ,EAAAV,CAAA,EAAAA,EAAA,QAAA,GACA,CAAA,SAAAiQ,EAAA,WAAA/N,CAAA,EAAAyN,EAEAlb,GADAyN,EAAA,OAAA5F,GAAA6T,GAAA7T,CAAA,GAAAA,EAAA,WAAArJ,EAAA,GAAA,EACA,QAAA,EAAA,CAAA,EAAA,YAAA,IAEAQ,EAAAC,GAAoCqM,EAChCD,CACA,EAGJ,OAAA9P,EACIsf,GAAA,cAAsD,CAArD,cAAAG,GAAAjP,CAAA,EAC6F,SAAAS,EAChF,WAAA,CAAA,CAAA,OAAAM,EAAA,cAAA7L,CAAA,IAAA,CAEN,MAAA8L,EAAAgO,GAAA,aAAyEjO,CACrE,EAEJ6O,EAAA3c,EAAAwc,EAAA,YAAA,EAEA,OAAAlgB,EACIuf,GAAA,KAAsD,CAArD,eAAA,GACmB,yBAAA,GACU,SAAA,CAE1Btf,EAAA+F,EAAA,CAAA,UAAA,KAAA,SAAA/F,EACIqgB,GAAC,CAAA,gBAAAV,EACoB,oBAAA,GACI,4BAAAS,CACQ,CAAA,EAAA,EAErCpgB,EAAA+F,EAAA,CAAA,UAAA,KAAA,SAAA/F,EAEIyF,GAAC,CAAA,eAAA6Z,GACmB,UAAAD,GAAA,mBAC2C,qBAAAQ,EACrC,cAAAna,EACtB,aAAAjB,GACA,QAAA/D,EACA,WAAAiF,EACA,UAAAsK,EAAA,UAC0B,gCAAA,EACO,CAAA,EAAA,EAEzCjQ,EAAA+F,EAAA,CAAA,SAAAhG,EAAA4R,GAAA,CAAA,SAAA,CAGQ3R,EAAA4R,GAAA,CAAA,QAAA,YAAA,GAAAC,GAAA,GAAAC,GAAA,gBAAA,EAAA,SAAA9R,EAAAmB,EAAA,CAAA,GAAA,gBAAA,CAAA,EAAA,EAEAqQ,EAAA,wBAAA,GAAAxR,EAAA4R,GAAA,CAAA,KAAA,SAAA,SAAAV,EAAA,QAAAA,EAAA,SAAAlQ,EAAAJ,EAAA,iBAAA,EAAA,CAII,CAAA,CAAA,CAAA,CAAA,CAGZ,CAAA,CAAA,CACJ,CAER,CAAA,CAGZ,isBC/LO,MAAM0f,GAAwB,CAAC,CAClC,SAAA/P,EACA,iBAAA5P,EACA,qBAAAoX,EACA,2BAAAwI,EACA,qBAAAC,EACA,yBAAAb,EACA,WAAAlQ,EACA,sCAAAiM,EACA,yBAAA+E,CACJ,IACQlQ,GAAY5P,IAAqBoX,GAAwBwI,GAClD,qCAEPE,EACOlQ,EAAW,uCAAyC,yCAI3D5P,GACA4P,GACAiQ,IACCb,IAA6B,QAAaA,EAAyB,WAAW,SAAW,GAEnF,8BAGPhf,GAAoB4P,GAAY,CAACiQ,EAC1B,gCAGPb,GAA4Bhf,EACrB,yCAGP8O,IAAeiM,GAAyC6E,GAA8BxI,GAC/E,iBAGJ,YCzCX2I,GAAA,CAAA,CAA2D,kCAAA5Q,EACvD,iCAAAC,EACA,yBAAA4P,CAEJ,IAAA,CACI,KAAA,CAAA,eAAA1P,EAAA,MAAAoO,EAAA,cAAArO,CAAA,EAAAG,GAAA,EACAI,EAAAN,EAAA,YAAA,SACAR,EAAAQ,EAAA,YAAA,WACAtP,EAAA2P,GAAAL,EAAA,KAAA,EACAuQ,EAAA9P,EAAAV,CAAA,EAAA,CAAA,CAAAA,EAAA,+BAAA,CAAA,CAAAA,EAAA,4BAAA,GAGA0L,EAAAhL,EAAAV,CAAA,EAAAA,EAAA,gCAAA,OAAA,GAGAyQ,EAAAE,GAAA3Q,CAAA,EAcA,OAZAsQ,GAAA,CAAuC,SAAA/P,EACnC,iBAAA5P,EACA,qBAAA,CAAA,CAAA0d,EAAA,gBAC8B,2BAAArO,EAAA,cACY,qBAAAwQ,EAC1C,WAAA/Q,EACA,yBAAAkQ,EACA,sCAAAjE,EACA,yBAAA+E,CACA,CAAA,EAGJ,CAAkB,IAAA,qCAEV,OAAAzgB,EACI4gB,GAAC,CAAA,kCAAA9Q,EACG,iCAAAC,CACA,CAAA,EACJ,IAAA,8BAGJ,OAAA/P,EACI6P,GAAC,CAAA,kCAAAC,EACG,iCAAAC,EACA,yBAAA4P,CACA,CAAA,EACJ,IAAA,gCAGJ,OAAA3f,EACIgf,GAAC,CAAA,kCAAAlP,EACG,iCAAAC,CACA,CAAA,EACJ,IAAA,yCAGJ,OAAA/P,EACI0f,GAAC,CAAA,kCAAA5P,EACG,iCAAAC,EACA,yBAAA4P,CACA,CAAA,EACJ,IAAA,iBAGJ,OAAA3f,EACIyb,GAAC,CAAA,kCAAA3L,EACG,iCAAAC,CACA,CAAA,EACJ,IAAA,YAGJ,OAAA/P,EACI4Y,GAAC,CAAA,kCAAA9I,EACG,iCAAAC,EACA,mBAAA4P,CACoB,CAAA,EACxB,IAAA,uCAGJ,OAAA3f,EACIsd,GAAC,CAAA,kCAAAxN,EACG,iCAAAC,CACA,CAAA,EACJ,IAAA,yCAGJ,OAAA/P,EACI6c,GAAC,CAAA,kCAAA/M,EACG,iCAAAC,CACA,CAAA,CACJ,CAGhB,mmBCrGA,MAAM8Q,GAAsB,CAACC,EAAsB9Q,IAC3C8Q,EACO,GAGPpQ,EAAuBV,CAAa,EAC7B,CAAC,CAACA,EAAc,8BAGpB,GAGL+Q,GAAsB,CAACD,EAAsB9Q,IAC1C8Q,EAIDpQ,EAAuBV,CAAa,EAC7B,CAAC,CAACA,EAAc,8BAGpB,GAPI,GAUTgR,GAA+BhR,GAC7BU,EAAuBV,CAAa,EAC7B,CAAC,CAACA,EAAc,4BAGpB,GAGLiR,GAA6B,CAAC/Q,EAAYgR,IAAoC,CAChF,GAAIpN,GAAW5D,CAAI,GAAKiR,GAAYjR,CAAI,EACpC,OAAOgR,GAAkD/a,EAAgB+J,EAAK,UAAU,CAIhG,EAEakR,GAAuD,CAChEF,EACAG,IAEIA,GAIGH,GAAkD,OAGhDI,GAAuD,CAChE3gB,EACA4gB,EACAC,IAEI7gB,GAAoB6gB,EACbA,EAGJD,EAGLE,GAAwB,CAC1BviB,EACAgR,EACAF,EACAC,EACAyR,EACAC,EACAC,EACA5P,EACA6P,IACoC,CAC9B,MAAAf,EAAcxQ,GAAiBL,EAAe,KAAK,EACnD/L,EAAuBI,EAAgBqM,GAAuBT,CAAI,CAAC,EACnEb,EAAwBiB,GAAiBL,EAAe,KAAK,EAC5D,MAAA,CACH,WAAY+B,EAAW,SAAS,EAChC,eAAgBrB,GAAuBT,CAAI,EAC3C,aAAAhR,EACA,iBAAkB2hB,GAAoBC,EAAa9Q,CAAa,EAChE,iBAAkB+Q,GAAoBD,EAAa9Q,CAAa,EAChE,mCAAoCgR,GAA4BhR,CAAa,EAC7E,kBAAA2R,EACA,kBAAAD,EACA,YAAa5N,GAAW5D,CAAI,EAAI/J,EAAgB+J,EAAK,cAAc,CAAC,CAAC,EAAI,OACzE,wBACIoL,GAAoBpL,CAAI,GAAKmM,GAAkBnM,CAAI,EAAI/J,EAAgB+J,EAAK,aAAa,EAAI,OACjG,WAAY+Q,GAA2B/Q,EAAM2R,CAAiB,EAC9D,WAAYzd,GAA6BF,CAAqB,EAC9D,MAAO,CAACmL,EACR,iBAAkBuB,GAAaZ,EAAeX,CAAqB,EACnE,4BAAAuS,CAAA,CAER,EC7EME,GAAiB,IAAM,OACzB,MAAMlhB,EAAOC,KAEP+e,EAASzP,KACT,CAAE,SAAA4R,EAAU,MAAA9iB,CAAM,EAAI4K,GAA8B,EAEpD,CAAE,KAAAqG,EAAM,cAAAF,EAAe,eAAAC,EAAgB,MAAAoO,GAAUuB,EACjDjf,EAAmB2P,GAAiBL,EAAe,KAAK,EACxD,CAAE,gBAAAwH,CAAoB,EAAA4G,EACtB,CAAE,gBAAA2D,EAAiB,gBAAAC,CAAoB,EAAAhjB,EAEvC2iB,EACFI,IAAoB,OAAYA,EAAgB,qBAAuB,OACrE5X,EACFnL,EAAM,kBAAoB,OAAYA,EAAM,gBAAgB,8BAAgC,OAE1FijB,EACFxR,EAAuBV,CAAa,GAAKA,EAAc,gBAAkB,GAAQA,EAAc,IAAM,OACnGmS,EAA6C,EAAAD,IAAiB,QAAaA,IAAiB,IAC5Fhe,EAAuByM,GAAuBT,CAAI,EAClDkS,EAAUtO,GAAW5D,CAAI,GAAKA,EAAK,MAAQ,UAAamS,EAAAnS,EAAK,MAAL,YAAAmS,EAAU,QAAS,EAAInS,EAAK,IAAI,CAAC,EAAI,OAC7F,CAAE,6BAAAoS,EAA8B,8BAAAC,EAA+B,sCAAAC,GACjEC,GAAI,uBACAP,EACAE,EACAle,EACAie,CAAA,EAGFO,EAA2BC,GAA4BhiB,EAAkB8W,EAAiBzH,CAAa,EACvG4S,EAAqBC,GAAsB,CAACliB,EAAkB8W,EAAiBzH,CAAa,EAE5F8S,EAA8BC,GAAA,QAChC,IACIC,GACIV,EACApS,EACAvP,EACAuD,EACAkG,CACJ,EACJ,CAACkY,EAA8BpS,EAAMvP,EAAkBuD,EAAsBkG,CAA4B,CAAA,EAG7G6Y,GAAmB7R,GAAa,eAAe,EAE/C,MAAM8R,EAA0B9B,GAC5Ba,GAAA,YAAAA,EAAiB,SAAS,WAC1Ba,GAAA,YAAAA,EAA6B,SAAS,UAAA,EAGpCK,EAA0B7B,GAC5B3gB,EACAuP,EAAK,WACL4S,GAAA,YAAAA,EAA6B,SAAS,UAAA,EAG1ClM,GAAAA,UAAU,IAAM,CACZ,GAAIjW,GAAoBif,EAAO,KAAK,aAAeuD,EAAyB,CACxE,MAAMC,EAA+B,CACjC,GAAGxD,EACH,KAAM,CAAE,GAAGA,EAAO,KAAM,WAAYuD,CAAwB,CAAA,EAEvDpB,EAAA/Q,EAAc,UAAUoS,CAA4B,CAAC,IAEnE,CAACziB,EAAkBwiB,EAAyBpB,EAAUnC,CAAM,CAAC,EAGhEhJ,GAAAA,UAAU,IAAM,CACRkM,IAAgC,SAChCf,EAAS/Q,EAAc,cAAc8R,EAA4B,UAAU,CAAC,EACnEf,EAAA/Q,EAAc,mBAAmB8R,CAA2B,CAAC,EAC7Df,EAAA/Q,EAAc,iCAAiC,EAAI,CAAC,EACjE,EACD,CAAC8R,EAA6Bf,CAAQ,CAAC,EAE1CnL,GAAAA,UAAU,IAAM,CACHmL,EAAA/Q,EAAc,qBAAqB,EAAK,CAAC,CAAA,EACnD,CAAC+Q,CAAQ,CAAC,EAEb,KAAM,CAAE,gCAAiCsB,EAAmB,iCAAAC,GACxDb,GAAI,oBACAhB,GACI1d,GAAa,eACbmM,EACAF,EACAC,EACAyS,EACAE,EACAzc,EAAgByb,CAA2B,EAC3CuB,EACAD,CACJ,EACAf,EACM,GACAK,IAA0Ce,GAAc,QAAA,EAEhE,CAAE,gCAAiCC,CAAiB,EAAIf,GAAI,oBAC9DhB,GACI1d,GAAa,aACbmM,EACAF,EACAC,EACAyS,EACAE,EACAzc,EAAgByb,CAA2B,EAC3CuB,EACAD,CACJ,EACAf,EACM,GACAK,IAA0Ce,GAAc,QAAA,EAE5DE,GAAiBC,KACjBC,GAAyBC,KAkB3B,OAhBJhN,GAAAA,UAAU,IAAM,CACZ,GAAI0M,EACA,MAAAO,GAAyBP,CAAgC,EACnD,IAAI,MACN,yHAAA,EAGR,GAAIf,EACA,MAAAsB,GAAyBtB,CAA6B,EAChD,IAAI,MACN,8IAAA,CAER,EACD,CAACe,EAAkCf,CAA6B,CAAC,EAGhE,CAACc,GACD,CAACG,GACAhB,IAA0Ce,GAAc,UACrD,CAACpB,EAGAniB,EAAA,MAAA,CAAI,MAAO,CAAE,UAAW,SAAU,QAAS,SACxC,EAAA,SAAAA,EAAC8jB,GAAO,CAAA,KAAK,UAAU,CAC3B,CAAA,EAKJ9jB,EAAC+jB,GAAA,CACG,YAAa/iB,EAAUJ,EAAM,oBAAoB,EACjD,aAAa,iBACb,UAAWI,EAAUJ,EAAM,uBAAuB,EAClD,SAAU6iB,GACV,gBAAiBE,GACjB,MAAOK,GAAWpjB,EAAM,EAAK,EAE7B,SAAAZ,EAAC0gB,GAAA,CACG,kCAAmC2C,EACnC,iCAAkCG,EAClC,yBAA0BV,CAAA,CAC9B,CAAA,CAAA,CAGZ,EAEAmB,GAAenC"}
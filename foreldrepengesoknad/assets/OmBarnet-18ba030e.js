import{a as S,F as y,j as r}from"./jsx-runtime-670450c2.js";import{d as B,k as de,m as me,h as u,n as J,o as pe,p as ue,q as ce,j as q,r as fe,s as Be,i as ke}from"./validationUtils-67294d5c.js";import{i as o,u as N,F}from"./IntlProvider-dc729df9.js";import"./index-7e4e529b.js";import{B as d}from"./Block-01b0ab76.js";import{u as ge,a as Se,S as ve,g as Oe,s as Ee}from"./useFortsettSøknadSenere-e3f0df02.js";import"./index-f1f749bf.js";import{u as Ne,f as x,a as be}from"./mapSøkerinfoDTO-f7746f82.js";import{l as he}from"./index-feafd352.js";import{u as Fe}from"./useOnValidSubmit-cccef928.js";import{b as _,a as X,c as U,m as De,l as Ae,B as O,n as ye,o as H,p as Te,u as Ie,g as je}from"./useSøknad-e0725e39.js";import{u as Ve}from"./useSøkerinfo-2468b7ec.js";import{l,ap as b,au as _e,I as k,ay as Ye,O as $,f as Re}from"./periodeUtils-f04fe3f4.js";import{V as j}from"./VeilederNormal-911fc82a.js";import{F as C}from"./FormikFileUploader-235a07ed.js";import{A as D}from"./FormikFileInput-1aab3cd0.js";import{S as A}from"./Skjemanummer-77149054.js";import{_ as V}from"./veilederpanel-a75452fb.js";import{U as Ue}from"./UtvidetInformasjon-33c789c9.js";import{l as Me}from"./links-4dae79fa.js";import{_ as Pe}from"./lenke-89551c9a.js";import{Q as Ge}from"./index-47edccfa.js";import{a as we,c as K}from"./formUtils-05ec5f16.js";import{l as M}from"./vedleggUtils-7804bea0.js";import{u as Le,s as We}from"./useSaveLoadedRoute-c343dcd2.js";import{R as z}from"./RegistrertePersonalia-7c5e16ba.js";import{l as qe}from"./index-781d69e8.js";import{e as $e,f as Ce}from"./velkommenUtils-1673046b.js";var n=(e=>(e.erBarnetFødt="erBarnetFødt",e.adopsjonAvEktefellesBarn="adopsjonAvEktefellesBarn",e.antallBarn="antallBarn",e.antallBarnSelect="antallBarnSelect",e.adopsjonsdato="adopsjonsdato",e.søkerAdopsjonAlene="søkerAdopsjonAlene",e.adoptertIUtlandet="adoptertIUtlandet",e.fødselsdatoer="fødselsdatoer",e.termindato="termindato",e.omsorgsovertakelse="omsorgsovertakelse",e.terminbekreftelse="terminbekreftelse",e.terminbekreftelsedato="terminbekreftelsedato",e.ankomstdato="ankomstdato",e))(n||{});const f=l.getTypedFormComponents();B.extend(de);B.extend(me);const Ke=e=>t=>{if(!u(t))return o(e,"valideringsfeil.omBarnet.fødselsdato.duMåOppgi");if(!b.isISODateString(t))return o(e,"valideringsfeil.omBarnet.fødselsdato.ugyldigDatoFormat");if(J(t))return o(e,"valideringsfeil.omBarnet.fødselsdato.måVæreIdagEllerTidligere");if(B(t).isBefore(B(new Date).subtract(3,"years").subtract(4,"months"),"day"))return o(e,"valideringsfeil.omBarnet.fødselsdato.ikkeMerEnn3År3MndTilbake")},Z=e=>(t,a)=>{if(!u(t))return o(e,"valideringsfeil.omBarnet.fødselsdato.duMåOppgi");if(!b.isISODateString(t))return o(e,"valideringsfeil.omBarnet.fødselsdato.ugyldigDatoFormat");if(J(t))return o(e,"valideringsfeil.omBarnet.fødselsdato.måVæreIdagEllerTidligere");if(_e(a,t))return o(e,"valideringsfeil.omBarnet.fødselsdato.måVæreFørAdopsjonsdato");if(!pe(t,a))return o(e,"valideringsfeil.omBarnet.fødselsdato.ikkeMerEnn15År3MndTilbake")},Qe=e=>t=>{if(!u(t))return o(e,"valideringsfeil.omBarnet.termindato.duMåOppgi");if(!b.isISODateString(t))return o(e,"valideringsfeil.omBarnet.termindato.ugyldigDatoFormat");if(!ue(t))return o(e,"valideringsfeil.omBarnet.termindato.forTidlig");if(!ce(t))return o(e,"valideringsfeil.omBarnet.termindato.duMåVæreIUke22")},ee=(e,t)=>a=>{if(!u(a))return o(t,"valideringsfeil.omBarnet.termindato.duMåOppgi");if(!b.isISODateString(a))return o(t,"valideringsfeil.omBarnet.termindato.ugyldigDatoFormat");if(!B(a).subtract(6,"months").isSameOrBefore(B(e),"day"))return o(t,"valideringsfeil.omBarnet.termindato.forLangtFremITid");if(!B(a).add(1,"months").isSameOrAfter(B(e),"day"))return o(t,"valideringsfeil.omBarnet.termindato.forLangtTilbakeITid")},te=e=>t=>{if(!u(t))return o(e,"valideringsfeil.omBarnet.adopsjonsdato.duMåOppgi");if(!b.isISODateString(t))return o(e,"valideringsfeil.omBarnet.adopsjonsdato.ugyldigDatoFormat")},xe=e=>(t,a)=>{if(!u(t))return o(e,"valideringsfeil.omBarnet.ankomstDato.duMåOppgi");if(!b.isISODateString(t))return o(e,"valideringsfeil.omBarnet.ankomstDato.ugyldigDatoFormat");if(a!==void 0&&!B(a).isSameOrBefore(t,"day"))return o(e,"valideringsfeil.omBarnet.ankomstDato.førFødselsdato")},He=e=>t=>{if(!u(t))return o(e,"valideringsfeil.omBarnet.terminbekreftelseDato.duMåOppgi");if(!b.isISODateString(t))return o(e,"valideringsfeil.omBarnet.terminbekreftelseDato.ugyldigDatoFormat");if(B().isBefore(B(t)))return o(e,"valideringsfeil.omBarnet.terminbekreftelseDato.kanIkkeVæreFremITid")},P=({søkersituasjon:e,formValues:t,visibility:a,søknadGjelderEtNyttBarn:s})=>{const i=N();return e.situasjon==="fødsel"||t.adopsjonAvEktefellesBarn!==l.YesOrNo.NO?null:S(y,{children:[r(d,{padBottom:"l",children:r(f.DatePicker,{label:o(i,"omBarnet.adopsjonsdato.annetBarn"),name:n.adopsjonsdato,validate:te(i),placeholder:"dd.mm.åååå"})}),r(d,{padBottom:"l",visible:a.isVisible(n.antallBarn),children:r(f.RadioPanelGroup,{name:n.antallBarn,radios:[{label:o(i,"omBarnet.radiobutton.ettBarn"),value:"1"},{label:o(i,"omBarnet.radiobutton.toBarn"),value:"2"},{label:o(i,"omBarnet.radiobutton.flere"),value:"3"}],useTwoColumns:!0,legend:o(i,"omBarnet.antallBarn.adopsjon.født")})}),r(d,{padBottom:"l",visible:t.antallBarn!==void 0&&s&&parseInt(t.antallBarn,10)>=3,children:S(f.Select,{name:n.antallBarnSelect,children:[r("option",{value:""}),r("option",{value:"3",children:"3"}),r("option",{value:"4",children:"4"}),r("option",{value:"5",children:"5"}),r("option",{value:"6",children:"6"}),r("option",{value:"7",children:"7"}),r("option",{value:"8",children:"8"}),r("option",{value:"9",children:"9"})]})}),r(d,{padBottom:"l",visible:a.isVisible(n.fødselsdatoer),children:r(q,{name:n.fødselsdatoer,render:()=>[...Array(parseInt(t.antallBarn,10))].map((m,p)=>r(d,{padBottom:"l",children:r(f.DatePicker,{name:`${n.fødselsdatoer}.${p}`,label:t.antallBarn==="1"?o(i,"omBarnet.fødselsdato"):o(i,`omBarnet.fødselsdato.adopsjon.${p+1}`),minDate:B(t.adopsjonsdato).subtract(15,"years").toDate(),maxDate:k(t.adopsjonsdato),validate:c=>Z(i)(c,t.adopsjonsdato),placeholder:"dd.mm.åååå",showYearSelector:!0},`${n.fødselsdatoer}.${p}`)},p))})}),r(d,{padBottom:"l",visible:a.isVisible(n.adoptertIUtlandet),children:r(f.YesOrNoQuestion,{name:n.adoptertIUtlandet,legend:o(i,"omBarnet.adopteresFraUtlandet")})}),r(d,{padBottom:"l",visible:a.isVisible(n.ankomstdato),children:r(f.DatePicker,{name:n.ankomstdato,label:o(i,"omBarnet.ankomstDato"),minDate:B(t.fødselsdatoer[0]).toDate(),maxDate:B().add(6,"months").toDate(),validate:m=>xe(i)(m,t.fødselsdatoer[0]),placeholder:"dd.mm.åååå"})}),r(d,{padBottom:"l",visible:a.isVisible(n.omsorgsovertakelse),children:r(V,{fargetema:"normal",svg:r(j,{transparentBackground:!0}),children:r(F,{id:"omBarnet.veileder.omsorgsovertakelse"})})}),r(d,{visible:a.isVisible(n.omsorgsovertakelse),children:r(C,{label:o(i,"omBarnet.adopsjon.vedlegg"),name:n.omsorgsovertakelse,attachments:t.omsorgsovertakelse||[],attachmentType:D.OMSORGSOVERTAKELSE,skjemanummer:A.OMSORGSOVERTAKELSESDATO})})]})};try{P.displayName="AdopsjonAnnetBarn",P.__docgenInfo={description:"",displayName:"AdopsjonAnnetBarn",props:{søkersituasjon:{defaultValue:null,description:"",name:"søkersituasjon",required:!0,type:{name:"Søkersituasjon"}},formValues:{defaultValue:null,description:"",name:"formValues",required:!0,type:{name:"OmBarnetFormData"}},visibility:{defaultValue:null,description:"",name:"visibility",required:!0,type:{name:"QuestionVisibility<OmBarnetFormField, undefined>"}},søknadGjelderEtNyttBarn:{defaultValue:null,description:"",name:"søknadGjelderEtNyttBarn",required:!0,type:{name:"boolean"}}}}}catch{}const G=({søkersituasjon:e,formValues:t,visibility:a,søknadGjelderEtNyttBarn:s})=>{const i=N();return e.situasjon==="fødsel"||t.adopsjonAvEktefellesBarn!==l.YesOrNo.YES?null:S(y,{children:[r(d,{padBottom:"l",children:r(f.DatePicker,{label:o(i,"omBarnet.adopsjonsdato.stebarn"),name:n.adopsjonsdato,validate:te(i),placeholder:"dd.mm.åååå"})}),r(d,{padBottom:"l",visible:a.isVisible(n.antallBarn),children:r(f.RadioPanelGroup,{name:n.antallBarn,radios:[{label:o(i,"omBarnet.radiobutton.ettBarn"),value:"1"},{label:o(i,"omBarnet.radiobutton.toBarn"),value:"2"},{label:o(i,"omBarnet.radiobutton.flere"),value:"3"}],useTwoColumns:!0,legend:o(i,"omBarnet.antallBarn.adopsjon.født")})}),r(d,{padBottom:"l",visible:t.antallBarn!==void 0&&s&&parseInt(t.antallBarn,10)>=3,children:S(f.Select,{name:n.antallBarnSelect,children:[r("option",{value:""}),r("option",{value:"3",children:"3"}),r("option",{value:"4",children:"4"}),r("option",{value:"5",children:"5"}),r("option",{value:"6",children:"6"}),r("option",{value:"7",children:"7"}),r("option",{value:"8",children:"8"}),r("option",{value:"9",children:"9"})]})}),r(d,{padBottom:"l",visible:a.isVisible(n.fødselsdatoer),children:r(q,{name:n.fødselsdatoer,render:()=>[...Array(parseInt(t.antallBarn,10))].map((m,p)=>S(d,{padBottom:"l",children:[r(f.DatePicker,{name:`${n.fødselsdatoer}.${p}`,label:t.antallBarn==="1"?o(i,"omBarnet.fødselsdato"):o(i,`omBarnet.fødselsdato.adopsjon.${p+1}`),minDate:B().subtract(6,"month").toDate(),maxDate:k(t.adopsjonsdato),validate:c=>Z(i)(c,t.adopsjonsdato),placeholder:"dd.mm.åååå"},`${n.fødselsdatoer}.${p}`)," "]},p))})}),r(d,{padBottom:"l",visible:a.isVisible(n.omsorgsovertakelse),children:r(V,{fargetema:"normal",svg:r(j,{transparentBackground:!0}),children:r(F,{id:"omBarnet.veileder.omsorgsovertakelse"})})}),r(d,{visible:a.isVisible(n.omsorgsovertakelse),children:r(C,{label:o(i,"omBarnet.adopsjon.vedlegg"),name:n.omsorgsovertakelse,attachments:t.omsorgsovertakelse||[],attachmentType:D.OMSORGSOVERTAKELSE,skjemanummer:A.OMSORGSOVERTAKELSESDATO})})]})};try{G.displayName="AdopsjonEktefellesBarn",G.__docgenInfo={description:"",displayName:"AdopsjonEktefellesBarn",props:{søkersituasjon:{defaultValue:null,description:"",name:"søkersituasjon",required:!0,type:{name:"Søkersituasjon"}},formValues:{defaultValue:null,description:"",name:"formValues",required:!0,type:{name:"OmBarnetFormData"}},visibility:{defaultValue:null,description:"",name:"visibility",required:!0,type:{name:"QuestionVisibility<OmBarnetFormField, undefined>"}},søknadGjelderEtNyttBarn:{defaultValue:null,description:"",name:"søknadGjelderEtNyttBarn",required:!0,type:{name:"boolean"}}}}}catch{}const ze=({visibility:e})=>{const t=N();return S(y,{children:[r(d,{padBottom:"l",visible:e.isVisible(n.adopsjonAvEktefellesBarn),children:r(f.YesOrNoQuestion,{name:n.adopsjonAvEktefellesBarn,legend:o(t,"omBarnet.adopsjonGjelder")})}),r(d,{padBottom:"l",visible:e.isVisible(n.erBarnetFødt),children:r(f.YesOrNoQuestion,{name:n.erBarnetFødt,legend:o(t,"omBarnet.erBarnetFødt")})})]})};try{BarnFdtEllerAdoptert.displayName="BarnFdtEllerAdoptert",BarnFdtEllerAdoptert.__docgenInfo={description:"",displayName:"BarnFdtEllerAdoptert",props:{visibility:{defaultValue:null,description:"",name:"visibility",required:!0,type:{name:"QuestionVisibility<OmBarnetFormField, undefined>"}}}}}catch{}const Je=({søkersituasjon:e,formValues:t,visibility:a,søknadGjelderEtNyttBarn:s})=>{const{erBarnetFødt:i,antallBarn:m,fødselsdatoer:p}=t,c=N(),T=m!==void 0&&parseInt(m,10)>1?"omBarnet.fødselsdato.flereBarn":"omBarnet.fødselsdato";return e.situasjon==="adopsjon"||s&&i!==l.YesOrNo.YES||!s?null:S(y,{children:[r(d,{padBottom:"l",visible:a.isVisible(n.antallBarn),children:r(f.RadioPanelGroup,{name:n.antallBarn,radios:[{label:o(c,"omBarnet.radiobutton.ettBarn"),value:"1"},{label:o(c,"omBarnet.radiobutton.tvillinger"),value:"2"},{label:o(c,"omBarnet.radiobutton.flere"),value:"3"}],useTwoColumns:!0,legend:o(c,"omBarnet.antallBarn.født")})}),r(d,{padBottom:"l",visible:m!==void 0&&s&&parseInt(m,10)>=3,children:S(f.Select,{name:n.antallBarnSelect,children:[r("option",{value:""}),r("option",{value:"3",children:"3"}),r("option",{value:"4",children:"4"}),r("option",{value:"5",children:"5"}),r("option",{value:"6",children:"6"}),r("option",{value:"7",children:"7"}),r("option",{value:"8",children:"8"}),r("option",{value:"9",children:"9"})]})}),r(d,{padBottom:"l",visible:a.isVisible(n.fødselsdatoer),children:r(q,{name:n.fødselsdatoer,render:()=>[r(f.DatePicker,{name:`${n.fødselsdatoer}.0`,label:o(c,T),minDate:B().subtract(3,"years").toDate(),maxDate:B().toDate(),validate:Ke(c),placeholder:"dd.mm.åååå"},`${n.fødselsdatoer}.0`)]})}),r(d,{visible:a.isVisible(n.termindato),children:r(f.DatePicker,{name:n.termindato,label:o(c,"omBarnet.termindato.født"),minDate:B(p[0]).subtract(1,"months").toDate(),maxDate:B(p[0]).add(6,"months").toDate(),placeholder:"dd.mm.åååå",validate:ee(p[0],c)})})]})};try{Fdsel.displayName="Fdsel",Fdsel.__docgenInfo={description:"",displayName:"Fdsel",props:{søkersituasjon:{defaultValue:null,description:"",name:"søkersituasjon",required:!0,type:{name:"Søkersituasjon"}},formValues:{defaultValue:null,description:"",name:"formValues",required:!0,type:{name:"OmBarnetFormData"}},visibility:{defaultValue:null,description:"",name:"visibility",required:!0,type:{name:"QuestionVisibility<OmBarnetFormField, undefined>"}},søknadGjelderEtNyttBarn:{defaultValue:null,description:"",name:"søknadGjelderEtNyttBarn",required:!0,type:{name:"boolean"}}}}}catch{}const Xe=e=>{const t=B(e).add(12,"weeks");return B(t).isAfter(new Date,"day")},Ze=(e,t,a,s)=>{if(s==="adopsjon")return!1;let i;if(a!==void 0&&a.length>0&&(i=Ye(a).fødselsdato),!t&&!i)return!1;const m=i||k(t);return _(e)?$(m)&&a!==void 0&&a.length===0?!0:Xe(m):!0},et=(e,t,a,s)=>e===l.YesOrNo.NO&&t.length===0&&Q(a,s),E=(e,t)=>e===l.YesOrNo.NO&&t!==""&&!Re(k(t)),tt=(e,t)=>e===l.YesOrNo.NO&&E(e,t),Q=(e,t)=>_(e)?u(t)?$(new Date(t)):!1:!0,rt=(e,t)=>e==="fødsel"?t:!1,at=(e,t,a,s,i,m)=>i?E(t,e)&&a!==l.YesOrNo.UNANSWERED||!E(t,e)&&m!==void 0&&u(m[0])||t===l.YesOrNo.YES&&m!==void 0&&u(m[0]):t===l.YesOrNo.YES&&u(e)||t===l.YesOrNo.NO&&u(e)&&!E(t,e)||t===l.YesOrNo.NO&&E(t,e)&&a===l.YesOrNo.NO||t===l.YesOrNo.NO&&E(t,e)&&a===l.YesOrNo.YES&&u(s),nt={[n.adopsjonAvEktefellesBarn]:{isIncluded:({situasjon:e})=>e==="adopsjon",isAnswered:({adopsjonAvEktefellesBarn:e})=>e!==l.YesOrNo.UNANSWERED,visibilityFilter:({situasjon:e})=>e==="adopsjon"},[n.erBarnetFødt]:{isIncluded:({situasjon:e,søknadGjelderEtNyttBarn:t})=>t&&e==="fødsel",isAnswered:({erBarnetFødt:e})=>e!==l.YesOrNo.UNANSWERED,visibilityFilter:({situasjon:e,søknadGjelderEtNyttBarn:t})=>rt(e,t)},[n.antallBarn]:{isIncluded:({søknadGjelderEtNyttBarn:e})=>e,isAnswered:({antallBarn:e})=>u(e),visibilityFilter:({adopsjonAvEktefellesBarn:e,erBarnetFødt:t,adopsjonsdato:a})=>t!==l.YesOrNo.UNANSWERED||e!==l.YesOrNo.UNANSWERED&&u(a)},[n.antallBarnSelect]:{isIncluded:({antallBarn:e,søknadGjelderEtNyttBarn:t})=>parseInt(e,10)>=3&&t,isAnswered:({antallBarnSelect:e})=>u(e),visibilityFilter:({adopsjonAvEktefellesBarn:e,erBarnetFødt:t,adopsjonsdato:a,antallBarn:s})=>parseInt(s,10)>=3&&(t!==l.YesOrNo.UNANSWERED||e!==l.YesOrNo.UNANSWERED&&u(a))},[n.adopsjonsdato]:{isIncluded:({adopsjonAvEktefellesBarn:e})=>e!==l.YesOrNo.UNANSWERED,isAnswered:({adopsjonsdato:e})=>u(e),visibilityFilter:({adopsjonAvEktefellesBarn:e})=>e!==l.YesOrNo.UNANSWERED},[n.fødselsdatoer]:{isIncluded:({erBarnetFødt:e,adopsjonAvEktefellesBarn:t,søknadGjelderEtNyttBarn:a})=>a&&(e===l.YesOrNo.YES||t!==l.YesOrNo.UNANSWERED),isAnswered:({fødselsdatoer:e})=>e.length>0&&u(e[0]),visibilityFilter:({antallBarn:e})=>u(e)},[n.omsorgsovertakelse]:{isIncluded:({adopsjonAvEktefellesBarn:e})=>e!==l.YesOrNo.UNANSWERED,isAnswered:()=>!0,visibilityFilter:({adopsjonsdato:e,adopsjonAvEktefellesBarn:t,ankomstdato:a,adoptertIUtlandet:s,søknadGjelderEtNyttBarn:i,fødselsdatoer:m})=>at(e,t,s,a,i,m)},[n.termindato]:{isIncluded:({rolle:e,fødselsdatoer:t,erBarnetFødt:a,situasjon:s,valgteRegistrerteBarn:i})=>Ze(e,t[0],i,s)||a===l.YesOrNo.NO,isAnswered:({termindato:e})=>u(e),visibilityFilter:({fødselsdatoer:e,erBarnetFødt:t,antallBarn:a,valgteRegistrerteBarn:s})=>u(e[0])||t===l.YesOrNo.NO&&u(a)||s!==void 0&&s.length>0},[n.terminbekreftelse]:{isIncluded:({erBarnetFødt:e,arbeidsforhold:t,rolle:a,termindato:s})=>et(e,t,a,s),isAnswered:({terminbekreftelse:e})=>u(e),visibilityFilter:({termindato:e})=>u(e)},[n.terminbekreftelsedato]:{isIncluded:({erBarnetFødt:e,arbeidsforhold:t,rolle:a,termindato:s})=>e===l.YesOrNo.NO&&t.length===0&&Q(a,s),isAnswered:({terminbekreftelsedato:e})=>u(e),visibilityFilter:({termindato:e})=>u(e)},[n.adoptertIUtlandet]:{isIncluded:({adopsjonAvEktefellesBarn:e,adopsjonsdato:t})=>E(e,t),isAnswered:({adoptertIUtlandet:e})=>e!==l.YesOrNo.UNANSWERED,visibilityFilter:({fødselsdatoer:e,søknadGjelderEtNyttBarn:t})=>t&&u(e[0])||!t},[n.ankomstdato]:{isIncluded:({adopsjonAvEktefellesBarn:e,adopsjonsdato:t})=>tt(e,t),isAnswered:({ankomstdato:e})=>u(e),visibilityFilter:({adoptertIUtlandet:e})=>e===l.YesOrNo.YES}},ot=Ge(nt),w=({søkersituasjon:e,visibility:t,formValues:a,søknadGjelderEtNyttBarn:s})=>{const i=N();if(e.situasjon==="adopsjon"||a.erBarnetFødt!==l.YesOrNo.NO||!s)return null;const m=_(e.rolle),p=m&&u(a.termindato),c=m?"omBarnet.antallBarn.termin.far":"omBarnet.antallBarn.termin",T=m?"omBarnet.veileder.terminbekreftelse.far":"omBarnet.veileder.terminbekreftelse",I=m?"omBarnet.termindato.infotekst.farMedmor":"omBarnet.termindato.infotekst";return S(y,{children:[r(d,{padBottom:"l",visible:t.isVisible(n.antallBarn),children:r(f.RadioPanelGroup,{name:n.antallBarn,radios:[{label:o(i,"omBarnet.radiobutton.ettBarn"),value:"1"},{label:o(i,"omBarnet.radiobutton.tvillinger"),value:"2"},{label:o(i,"omBarnet.radiobutton.flere"),value:"3"}],useTwoColumns:!0,legend:o(i,c)})}),r(d,{padBottom:"l",visible:a.antallBarn!==void 0&&parseInt(a.antallBarn,10)>=3,children:S(f.Select,{name:n.antallBarnSelect,children:[r("option",{value:""}),r("option",{value:"3",children:"3"}),r("option",{value:"4",children:"4"}),r("option",{value:"5",children:"5"}),r("option",{value:"6",children:"6"}),r("option",{value:"7",children:"7"}),r("option",{value:"8",children:"8"}),r("option",{value:"9",children:"9"})]})}),r(d,{padBottom:"l",visible:t.isVisible(n.termindato),children:r(f.DatePicker,{name:n.termindato,label:o(i,"omBarnet.termindato.termin"),placeholder:"dd.mm.åååå",description:r(Ue,{apneLabel:o(i,"omBarnet.termindato.åpneLabel"),children:o(i,I)}),minDate:fe,maxDate:Be,validate:Qe(i)})}),p&&!Q(e.rolle,a.termindato)&&r(d,{padBottom:"l",children:r(V,{fargetema:"normal",svg:r(j,{transparentBackground:!0}),children:r(F,{id:"omBarnet.veileder.medMorEllerFarTermin",values:{lenke:r(Pe,{href:Me.papirsøknad,children:r(F,{id:"omBarnet.papirsøknad.lenke"})})}})})}),r(d,{padBottom:"l",visible:t.isVisible(n.terminbekreftelse),children:r(V,{fargetema:"normal",svg:r(j,{transparentBackground:!0}),children:r(F,{id:T})})}),r(d,{padBottom:"l",visible:t.isVisible(n.terminbekreftelse),children:r(C,{label:o(i,"omBarnet.terminbekreftelse.lastOpp"),name:n.terminbekreftelse,attachments:a.terminbekreftelse||[],attachmentType:D.TERMINBEKREFTELSE,skjemanummer:A.TERMINBEKREFTELSE})}),r(d,{padBottom:"l",visible:t.isVisible(n.terminbekreftelsedato),children:r(f.DatePicker,{name:n.terminbekreftelsedato,label:o(i,"omBarnet.terminbekreftelseDato"),placeholder:"dd.mm.åååå",validate:He(i),maxDate:ke})})]})};try{w.displayName="Termin",w.__docgenInfo={description:"",displayName:"Termin",props:{søkersituasjon:{defaultValue:null,description:"",name:"søkersituasjon",required:!0,type:{name:"Søkersituasjon"}},formValues:{defaultValue:null,description:"",name:"formValues",required:!0,type:{name:"OmBarnetFormData"}},visibility:{defaultValue:null,description:"",name:"visibility",required:!0,type:{name:"QuestionVisibility<OmBarnetFormField, undefined>"}},søknadGjelderEtNyttBarn:{defaultValue:null,description:"",name:"søknadGjelderEtNyttBarn",required:!0,type:{name:"boolean"}}}}}catch{}const it=()=>({[n.erBarnetFødt]:l.YesOrNo.UNANSWERED,[n.adopsjonAvEktefellesBarn]:l.YesOrNo.UNANSWERED,[n.antallBarn]:"",[n.antallBarnSelect]:"",[n.adopsjonsdato]:"",[n.fødselsdatoer]:[],[n.omsorgsovertakelse]:[],[n.termindato]:"",[n.terminbekreftelse]:[],[n.terminbekreftelsedato]:"",[n.adoptertIUtlandet]:l.YesOrNo.UNANSWERED,[n.ankomstdato]:""}),lt=(e,t)=>({erBarnetFødt:t.isVisible(n.erBarnetFødt)?e.erBarnetFødt:l.YesOrNo.UNANSWERED,adopsjonAvEktefellesBarn:t.isVisible(n.adopsjonAvEktefellesBarn)?e.adopsjonAvEktefellesBarn:l.YesOrNo.UNANSWERED,antallBarn:t.isVisible(n.antallBarn)?e.antallBarn:"",antallBarnSelect:t.isVisible(n.antallBarnSelect)?e.antallBarnSelect:"",adopsjonsdato:t.isVisible(n.adopsjonsdato)?e.adopsjonsdato:"",fødselsdatoer:t.isVisible(n.fødselsdatoer)?e.fødselsdatoer:[],omsorgsovertakelse:t.isVisible(n.omsorgsovertakelse)?e.omsorgsovertakelse:[],termindato:t.isVisible(n.termindato)?e.termindato:"",terminbekreftelse:t.isVisible(n.terminbekreftelse)?e.terminbekreftelse:[],terminbekreftelsedato:t.isVisible(n.terminbekreftelsedato)?e.terminbekreftelsedato:"",adoptertIUtlandet:t.isVisible(n.adoptertIUtlandet)?e.adoptertIUtlandet:l.YesOrNo.UNANSWERED,ankomstdato:t.isVisible(n.ankomstdato)?e.ankomstdato:""}),st=(e,t,a,s)=>{if(e!==void 0&&t==="fødsel")return{...e,type:s?O.UFØDT:O.FØDT,termindato:u(a.termindato)?k(a.termindato):void 0,fødselsdatoer:e.fødselsdatoer,antallBarn:e.antallBarn};const i=M(a.omsorgsovertakelse,D.OMSORGSOVERTAKELSE,A.OMSORGSOVERTAKELSESDATO);return a.adopsjonAvEktefellesBarn===l.YesOrNo.YES?{...e,type:O.ADOPTERT_STEBARN,adopsjonsdato:k(a.adopsjonsdato),omsorgsovertakelse:i}:{...e,type:O.ADOPTERT_ANNET_BARN,adopsjonsdato:k(a.adopsjonsdato),adoptertIUtlandet:K(a.adoptertIUtlandet),ankomstdato:a.adoptertIUtlandet===l.YesOrNo.YES?k(a.ankomstdato):void 0,omsorgsovertakelse:i}},dt=(e,t,a,s,i)=>{if(a!==void 0)return st(a,s,e,i);const m=parseInt(e.antallBarn,10)<3?parseInt(e.antallBarn,10):parseInt(e.antallBarnSelect,10);if(e.erBarnetFødt===l.YesOrNo.YES)return{type:O.FØDT,fødselsdatoer:e.fødselsdatoer.map(c=>k(c)),antallBarn:m,termindato:u(e.termindato)?k(e.termindato):void 0};if(e.erBarnetFødt===l.YesOrNo.NO){const c=M(e.terminbekreftelse,D.TERMINBEKREFTELSE,A.TERMINBEKREFTELSE);return t.length===0?{type:O.UFØDT,terminbekreftelse:c,terminbekreftelsedato:k(e.terminbekreftelsedato),antallBarn:m,termindato:k(e.termindato)}:{type:O.UFØDT,antallBarn:m,termindato:k(e.termindato)}}const p=M(e.omsorgsovertakelse,D.OMSORGSOVERTAKELSE,A.OMSORGSOVERTAKELSESDATO);return e.adopsjonAvEktefellesBarn===l.YesOrNo.YES?{type:O.ADOPTERT_STEBARN,adopsjonsdato:k(e.adopsjonsdato),antallBarn:m,fødselsdatoer:e.fødselsdatoer.map(c=>k(c)),omsorgsovertakelse:p}:{type:O.ADOPTERT_ANNET_BARN,fødselsdatoer:e.fødselsdatoer.map(c=>k(c)),adopsjonsdato:k(e.adopsjonsdato),antallBarn:m,adoptertIUtlandet:K(e.adoptertIUtlandet),ankomstdato:e.adoptertIUtlandet===l.YesOrNo.YES?k(e.ankomstdato):void 0,omsorgsovertakelse:p}},mt=(e,t)=>{const a=it();if(!e)return a;const s=e.antallBarn>2;return X(e)?{...a,erBarnetFødt:l.YesOrNo.YES,fødselsdatoer:e.fødselsdatoer.map(i=>l.dateToISOString(i)),termindato:l.dateToISOString(e.termindato),antallBarn:s?"3":e.antallBarn.toString(),antallBarnSelect:s?e.antallBarn.toString():""}:U(e)?t.length===0?{...a,erBarnetFødt:l.YesOrNo.NO,terminbekreftelse:e.terminbekreftelse||[],terminbekreftelsedato:l.dateToISOString(e.terminbekreftelsedato),termindato:l.dateToISOString(e.termindato),antallBarn:s?"3":e.antallBarn.toString(),antallBarnSelect:s?e.antallBarn.toString():""}:{...a,erBarnetFødt:l.YesOrNo.NO,termindato:l.dateToISOString(e.termindato),antallBarn:s?"3":e.antallBarn.toString(),antallBarnSelect:s?e.antallBarn.toString():""}:De(e)?{...a,adopsjonAvEktefellesBarn:l.YesOrNo.NO,fødselsdatoer:e.fødselsdatoer.map(i=>l.dateToISOString(i)),adopsjonsdato:l.dateToISOString(e.adopsjonsdato),antallBarn:s?"3":e.antallBarn.toString(),antallBarnSelect:s?e.antallBarn.toString():"",adoptertIUtlandet:we(e.adoptertIUtlandet),omsorgsovertakelse:e.omsorgsovertakelse,ankomstdato:l.dateToISOString(e.ankomstdato)}:Ae(e)?{...a,adopsjonAvEktefellesBarn:l.YesOrNo.YES,adopsjonsdato:l.dateToISOString(e.adopsjonsdato),antallBarn:s?"3":e.antallBarn.toString(),antallBarnSelect:s?e.antallBarn.toString():"",fødselsdatoer:e.fødselsdatoer.map(i=>l.dateToISOString(i)),omsorgsovertakelse:e.omsorgsovertakelse}:a},L=({valgteBarn:e,visibility:t})=>{const a=N(),s=e.length,i=e.every(c=>ye(c));e.sort($e);const m=e.map(c=>c.fødselsdato),p=e[0].fødselsdato;return S(y,{children:[r(d,{padBottom:"l",children:S("div",{children:[r(d,{padBottom:"s",children:r(qe.Element,{children:r(F,{id:"omBarnet.valgteBarn.tittel",values:{antallBarn:s}})})}),i?e.map(c=>r(d,{padBottom:"l",children:r(z,{person:c,fødselsdatoForVisning:H([c.fødselsdato]),visEtternavn:!1})},c.fnr)):r(d,{padBottom:"l",children:r(z,{person:e[0],fødselsdatoForVisning:H(m),altTekstHvisUkjentNavn:Te(void 0,m,e.length,a),visEtternavn:!1})})]})}),r(d,{visible:t.isVisible(n.termindato)&&e.length>0,children:r(f.DatePicker,{name:n.termindato,label:o(a,"omBarnet.termindato.født"),dayPickerProps:{initialMonth:p},minDate:B(p).subtract(1,"months").toDate(),maxDate:B(p).add(6,"months").toDate(),placeholder:"dd.mm.åååå",validate:ee(l.dateToISOString(p),a)})})]})};try{L.displayName="ValgteRegistrerteBarn",L.__docgenInfo={description:"",displayName:"ValgteRegistrerteBarn",props:{valgteBarn:{defaultValue:null,description:"",name:"valgteBarn",required:!0,type:{name:"RegistrertBarn[]"}},visibility:{defaultValue:null,description:"",name:"visibility",required:!0,type:{name:"QuestionVisibility<OmBarnetFormField, undefined>"}}}}}catch{}const W=()=>{const e=N(),{søkersituasjon:t,barn:a}=Ie(),{arbeidsforhold:s,registrerteBarn:i}=Ve(),{state:m}=Ne(),{søknadGjelderEtNyttBarn:p}=m,c=g=>{const R=dt(g,s,p?void 0:a,t.situasjon,Y);return[be.setOmBarnet(R)]},{handleSubmit:T,isSubmitting:I}=Fe(c,x.ANNEN_FORELDER,g=>We(g)),re=ge(),ae=Se();Le(x.OM_BARNET);const ne=g=>!U(a)&&a.fnr!==void 0&&a.fnr.length>0?a.fnr.includes(g.fnr):!1,oe=a?k(je(a)):void 0,ie=a&&X(a)?i.filter(g=>g.fnr===void 0&&Ce(g.fødselsdato,oe)):[],h=!p&&!U(a)?i.filter(g=>ne(g)).concat(ie):void 0,Y=!p&&(h===void 0||h.length===0);return r(f.FormikWrapper,{initialValues:mt(a,s),onSubmit:T,renderForm:({values:g})=>{const v=ot.getVisbility({...g,arbeidsforhold:s,situasjon:t.situasjon,rolle:t.rolle,valgteRegistrerteBarn:h,søknadGjelderEtNyttBarn:Y||p}),R=_(t.rolle)&&K(g.erBarnetFødt)===!1&&u(g.termindato)&&!$(k(g.termindato)),le=v.areAllQuestionsAnswered()&&!R;return r(ve,{bannerTitle:o(e,"søknad.pageheading"),backLinkHref:Oe("omBarnet"),activeStepId:"omBarnet",pageTitle:o(e,"søknad.omBarnet"),stepTitle:o(e,"søknad.omBarnet"),onCancel:re,onContinueLater:ae,steps:Ee(e),kompakt:!0,children:S(f.Form,{includeButtons:!1,includeValidationSummary:!0,cleanup:se=>lt(se,v),children:[h!==void 0&&h.length>0&&r(L,{valgteBarn:h,visibility:v}),r(ze,{visibility:v}),r(P,{søkersituasjon:t,formValues:g,visibility:v,søknadGjelderEtNyttBarn:p}),r(G,{søkersituasjon:t,formValues:g,visibility:v,søknadGjelderEtNyttBarn:p}),r(w,{søkersituasjon:t,formValues:g,visibility:v,søknadGjelderEtNyttBarn:Y||p}),r(Je,{søkersituasjon:t,formValues:g,visibility:v,søknadGjelderEtNyttBarn:p}),r(d,{visible:le,textAlignCenter:!0,children:r(he.Hovedknapp,{disabled:I,spinner:I,children:o(e,"søknad.gåVidere")})})]})})}})},Gt=W;try{W.displayName="OmBarnet",W.__docgenInfo={description:"",displayName:"OmBarnet",props:{}}}catch{}export{Gt as O};
//# sourceMappingURL=OmBarnet-18ba030e.js.map

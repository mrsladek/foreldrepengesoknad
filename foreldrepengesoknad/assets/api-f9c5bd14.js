import{r as l}from"./index-f1f749bf.js";import{g as k}from"./apiInterceptor-8762a5cd.js";import{E as N}from"./getTypedFormComponents-b4bc17b3.js";import{y as w,h as C}from"./validationUtils-f899988d.js";import{R as H,D as v}from"./dateUtils-c998f5da.js";import"./jsx-runtime-670450c2.js";import"./index-7e4e529b.js";const P=()=>{window.location.href=N.LOGIN_URL+"?redirect="+window.location.origin};var o=(e=>(e.UNFETCHED="Unfetched",e.IN_PROGRESS="InProgress",e.FINISHED="Finished",e))(o||{});const U={config:{},isSuspended:!1},m=(e,t=U)=>{const[r,d]=l.useState(),[u,S]=l.useState(null),[n,a]=l.useState(o.UNFETCHED),c=t.fnr?k(t.fnr):k();return l.useEffect(()=>{!t.isSuspended&&n===o.UNFETCHED&&(a(o.IN_PROGRESS),c.get(e,t.config).then(s=>{s.data===""?d(void 0):d(s.data),a(o.FINISHED)}).catch(s=>{s.response&&(s.response.status===401||s.response.status===403)?P():S(s),a(o.FINISHED)}))},[t,e,c,n]),{data:r,error:u,requestStatus:n}},y=(e,t,r=U)=>{const[d,u]=l.useState(),[S,n]=l.useState(null),[a,c]=l.useState(o.UNFETCHED),s=r.fnr?k(r.fnr):k();return l.useEffect(()=>{!r.isSuspended&&a===o.UNFETCHED&&(c(o.IN_PROGRESS),s.post(e,t,r.config).then(i=>{i.data===""?u(void 0):u(i.data),c(o.FINISHED)}).catch(i=>{i.response&&(i.response.status===401||i.response.status===403)?P():n(i),c(o.FINISHED)}))},[r,e,s,a,t]),{data:d,error:S,requestStatus:a}},G=(e,t)=>w.isISODateString(t)?t:!Array.isArray(t)&&H(t,[H.HTML5_FMT.DATE,"YYYY-MM-DDTHH:mm:ss.SSSZ"],!0).isValid()?new Date(t):t,O=e=>{if(e)return JSON.parse(e,G)},g=(e,t)=>C(e)?v(e,t):void 0,_=N.UTTAK_API_URL,M="/soknad",Y="/soknad/endre",q=()=>{const{data:e,error:t}=m("/sokerinfo",{config:{withCredentials:!0}});return{søkerinfoData:e,søkerinfoError:t}},L=()=>{const{data:e,error:t}=m("/innsyn/v2/saker",{config:{withCredentials:!0}});return{sakerData:e,sakerError:t}},b=(e,t,r,d)=>{const u={annenPartFødselsnummer:e,barnFødselsnummer:t,familiehendelse:r},{data:S,error:n,requestStatus:a}=y("/innsyn/v2/annenPartVedtak",u,{config:{withCredentials:!0},isSuspended:d});return n&&n.message.includes("Ugyldig ident")?{eksisterendeSakAnnenPartData:void 0,eksisterendeSakAnnenPartError:void 0,eksisterendeSakAnnenPartRequestStatus:o.FINISHED}:{eksisterendeSakAnnenPartData:S,eksisterendeSakAnnenPartError:n,eksisterendeSakAnnenPartRequestStatus:a}},j=()=>{const{data:e,error:t}=m("/storage",{config:{transformResponse:O,withCredentials:!0}});return{storageData:e,storageError:t}},x=(e,t)=>{const{søknad:r,version:d,currentRoute:u,uttaksplanInfo:S,antallUkerIUttaksplan:n,eksisterendeSak:a,endringstidspunkt:c,harAnnenPartEksisterendeSak:s,harEksisterendeSak:i,perioderSomSkalSendesInn:E,harUttaksplanBlittSlettet:D,søknadGjelderEtNyttBarn:p,barnFraNesteSak:I,brukerSvarteJaPåAutoJustering:A,annenPartsUttakErLagtTilIPlan:h}=e;return k(t).post("/storage",{søknad:r,version:d,currentRoute:u,uttaksplanInfo:S,antallUkerIUttaksplan:n,eksisterendeSak:a,endringstidspunkt:c,harAnnenPartEksisterendeSak:s,harEksisterendeSak:i,perioderSomSkalSendesInn:E,harUttaksplanBlittSlettet:D,søknadGjelderEtNyttBarn:p,barnFraNesteSak:I,brukerSvarteJaPåAutoJustering:A,annenPartsUttakErLagtTilIPlan:h},{withCredentials:!0})},B=e=>k(e).delete("/storage",{withCredentials:!0}),V=e=>k(e).get("/storage/kvittering/foreldrepenger",{withCredentials:!0,timeout:15*1e3}),J=(e,t=!1)=>{const{antallBarn:r,farHarRettINorge:d,morHarRettINorge:u,harAnnenForelderTilsvarendeRettEØS:S,dekningsgrad:n,fødselsdato:a,termindato:c,omsorgsovertakelsesdato:s,morHarAleneomsorg:i,farHarAleneomsorg:E,startdatoUttak:D,minsterett:p,erMor:I,morHarUføretrygd:A,familieHendelseDatoNesteSak:h}=e,f="YYYYMMDD",R={farHarRett:d,morHarRett:u,harAnnenForelderTilsvarendeRettEØS:S,morHarAleneomsorg:i||!1,farHarAleneomsorg:E||!1,dekningsgrad:n,antallBarn:r,fødselsdato:g(a,f),termindato:g(c,f),omsorgsovertakelseDato:g(s,f),startdatoUttak:g(D,f),minsterett:p,erMor:I,morHarUføretrygd:A,familieHendelseDatoNesteSak:g(h,f)},{data:F,error:T}=m(`${_}/konto`,{config:{timeout:15*1e3,params:R,withCredentials:!1},isSuspended:t});return{tilgjengeligeStønadskontoerData:F,tilgjengeligeStønadskontoerError:T}};function K(e,t){const r=e.erEndringssøknad?Y:M;return k(t).post(r,e,{withCredentials:!0,timeout:120*1e3,headers:{"content-type":"application/json;"}})}const te={useGetUttakskontoer:J,storeAppState:x,deleteStoredAppState:B,getStorageKvittering:V,useGetAnnenPartsVedtak:b,useStoredAppState:j,useSøkerinfo:q,sendSøknad:K,useGetSaker:L};export{te as A,o as R,P as r};
//# sourceMappingURL=api-f9c5bd14.js.map

import{j as e,a as s,F as z}from"./jsx-runtime-670450c2.js";import{r as S}from"./index-f1f749bf.js";import{H as m,a6 as g,L as N,b as H,a7 as E}from"./validationUtils-67294d5c.js";import{E as j,_ as L}from"./FormikFileInput-1aab3cd0.js";import{u as b,F as d,i as r}from"./IntlProvider-dc729df9.js";import{c as V}from"./index-7e4e529b.js";import{B as v}from"./Block-01b0ab76.js";import{U as C}from"./UtvidetInformasjon-33c789c9.js";import{g as T,d as q,e as U}from"./vedleggUtils-7804bea0.js";import{A as W}from"./AttachmentList-851c2f67.js";import{d as G}from"./globalUtil-9d9e0ee4.js";import{l as D}from"./index-781d69e8.js";const y=({title:i,height:t})=>s("svg",{role:"img","aria-hidden":"true",focusable:"false",viewBox:"0 0 83 121",height:t,children:[i&&e("title",{children:i}),s("defs",{children:[s("filter",{x:"-10.6%",y:"-5.4%",width:"121.2%",height:"115.1%",filterUnits:"objectBoundingBox",id:"good_1__a",children:[e("feOffset",{dy:2,in:"SourceAlpha",result:"shadowOffsetOuter1"}),e("feGaussianBlur",{stdDeviation:2,in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}),e("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.5 0",in:"shadowBlurOuter1"})]}),e("path",{id:"good_1__b",d:"M8 11h66v93H8z"})]}),s("g",{fill:"none",fillRule:"evenodd",children:[e("path",{d:"M1 1h81v119H1z",fill:"#BABABA",stroke:"#000",strokeOpacity:.85,strokeWidth:2}),e("use",{fill:"#000",filter:"url(#good_1__a)",xlinkHref:"#good_1__b"}),e("use",{fill:"#FFF",xlinkHref:"#good_1__b"}),e("g",{stroke:"#B7B4B4",strokeLinecap:"square",strokeWidth:2,children:e("path",{d:"M15.5 30.5h53M15.5 44.5h50M15.5 23.5h45M15.5 37.5h43"})}),e("g",{stroke:"#B7B4B4",strokeLinecap:"square",strokeWidth:2,children:e("path",{d:"M15.5 77.5h41M15.5 63.5h50M15.5 84.5h45M15.5 70.5h43"})})]})]}),R=({title:i,height:t})=>s("svg",{role:"img","aria-hidden":"true",focusable:"false",viewBox:"0 0 83 121",height:t,children:[i&&e("title",{children:i}),e("desc",{children:"Bildet er ikke tatt ovenfra"}),s("defs",{children:[s("filter",{x:"-9.7%",y:"-7.2%",width:"119.4%",height:"120.3%",filterUnits:"objectBoundingBox",id:"keystone_2__a",children:[e("feOffset",{dy:2,in:"SourceAlpha",result:"shadowOffsetOuter1"}),e("feGaussianBlur",{stdDeviation:2,in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}),e("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.5 0",in:"shadowBlurOuter1"})]}),e("path",{id:"keystone_2__b",d:"M16.528 20h49.06L78 89H6z"})]}),s("g",{fill:"none",fillRule:"evenodd",children:[e("path",{d:"M1 1h81v119H1z",fill:"#BABABA",stroke:"#000",strokeOpacity:.85,strokeWidth:2}),e("use",{fill:"#000",filter:"url(#keystone_2__a)",xlinkHref:"#keystone_2__b"}),e("use",{fill:"#FFF",xlinkHref:"#keystone_2__b"}),e("g",{stroke:"#B7B4B4",strokeLinecap:"square",strokeWidth:2,children:e("path",{d:"M20 41.5h37M21 35.5h39M22 29.5h36M19 47.5h43"})}),e("g",{stroke:"#B7B4B4",strokeLinecap:"square",strokeWidth:2,children:e("path",{d:"M15 70.5h48M16 64.5h45M17 58.5h38M14 76.5h45"})})]})]}),K=({title:i,height:t})=>s("svg",{role:"img","aria-hidden":"true",focusable:"false",viewBox:"0 0 83 121",height:t,children:[i&&e("title",{children:i}),e("desc",{children:"Bildet har ikke riktig retning"}),s("defs",{children:[s("filter",{x:"-10.6%",y:"-11.1%",width:"121.2%",height:"131.1%",filterUnits:"objectBoundingBox",id:"horizontal_3__a",children:[e("feOffset",{dy:2,in:"SourceAlpha",result:"shadowOffsetOuter1"}),e("feGaussianBlur",{stdDeviation:2,in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}),e("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.5 0",in:"shadowBlurOuter1"})]}),e("path",{id:"horizontal_3__b",d:"M8 36h66v45H8z"})]}),s("g",{fill:"none",fillRule:"evenodd",children:[e("path",{d:"M1 1h81v119H1z",fill:"#BABABA",stroke:"#000",strokeOpacity:.85,strokeWidth:2}),e("use",{fill:"#000",filter:"url(#horizontal_3__a)",xlinkHref:"#horizontal_3__b"}),e("use",{fill:"#FFF",xlinkHref:"#horizontal_3__b"}),e("path",{stroke:"#B7B4B4",strokeWidth:2,strokeLinecap:"square",d:"M35 44v28M30 44v22M25 44v19M20 44v24M52 44v24M57 44v30M47 44v27M62 44v26"})]})]}),P=({title:i,height:t})=>s("svg",{role:"img","aria-hidden":"true",focusable:"false",viewBox:"0 0 83 121",height:t,children:[i&&e("title",{children:i}),e("desc",{children:"Bildet har har skygge oppå legeerklæring"}),s("defs",{children:[s("filter",{x:"-10%",y:"-5.2%",width:"120%",height:"114.6%",filterUnits:"objectBoundingBox",id:"shadow_4__a",children:[e("feOffset",{dy:2,in:"SourceAlpha",result:"shadowOffsetOuter1"}),e("feGaussianBlur",{stdDeviation:2,in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}),e("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.5 0",in:"shadowBlurOuter1"})]}),e("path",{id:"shadow_4__b",d:"M6 12h70v96H6z"})]}),s("g",{fill:"none",fillRule:"evenodd",children:[e("path",{strokeOpacity:.85,stroke:"#000",strokeWidth:2,fill:"#BABABA",d:"M1 1h81v119H1z"}),s("g",{transform:"translate(1 1)",children:[e("use",{fill:"#000",filter:"url(#shadow_4__a)",xlinkHref:"#shadow_4__b"}),e("use",{fill:"#FFF",xlinkHref:"#shadow_4__b"})]}),e("g",{stroke:"#B7B4B4",strokeLinecap:"square",strokeWidth:2,children:e("path",{d:"M15.5 30.5h53M15.5 44.5h50M15.5 23.5h45M15.5 37.5h43"})}),e("g",{stroke:"#B7B4B4",strokeLinecap:"square",strokeWidth:2,children:e("path",{d:"M15.5 77.5h41M15.5 63.5h50M15.5 84.5h45M15.5 70.5h43"})}),e("path",{d:"M53.57 120C65.186 86.185 63.996 65.163 50 56.935 29.004 44.593 1 69.565 1 90v30h52.57z",fillOpacity:.3,fill:"#7C7C7C"})]})]}),k=i=>{const{height:t=100,title:a}=i;switch(i.status){case"good":return e(y,{title:a,height:t});case"keystone":return e(R,{title:a,height:t});case"horizontal":return e(K,{title:a,height:t});case"shadow":return e(P,{title:a,height:t});default:return e(y,{title:a,height:t})}},$=({backgroundColor:i="blue"})=>{const t=b(),a=100,l=H("pictureScanningGuide");return s("div",{className:V(l.block,i==="blue"?l.modifier("blue"):l.modifier("white")),children:[e(m,{level:"2",size:"medium",children:e(d,{id:"psg.innholdstittel"})}),e(m,{size:"small",level:"3",className:l.element("title"),children:e(d,{id:"psg.section1.tittel"})}),s("ul",{children:[e(d,{tagName:"li",id:"psg.section1.liste.punkt1"}),e(d,{tagName:"li",id:"psg.section1.liste.punkt2",values:{i:o=>e("i",{children:o})}}),e(d,{tagName:"li",id:"psg.section1.liste.punkt3"})]}),e(m,{size:"small",level:"3",className:l.element("title"),children:e(d,{id:"psg.section2.tittel"})}),s("ul",{children:[e(d,{tagName:"li",id:"psg.section2.liste.punkt1"}),e(d,{tagName:"li",id:"psg.section2.liste.punkt2"}),e(d,{tagName:"li",id:"psg.section2.liste.punkt3"})]}),s("div",{className:l.element("examples"),children:[e(m,{size:"small",level:"3",className:l.element("title"),children:e(d,{id:"psg.icon.heading"})}),s("div",{className:l.element("body"),children:[e("div",{className:l.element("cell"),children:e(g,{image:e(k,{status:"good",height:a}),status:"suksess",statusText:r(t,"psg.good"),description:r(t,"psg.icon.label.good")})}),e("div",{className:l.element("cell"),children:e(g,{image:e(k,{status:"keystone",height:a}),status:"feil",statusText:r(t,"psg.bad"),description:r(t,"psg.icon.label.keystone")})}),e("div",{className:l.element("cell"),children:e(g,{image:e(k,{status:"horizontal",height:a}),status:"feil",statusText:r(t,"psg.bad"),description:r(t,"psg.icon.label.horizontal")})}),e("div",{className:l.element("cell"),children:e(g,{image:e(k,{status:"shadow",height:a}),status:"feil",statusText:r(t,"psg.bad"),description:r(t,"psg.icon.label.shadow")})})]}),e(N,{target:"_blank",href:r(t,"psg.lenkepanel.url"),children:e(d,{id:"psg.lenkepanel.text"})})]})]})};function X(i){const t={withCredentials:!0,timeout:45e3,headers:{"content-type":"multipart/form-data"}},a=new FormData;a.append("id",i.id),a.append("vedlegg",i.file,i.filename);const l=`${j.REST_API_URL}/storage/vedlegg`;return T().post(l,a,t)}const Y={saveAttachment:X},M=[".pdf",".jpeg",".jpg",".png"],x=16777,J=.0009765625,Q=(i,t,a)=>i.map(l=>{const o=U(l,t,a);return o.pending=!0,o}),Z=i=>{const t=i.split(".").pop();return M.includes(`.${t.toLowerCase()}`)},ee=i=>i*J<=x,te=(i,t,a)=>i.filter(l=>{const o=Z(l.filename);o||t(n=>n.concat(r(a,"vedlegg.feilmelding.ugyldig.type",{filename:l.filename})));const h=ee(l.filesize);return h||t(n=>n.concat(r(a,"vedlegg.feilmelding.ugyldig.størrelse",{filename:l.filename,maxStørrelse:x}))),o&&h}),ie=(i,t,a,l,o,h)=>{i.forEach(async(n,f)=>{try{const c=await Y.saveAttachment(n);n.pending=!1,n.url=c.headers.location,n.uploaded=!0,n.uuid=c.data,t(o+f,n)}catch{a(o+f),l(p=>p.concat(r(h,"vedlegg.feilmelding.opplasting.feilet",{filename:n.filename})))}})},_=({attachments:i,name:t,onFileInputClick:a,attachmentType:l,skjemanummer:o,...h})=>{const n=b(),{setFieldValue:f}=E(),[c,p]=S.useState([]);return s(z,{children:[e(v,{padBottom:"l",children:e(L,{name:t,acceptedExtensions:M.join(", "),onFilesSelect:(u,{push:w,replace:F,remove:O})=>{const I=Q(u,l,o),B=te(I,p,n);B.forEach(A=>w(A)),ie(B,F,O,p,i.length,n)},onClick:a,feil:c.length>0?c.map(u=>e(D.Normaltekst,{children:u},u)):void 0,...h})}),e(v,{padBottom:"l",visible:i.length>0,children:e(W,{attachments:i.filter(u=>!q(u)),showFileSize:!0,onDelete:u=>{f(t,G(i,u))}})}),e(v,{children:e(C,{apneLabel:r(n,"pictureScanninGuide.apneLabel"),children:e($,{backgroundColor:"blue"})})})]})},me=_;try{_.displayName="FormikFileUploader",_.__docgenInfo={description:"",displayName:"FormikFileUploader",props:{attachments:{defaultValue:null,description:"",name:"attachments",required:!0,type:{name:"Attachment[]"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"any"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},attachmentType:{defaultValue:null,description:"",name:"attachmentType",required:!0,type:{name:"enum",value:[{value:'"omsorgsovertakelse"'},{value:'"adopsjonsvedtak"'},{value:'"terminbekreftelse"'},{value:'"fødselsattest"'},{value:'"anneninntektDokumentasjon"'},{value:'"utsettelseSykdomUttaksplan"'},{value:'"morsaktivitetdokumentasjon"'},{value:'"dokumentasjonOverføringAvKvote"'},{value:'"dokumentasjonAvAleneomsorg"'},{value:'"senEndring"'},{value:'"hvØvelse"'},{value:'"navTiltak"'}]}},skjemanummer:{defaultValue:null,description:"",name:"skjemanummer",required:!0,type:{name:"enum",value:[{value:'"I000060"'},{value:'"I000051"'},{value:'"I000061"'},{value:'"I000041"'},{value:'"I000110"'},{value:'"I000111"'},{value:'"I000112"'},{value:'"I000037"'},{value:'"I000039"'},{value:'"I000038"'},{value:'"I000023"'},{value:'"I000044"'},{value:'"I000007"'},{value:'"I000042"'},{value:'"I000062"'},{value:'"I000116"'},{value:'"I000117"'}]}},onFileInputClick:{defaultValue:null,description:"",name:"onFileInputClick",required:!1,type:{name:"(() => void)"}}}}}catch{}export{me as F};
//# sourceMappingURL=FormikFileUploader-235a07ed.js.map

import{r as e}from"./index-f1f749bf.js";import{u as b,f as c,a as g}from"./mapSøkerinfoDTO-f7746f82.js";import{r as N,a as v}from"./useSaveLoadedRoute-c343dcd2.js";import{d as C}from"./useSøknad-e0725e39.js";const K=(m,s,i)=>{const{dispatch:n,state:r}=b(),o=C(),[u,d]=e.useState(!1),[S,f]=e.useState(!1),[a,p]=e.useState(void 0);return e.useEffect(()=>{u&&i(r).then(()=>{s===c.SØKNAD_SENDT?o(s):o(r.currentRoute)}).catch(t=>{t.response&&(t.response.status===401||t.response.status===403)?N():p(t)})},[u,o,s,r,i]),e.useEffect(()=>{if(a)throw v(a),new Error(a)},[a]),{handleSubmit:t=>{f(!0);const h=m(t),l=s===c.SØKNAD_SENDT?void 0:n(g.updateCurrentRoute(s));Promise.all([l,...h.map(E=>n(E))]).then(()=>d(!0))},isSubmitting:S}};export{K as u};
//# sourceMappingURL=useOnValidSubmit-cccef928.js.map

import{j as n,a as b,F as re}from"./jsx-runtime-670450c2.js";import{a as R,i,h as l,y as q,M as Ne,B as o,H as be,F as k,d as j,G as je,b as G,c as he,R as ee,z as Re,E as z,k as L,S as Le}from"./validationUtils-f899988d.js";import"./index-7e4e529b.js";import{r as C}from"./index-f1f749bf.js";import{S as Ie,a as Ye}from"./mapSøkerinfoDTO-a639ed4c.js";import{u as Pe}from"./useOnValidSubmit-fb8ac4dd.js";import{u as Ue,g as Ce,b as qe}from"./useSøknad-ada7a5d2.js";import{u as we}from"./useSøkerinfo-dfcee13b.js";import{u as We,a as xe,g as Je,s as Ke}from"./useFortsettSøknadSenere-b63d2ee4.js";import{g as se,Y as s,A as Ve,d as K,a as Qe}from"./getTypedFormComponents-b4bc17b3.js";import{L as He,M as J,N as x,r as ae,O as $e,I as M}from"./dateUtils-c998f5da.js";import{I as Ee}from"./InteractiveListElement-dde41059.js";import{A as E,H as Ge,a as ze,N as ie}from"./Næring-a3debed5.js";import{S as de}from"./Skjemanummer-77149054.js";import{a as O,c as T}from"./formUtils-8bf80793.js";import{l as Xe}from"./vedleggUtils-cfa4fd06.js";import{Q as oe}from"./index-47edccfa.js";import{F as Ze}from"./FormikFileUploader-f62abcff.js";import{L as Se,N as en,J as Oe,I as ne}from"./periodeUtils-a6071c84.js";import{L as X}from"./Label-bbf0f831.js";import{B as P,L as Te}from"./Link-40b5f3c6.js";import{l as Z}from"./links-b36d21ab.js";import{u as nn,s as rn}from"./useSaveLoadedRoute-b22bd40e.js";import{g as tn}from"./arbeidsforholdUtils-4ea5f35b.js";var v=(e=>(e.hattInntektSomFrilans="hattInntektSomFrilans",e.hattInntektSomNæringsdrivende="hattInntektSomNæringsdrivende",e.hattAndreInntekter="hattAndreInntekter",e.frilansOppstartsDato="frilansOppstartsDato",e.jobberFremdelesSomFrilanser="jobberFremdelesSomFrilanser",e.oppdragForNæreVennerEllerFamilie="oppdragForNæreVennerEllerFamilie",e.inntektSomFosterforelder="inntektSomFosterforelder",e))(v||{});const U=se(),an=(e,r)=>e===E.JOBB_I_UTLANDET?i(r,"inntektsinformasjon.andreInntekter.inntektsliste.jobbIUtlandet"):e===E.MILITÆRTJENESTE?i(r,"inntektsinformasjon.andreInntekter.inntektsliste.førstegangstjeneste"):e===E.SLUTTPAKKE?i(r,"inntektsinformasjon.andreInntekter.inntektsliste.sluttpakke"):i(r,"inntektsinformasjon.andreInntekter.inntektsliste.ventelønn"),le=({andreInntekter:e,deleteAnnenInntekt:r,selectAnnenInntekt:a})=>{const g=R();return e.length===0?null:n("ul",{style:{margin:0,padding:0,listStyle:"none"},children:e.map((m,F)=>n(Ee,{deleteLinkText:"Slett annen inntekt",onDelete:()=>r(m),onEdit:()=>a(m),text:He(m.tidsperiode),title:an(m.type,g),deleteButtonAriaText:"Slett annen inntekt",editButtonAriaText:"Rediger annen inntekt",missingDocumentation:m.vedlegg.length===0&&m.type!==E.JOBB_I_UTLANDET},`${m.type}${m.tidsperiode.fom}${F}`))})};try{le.displayName="AndreInntekterListe",le.__docgenInfo={description:"",displayName:"AndreInntekterListe",props:{andreInntekter:{defaultValue:null,description:"",name:"andreInntekter",required:!0,type:{name:"AnnenInntekt[]"}},deleteAnnenInntekt:{defaultValue:null,description:"",name:"deleteAnnenInntekt",required:!0,type:{name:"(oppdrag: AnnenInntekt) => void"}},selectAnnenInntekt:{defaultValue:null,description:"",name:"selectAnnenInntekt",required:!0,type:{name:"(oppdrag: AnnenInntekt) => void"}}}}}catch{}var u=(e=>(e.type="type",e.navnPåArbeidsgiver="navnPåArbeidsgiver",e.land="land",e.fom="fom",e.tom="tom",e.pågående="pågående",e.dokumentasjon="dokumentasjon",e))(u||{});const W=se(),Y={[u.type]:void 0,[u.fom]:"",[u.tom]:"",[u.pågående]:s.UNANSWERED,[u.navnPåArbeidsgiver]:"",[u.land]:"",[u.dokumentasjon]:[]},Be=e=>e.type===E.MILITÆRTJENESTE?de.DOK_MILITÆR_SILVIL_TJENESTE:e.type===E.SLUTTPAKKE?de.ETTERLØNN_ELLER_SLUTTVEDERLAG:de.ANNET,sn=(e,r)=>({type:r.isVisible(u.type)?e.type:Y.type,dokumentasjon:r.isVisible(u.dokumentasjon)?Xe(e.dokumentasjon,Ve.ANNEN_INNTEKT,Be(e)):Y.dokumentasjon,fom:r.isVisible(u.fom)?e.fom:Y.fom,tom:r.isVisible(u.tom)?e.tom:Y.tom,pågående:r.isVisible(u.pågående)?e.pågående:Y.pågående,navnPåArbeidsgiver:r.isVisible(u.navnPåArbeidsgiver)?e.navnPåArbeidsgiver:Y.navnPåArbeidsgiver,land:r.isVisible(u.land)?e.land:Y.land}),on=e=>e?e.type===E.JOBB_I_UTLANDET?{...Y,navnPåArbeidsgiver:e.arbeidsgiverNavn,land:e.land,fom:e.tidsperiode.fom,tom:e.tidsperiode.tom||"",dokumentasjon:e.vedlegg,pågående:O(e.pågående),type:e.type}:{...Y,fom:e.tidsperiode.fom,tom:e.tidsperiode.tom||"",dokumentasjon:e.vedlegg,pågående:O(e.pågående),type:e.type}:{...Y},Ae=e=>e.type===E.JOBB_I_UTLANDET?{arbeidsgiverNavn:e.navnPåArbeidsgiver,land:e.land,pågående:T(e.pågående),tidsperiode:{fom:e.fom,tom:e.tom},type:e.type,vedlegg:[]}:{pågående:T(e.pågående),tidsperiode:{fom:e.fom,tom:e.tom},type:e.type,vedlegg:e.dokumentasjon||[]},dn={[u.type]:{isIncluded:()=>!0,isAnswered:({type:e})=>l(e)},[u.land]:{isIncluded:({type:e})=>e===E.JOBB_I_UTLANDET,isAnswered:({land:e})=>l(e),visibilityFilter:({type:e})=>e===E.JOBB_I_UTLANDET},[u.navnPåArbeidsgiver]:{isIncluded:({type:e})=>e===E.JOBB_I_UTLANDET,isAnswered:({navnPåArbeidsgiver:e})=>l(e),visibilityFilter:({land:e})=>l(e)},[u.fom]:{isIncluded:()=>!0,isAnswered:({fom:e})=>l(e),visibilityFilter:({type:e,navnPåArbeidsgiver:r,land:a})=>e===E.JOBB_I_UTLANDET&&l(r)&&l(a)||e!==E.JOBB_I_UTLANDET&&l(e)},[u.pågående]:{isIncluded:()=>!0,isAnswered:({pågående:e})=>e!==s.UNANSWERED,visibilityFilter:({fom:e})=>l(e)},[u.tom]:{isIncluded:({pågående:e})=>e===s.NO,isAnswered:({tom:e})=>l(e),visibilityFilter:({pågående:e})=>e===s.NO},[u.dokumentasjon]:{isIncluded:({type:e})=>e!==E.JOBB_I_UTLANDET,isAnswered:()=>!0,visibilityFilter:({pågående:e,tom:r})=>e===s.YES||e===s.NO&&l(r)}},ln=oe(dn),gn=(e,r)=>a=>{if(!l(a))return i(e,"valideringsfeil.fraOgMedDato.påkrevd");if(!q.isISODateString(a))return i(e,"valideringsfeil.fraOgMedDato.gyldigDato");if(J(a))return i(e,"valideringsfeil.fraOgMedDato.erIFremtiden");if(x(r,a))return i(e,"valideringsfeil.fraOgMedDato.førTilDato")},mn=(e,r)=>a=>{if(!l(a))return i(e,"valideringsfeil.tilOgMedDato.påkrevd");if(!q.isISODateString(a))return i(e,"valideringsfeil.tilOgMedDato.gyldigDato");if(J(a))return i(e,"valideringsfeil.tilOgMedDato.erIFremtiden");if(x(a,r))return i(e,"valideringsfeil.tilOgMedDato.etterFraDato")};const ge=({isOpen:e,contentLabel:r,onRequestClose:a,selectedAnnenInntekt:g,addAnnenInntekt:m,editAnnenInntekt:F})=>{const d=R(),A=he("andreInntekterModal"),N=p=>{g?F(Ae(p)):m(Ae(p)),a()},B=p=>p.type===E.MILITÆRTJENESTE?"inntektsinformasjon.andreInntekterModal.veileder.militær":p.type===E.SLUTTPAKKE?"inntektsinformasjon.andreInntekterModal.veileder.sluttpakke":"inntektsinformasjon.andreInntekterModal.veileder.ventelønn",D=i(d,"annenInntekt.spørsmål.arbeidsgiver");return n(Ne,{open:e,"aria-label":r,onClose:a,closeButton:!0,shouldCloseOnOverlayClick:!1,className:A.block,children:n(W.FormikWrapper,{initialValues:on(g),onSubmit:N,renderForm:({values:p})=>{const f=ln.getVisbility(p);return b(W.Form,{includeButtons:!1,cleanup:V=>sn(V,f),children:[n(o,{padBottom:"l",children:n(be,{size:"small",className:A.element("tittel"),children:n(k,{id:"inntektsinformasjon.andreInntekterModal.tittel"})})}),n(o,{padBottom:"l",visible:f.isVisible(u.type),children:n(W.RadioGroup,{legend:"Andre inntekter",name:u.type,radios:[{label:"Jobb i utlandet",value:E.JOBB_I_UTLANDET},{label:"Vartpenger og ventelønn",value:E.VENTELØNN},{label:"Sluttvederlag",value:E.SLUTTPAKKE},{label:"Førstegangstjeneste",value:E.MILITÆRTJENESTE}]})}),n(o,{padBottom:"l",visible:f.isVisible(u.land),children:n(W.CountrySelect,{name:u.land,label:i(d,"annenInntekt.spørsmål.land"),useAlpha3Code:!1})}),n(o,{padBottom:"l",visible:f.isVisible(u.navnPåArbeidsgiver),children:n(W.TextField,{name:u.navnPåArbeidsgiver,label:D,validate:Se(D,d)})}),n(o,{padBottom:"l",visible:f.isVisible(u.fom),children:n(W.DatePicker,{name:u.fom,label:i(d,"fom"),placeholder:"dd.mm.åååå",fullscreenOverlay:!0,showYearSelector:!0,validate:gn(d,p.tom),maxDate:j().toDate()})}),n(o,{padBottom:"l",visible:f.isVisible(u.pågående),children:n(W.YesOrNoQuestion,{name:u.pågående,legend:i(d,"pågående")})}),n(o,{padBottom:"l",visible:f.isVisible(u.tom),children:n(W.DatePicker,{name:u.tom,label:i(d,"tom"),placeholder:"dd.mm.åååå",fullscreenOverlay:!0,showYearSelector:!0,validate:mn(d,p.fom),maxDate:j().toDate()})}),n(o,{padBottom:"l",visible:f.isVisible(u.dokumentasjon),children:n(je,{children:n(k,{id:B(p)})})}),n(o,{padBottom:"l",visible:f.isVisible(u.dokumentasjon),children:n(Ze,{legend:"Dokumentasjon av andre inntekter",name:u.dokumentasjon,label:"Last opp dokumentasjon",attachments:p.dokumentasjon,attachmentType:Ve.ANNEN_INNTEKT,skjemanummer:Be(p)})}),n(o,{visible:f.areAllQuestionsAnswered(),textAlignCenter:!0,children:n(G,{children:i(d,"søknad.gåVidere")})})]})}})})};try{ge.displayName="AndreInntekterModal",ge.__docgenInfo={description:"",displayName:"AndreInntekterModal",props:{isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},contentLabel:{defaultValue:null,description:"",name:"contentLabel",required:!0,type:{name:"string"}},onRequestClose:{defaultValue:null,description:"",name:"onRequestClose",required:!0,type:{name:"() => void"}},addAnnenInntekt:{defaultValue:null,description:"",name:"addAnnenInntekt",required:!0,type:{name:"(annenInntekt: AnnenInntekt) => void"}},editAnnenInntekt:{defaultValue:null,description:"",name:"editAnnenInntekt",required:!0,type:{name:"(annenInntekt: AnnenInntekt) => void"}},selectedAnnenInntekt:{defaultValue:null,description:"",name:"selectedAnnenInntekt",required:!0,type:{name:"AnnenInntekt | undefined"}}}}}catch{}const me=({andreInntekterInformasjon:e,setAndreInntekterInformasjon:r,visibility:a,formValues:g})=>{const m=R(),[F,d]=C.useState(!1),[A,N]=C.useState(),B=()=>{d(!0)},D=c=>{const y=e.concat(c);r(y)},p=c=>{const y=e.filter(_=>_!==c);r(y)},f=c=>{const y=e.filter(_=>_!==A).concat(c);r(y)},V=c=>{N(c),d(!0)};return b(re,{children:[n(o,{padBottom:"l",visible:a.isVisible(v.hattAndreInntekter),children:n(U.YesOrNoQuestion,{name:v.hattAndreInntekter,legend:i(m,"inntektsinformasjon.annenInntekt"),validate:c=>{if(c===s.YES&&e.length===0)return i(m,"valideringsfeil.inntektsinformasjon.andreInntekter.måHaOppdrag")}})}),g.hattAndreInntekter===s.YES&&b("div",{style:{backgroundColor:"#f1f1f1",marginBottom:"1rem",padding:"1rem"},children:[n(ge,{isOpen:F,contentLabel:i(m,"inntektsinformasjon.andreInntekterModal.contentLabel"),onRequestClose:()=>d(!1),selectedAnnenInntekt:A,addAnnenInntekt:D,editAnnenInntekt:f}),n(o,{padBottom:"l",visible:e.length>0,children:n(le,{andreInntekter:e,deleteAnnenInntekt:p,selectAnnenInntekt:V})}),n(G,{type:"button",onClick:B,children:n(k,{id:"inntektsinformasjon.leggTilOppdrag"})})]})]})};try{me.displayName="AndreInntekter",me.__docgenInfo={description:"",displayName:"AndreInntekter",props:{andreInntekterInformasjon:{defaultValue:null,description:"",name:"andreInntekterInformasjon",required:!0,type:{name:"AnnenInntekt[]"}},setAndreInntekterInformasjon:{defaultValue:null,description:"",name:"setAndreInntekterInformasjon",required:!0,type:{name:"any"}},visibility:{defaultValue:null,description:"",name:"visibility",required:!0,type:{name:"QuestionVisibility<InntektsinformasjonFormField, undefined>"}},formValues:{defaultValue:null,description:"",name:"formValues",required:!0,type:{name:"InntektsinformasjonFormData"}}}}}catch{}const pe=({arbeidsforhold:e})=>{const r=e!==void 0&&e.length>0;return b(o,{padBottom:"xl",children:[n(X,{children:"Dine arbeidsforhold"}),n(Ge,{harArbeidsforhold:r}),n(ze,{harArbeidsforhold:r,arbeidsforhold:e}),n(ee,{header:"Finner du feil eller mangler?",children:n(P,{children:"Informasjonen er hentet fra Arbeidsgiver- og arbeidstakerregisteret. Derfor må du be din arbeidsgiver oppdatere med riktig informasjon i Arbeidsgiver- og arbeidstakerregisteret."})})]})};try{pe.displayName="ArbeidsforholdInformasjon",pe.__docgenInfo={description:"",displayName:"ArbeidsforholdInformasjon",props:{arbeidsforhold:{defaultValue:null,description:"",name:"arbeidsforhold",required:!0,type:{name:"Arbeidsforhold[]"}}}}}catch{}const pn=({næringsInformasjon:e,deleteNæring:r,selectNæring:a})=>e.length===0?null:n("ul",{style:{margin:0,padding:0,listStyle:"none"},children:e.map((g,m)=>n(Ee,{deleteLinkText:"Slett næring",onDelete:()=>r(g),onEdit:()=>a(g),text:`${ae(g.tidsperiode.fom)} - ${g.tidsperiode.tom?ae(g.tidsperiode.tom):"pågående"}`,title:g.navnPåNæringen,deleteButtonAriaText:"Slett næring",editButtonAriaText:"Rediger næring"},`${g.navnPåNæringen}${m}`))});try{EgenNringListe.displayName="EgenNringListe",EgenNringListe.__docgenInfo={description:"",displayName:"EgenNringListe",props:{næringsInformasjon:{defaultValue:null,description:"",name:"næringsInformasjon",required:!0,type:{name:"Næring[]"}},deleteNæring:{defaultValue:null,description:"",name:"deleteNæring",required:!0,type:{name:"(oppdrag: Næring) => void"}},selectNæring:{defaultValue:null,description:"",name:"selectNæring",required:!0,type:{name:"(oppdrag: Næring) => void"}}}}}catch{}const fn=()=>{const e=R();return n(ee,{header:i(e,"inntektsinformasjon.harJobbetSomSelvstendigNæringsdrivendeSiste10Mnd.apneLabel"),children:b("div",{children:[n(o,{padBottom:"l",children:n(P,{children:n(k,{id:"inntektsinformasjon.harJobbetSomSelvstendigNæringsdrivendeSiste10Mnd.infoboks.del1"})})}),n(P,{children:n(k,{id:"inntektsinformasjon.harJobbetSomSelvstendigNæringsdrivendeSiste10Mnd.infoboks.del2",values:{a:r=>n(Te,{href:Z.næringsdrivendeInfoBoks,rel:"noreferrer",target:"_blank",children:r})}})})]})})};var t=(e=>(e.type="type",e.navnPåNæringen="navnPåNæringen",e.registrertINorge="registrertINorge",e.orgnr="orgnr",e.land="land",e.fom="fom",e.tom="tom",e.pågående="pågående",e.yrkesAktivDato="yrkesAktivDato",e.næringsresultat="næringsresultat",e.harBlittYrkesaktivILøpetAvDeTreSisteFerdigliknedeÅrene="harBlittYrkesaktivILøpetAvDeTreSisteFerdigliknedeÅrene",e.hattVarigEndringAvNæringsinntektSiste4Kalenderår="hattVarigEndringAvNæringsinntektSiste4Kalenderår",e.datoForEndring="datoForEndring",e.inntektEtterEndring="inntektEtterEndring",e.forklaringEndring="forklaringEndring",e.harRegnskapsfører="harRegnskapsfører",e.navnRegnskapsfører="navnRegnskapsfører",e.telefonRegnskapsfører="telefonRegnskapsfører",e.regnskapsførerNærVennEllerFamilie="regnskapsførerNærVennEllerFamilie",e))(t||{});const h=se(),S={[t.type]:void 0,[t.navnPåNæringen]:"",[t.registrertINorge]:s.UNANSWERED,[t.orgnr]:"",[t.land]:"",[t.tom]:"",[t.fom]:"",[t.pågående]:s.UNANSWERED,[t.næringsresultat]:"",[t.hattVarigEndringAvNæringsinntektSiste4Kalenderår]:s.UNANSWERED,[t.harBlittYrkesaktivILøpetAvDeTreSisteFerdigliknedeÅrene]:s.UNANSWERED,[t.yrkesAktivDato]:"",[t.datoForEndring]:"",[t.inntektEtterEndring]:"",[t.forklaringEndring]:"",[t.harRegnskapsfører]:s.UNANSWERED,[t.navnRegnskapsfører]:"",[t.telefonRegnskapsfører]:"",[t.regnskapsførerNærVennEllerFamilie]:s.UNANSWERED},un=(e,r)=>({type:r.isVisible(t.type)?e.type:void 0,navnPåNæringen:r.isVisible(t.navnPåNæringen)?e.navnPåNæringen:S.navnPåNæringen,registrertINorge:r.isVisible(t.registrertINorge)?e.registrertINorge:S.registrertINorge,orgnr:r.isVisible(t.orgnr)?e.orgnr:S.orgnr,land:r.isVisible(t.land)?e.land:S.land,tom:r.isVisible(t.tom)?e.tom:S.tom,fom:r.isVisible(t.fom)?e.fom:S.fom,pågående:r.isVisible(t.pågående)?e.pågående:S.pågående,næringsresultat:r.isVisible(t.næringsresultat)?e.næringsresultat:S.næringsresultat,hattVarigEndringAvNæringsinntektSiste4Kalenderår:r.isVisible(t.hattVarigEndringAvNæringsinntektSiste4Kalenderår)?e.hattVarigEndringAvNæringsinntektSiste4Kalenderår:S.hattVarigEndringAvNæringsinntektSiste4Kalenderår,harBlittYrkesaktivILøpetAvDeTreSisteFerdigliknedeÅrene:r.isVisible(t.harBlittYrkesaktivILøpetAvDeTreSisteFerdigliknedeÅrene)?e.harBlittYrkesaktivILøpetAvDeTreSisteFerdigliknedeÅrene:S.harBlittYrkesaktivILøpetAvDeTreSisteFerdigliknedeÅrene,yrkesAktivDato:r.isVisible(t.yrkesAktivDato)?e.yrkesAktivDato:S.yrkesAktivDato,datoForEndring:r.isVisible(t.datoForEndring)?e.datoForEndring:S.datoForEndring,inntektEtterEndring:r.isVisible(t.inntektEtterEndring)?e.inntektEtterEndring:S.inntektEtterEndring,forklaringEndring:r.isVisible(t.forklaringEndring)?e.forklaringEndring:S.forklaringEndring,harRegnskapsfører:r.isVisible(t.harRegnskapsfører)?e.harRegnskapsfører:S.harRegnskapsfører,navnRegnskapsfører:r.isVisible(t.navnRegnskapsfører)?e.navnRegnskapsfører:S.navnRegnskapsfører,telefonRegnskapsfører:r.isVisible(t.telefonRegnskapsfører)?e.telefonRegnskapsfører:S.telefonRegnskapsfører,regnskapsførerNærVennEllerFamilie:r.isVisible(t.regnskapsførerNærVennEllerFamilie)?e.regnskapsførerNærVennEllerFamilie:S.regnskapsførerNærVennEllerFamilie}),cn=e=>{var r;return e?{...S,type:e.næringstyper.length>0?e.næringstyper[0]:void 0,navnPåNæringen:e.navnPåNæringen,registrertINorge:O(e.registrertINorge),land:e.registrertILand||"",fom:K(e.tidsperiode.fom),tom:K(e.tidsperiode.tom)||"",orgnr:e.organisasjonsnummer||"",pågående:O(e.pågående),næringsresultat:((r=e.næringsinntekt)==null?void 0:r.toString())||"",hattVarigEndringAvNæringsinntektSiste4Kalenderår:O(e.hattVarigEndringAvNæringsinntektSiste4Kalenderår),harBlittYrkesaktivILøpetAvDeTreSisteFerdigliknedeÅrene:O(e.harBlittYrkesaktivILøpetAvDeTreSisteFerdigliknedeÅrene),yrkesAktivDato:K(e.oppstartsdato)||"",datoForEndring:e.endringAvNæringsinntektInformasjon?K(e.endringAvNæringsinntektInformasjon.dato):"",inntektEtterEndring:e.endringAvNæringsinntektInformasjon?e.endringAvNæringsinntektInformasjon.næringsinntektEtterEndring.toString():"",forklaringEndring:e.endringAvNæringsinntektInformasjon?e.endringAvNæringsinntektInformasjon.forklaring:"",harRegnskapsfører:O(e.harRegnskapsfører),navnRegnskapsfører:e.regnskapsfører?e.regnskapsfører.navn:"",telefonRegnskapsfører:e.regnskapsfører?e.regnskapsfører.telefonnummer:"",regnskapsførerNærVennEllerFamilie:O(e.regnskapsfører?e.regnskapsfører.erNærVennEllerFamilie:void 0)}:{...S}},ye=e=>{let r,a;return e.hattVarigEndringAvNæringsinntektSiste4Kalenderår===s.YES&&(r={dato:M(e.datoForEndring),forklaring:e.forklaringEndring,næringsinntektEtterEndring:parseInt(e.inntektEtterEndring)}),e.harRegnskapsfører===s.YES&&(a={navn:e.navnRegnskapsfører,telefonnummer:e.telefonRegnskapsfører,erNærVennEllerFamilie:T(e.regnskapsførerNærVennEllerFamilie)}),{næringstyper:[e.type],navnPåNæringen:e.navnPåNæringen,registrertINorge:T(e.registrertINorge),organisasjonsnummer:l(e.orgnr)?e.orgnr:void 0,registrertILand:l(e.land)?e.land:void 0,tidsperiode:{fom:M(e.fom),tom:M(e.tom)},pågående:T(e.pågående),næringsinntekt:l(e.næringsresultat)?parseInt(e.næringsresultat,10):void 0,hattVarigEndringAvNæringsinntektSiste4Kalenderår:T(e.hattVarigEndringAvNæringsinntektSiste4Kalenderår),harBlittYrkesaktivILøpetAvDeTreSisteFerdigliknedeÅrene:T(e.harBlittYrkesaktivILøpetAvDeTreSisteFerdigliknedeÅrene),oppstartsdato:l(e.yrkesAktivDato)?M(e.yrkesAktivDato):void 0,endringAvNæringsinntektInformasjon:r,harRegnskapsfører:T(e.harRegnskapsfører),regnskapsfører:a}},te=e=>e?j(e).startOf("day").isAfter($e,"day"):!0,kn={[t.type]:{isIncluded:()=>!0,isAnswered:({type:e})=>e!==void 0},[t.navnPåNæringen]:{isIncluded:()=>!0,isAnswered:({navnPåNæringen:e})=>l(e),visibilityFilter:({type:e})=>e!==void 0},[t.registrertINorge]:{isIncluded:()=>!0,isAnswered:({registrertINorge:e})=>e!==s.UNANSWERED,visibilityFilter:({navnPåNæringen:e})=>l(e)},[t.orgnr]:{isIncluded:({registrertINorge:e})=>e===s.YES,isAnswered:({orgnr:e})=>l(e),visibilityFilter:({registrertINorge:e})=>e===s.YES},[t.land]:{isIncluded:({registrertINorge:e})=>e===s.NO,isAnswered:({land:e})=>l(e),visibilityFilter:({registrertINorge:e})=>e===s.NO},[t.fom]:{isIncluded:()=>!0,isAnswered:({fom:e})=>l(e),visibilityFilter:({orgnr:e,land:r})=>l(e)||l(r)},[t.pågående]:{isIncluded:()=>!0,isAnswered:({pågående:e})=>e!==s.UNANSWERED,visibilityFilter:({fom:e})=>l(e)},[t.tom]:{isIncluded:({pågående:e})=>e===s.NO,isAnswered:({tom:e})=>l(e),visibilityFilter:({pågående:e})=>e===s.NO},[t.næringsresultat]:{isIncluded:({fom:e})=>te(M(e)),isAnswered:({næringsresultat:e})=>l(e),visibilityFilter:({pågående:e,tom:r})=>e===s.YES||l(r)},[t.harBlittYrkesaktivILøpetAvDeTreSisteFerdigliknedeÅrene]:{isIncluded:({fom:e})=>te(M(e)),isAnswered:({harBlittYrkesaktivILøpetAvDeTreSisteFerdigliknedeÅrene:e})=>e!==s.UNANSWERED,visibilityFilter:({næringsresultat:e})=>l(e)},[t.yrkesAktivDato]:{isIncluded:({fom:e})=>te(M(e)),isAnswered:({yrkesAktivDato:e})=>l(e),visibilityFilter:({harBlittYrkesaktivILøpetAvDeTreSisteFerdigliknedeÅrene:e})=>e===s.YES},[t.hattVarigEndringAvNæringsinntektSiste4Kalenderår]:{isIncluded:({fom:e})=>!te(M(e)),isAnswered:({hattVarigEndringAvNæringsinntektSiste4Kalenderår:e})=>e!==s.UNANSWERED,visibilityFilter:({pågående:e,tom:r})=>e===s.YES||l(r)},[t.datoForEndring]:{isIncluded:({hattVarigEndringAvNæringsinntektSiste4Kalenderår:e})=>e===s.YES,isAnswered:({datoForEndring:e})=>l(e),visibilityFilter:({hattVarigEndringAvNæringsinntektSiste4Kalenderår:e})=>e===s.YES},[t.inntektEtterEndring]:{isIncluded:({hattVarigEndringAvNæringsinntektSiste4Kalenderår:e})=>e===s.YES,isAnswered:({inntektEtterEndring:e})=>l(e),visibilityFilter:({datoForEndring:e})=>l(e)},[t.forklaringEndring]:{isIncluded:({hattVarigEndringAvNæringsinntektSiste4Kalenderår:e})=>e===s.YES,isAnswered:({forklaringEndring:e})=>l(e),visibilityFilter:({inntektEtterEndring:e})=>l(e)},[t.harRegnskapsfører]:{isIncluded:()=>!0,isAnswered:({harRegnskapsfører:e})=>e!==s.UNANSWERED,visibilityFilter:({yrkesAktivDato:e,forklaringEndring:r,harBlittYrkesaktivILøpetAvDeTreSisteFerdigliknedeÅrene:a,hattVarigEndringAvNæringsinntektSiste4Kalenderår:g})=>l(e)||l(r)||a===s.NO||g===s.NO},[t.navnRegnskapsfører]:{isIncluded:({harRegnskapsfører:e})=>e===s.YES,isAnswered:({navnRegnskapsfører:e})=>l(e),visibilityFilter:({harRegnskapsfører:e})=>e===s.YES},[t.telefonRegnskapsfører]:{isIncluded:({harRegnskapsfører:e})=>e===s.YES,isAnswered:({telefonRegnskapsfører:e})=>l(e),visibilityFilter:({navnRegnskapsfører:e})=>l(e)},[t.regnskapsførerNærVennEllerFamilie]:{isIncluded:({harRegnskapsfører:e})=>e===s.YES,isAnswered:({regnskapsførerNærVennEllerFamilie:e})=>e!==s.UNANSWERED,visibilityFilter:({telefonRegnskapsfører:e})=>l(e)}},vn=oe(kn),Nn=(e,r)=>a=>{if(!l(a))return i(e,"valideringsfeil.fraOgMedDato.påkrevd");if(!q.isISODateString(a))return i(e,"valideringsfeil.fraOgMedDato.gyldigDato");if(J(a))return i(e,"valideringsfeil.fraOgMedDato.erIFremtiden");if(x(r,a))return i(e,"valideringsfeil.fraOgMedDato.førTilDato")},bn=(e,r)=>a=>{if(!l(a))return i(e,"valideringsfeil.tilOgMedDato.påkrevd");if(!q.isISODateString(a))return i(e,"valideringsfeil.tilOgMedDato.gyldigDato");if(J(a))return i(e,"valideringsfeil.fraOgMedDato.erIFremtiden");if(x(a,r))return i(e,"valideringsfeil.fraOgMedDato.førTilDato")},hn=e=>r=>{if(!en(r))return i(e,"valideringsfeil.inntektsinformasjon.orgnr.ugyldigFormat")},En=(e,r)=>a=>a.length<25?i(e,"valideringsfeil.inntektsinformasjon.forklaringTilEndring.forKort"):a.length>1e3?i(e,"valideringsfeil.inntektsinformasjon.forklaringTilEndring.forLang"):Oe(a,r,e),Sn=e=>r=>{if(!l(r))return i(e,"valideringsfeil.tilOgMedDato.påkrevd");if(!q.isISODateString(r))return i(e,"valideringsfeil.tilOgMedDato.gyldigDato");if(J(r))return i(e,"valideringsfeil.fraOgMedDato.erIFremtiden")},In=e=>r=>{if(!l(r))return i(e,"valideringsfeil.tilOgMedDato.påkrevd");if(!q.isISODateString(r))return i(e,"valideringsfeil.tilOgMedDato.gyldigDato");if(J(r))return i(e,"valideringsfeil.fraOgMedDato.erIFremtiden")},fe=(e,r)=>a=>{const g=Qe(a);if(!g||Math.round(g)!==g)return i(e,r)},ue=({visibility:e})=>{const r=R();return b(re,{children:[n(o,{padBottom:"l",visible:e.isVisible(t.orgnr),children:n(h.NumberInput,{name:t.orgnr,label:i(r,"inntektsinformasjon.egenNæringModal.orgnr"),validate:hn(r)})}),n(o,{padBottom:"l",visible:e.isVisible(t.land),children:n(h.CountrySelect,{name:t.land,label:i(r,"inntektsinformasjon.egenNæringModal.registrertILand"),useAlpha3Code:!1,validate:a=>{if(!l(a))return i(r,"valideringsfeil.inntektsinformasjon.egenNæring.land")}})})]})};try{ue.displayName="OrgnummerEllerLand",ue.__docgenInfo={description:"",displayName:"OrgnummerEllerLand",props:{visibility:{defaultValue:null,description:"",name:"visibility",required:!0,type:{name:"QuestionVisibility<EgenNæringModalFormField, undefined>"}}}}}catch{}const An=({visibility:e})=>{const r=R(),a=i(r,"inntektsinformasjon.egenNæringModal.regnskapsførerNavn");return b(re,{children:[n(o,{padBottom:"l",visible:e.isVisible(t.harRegnskapsfører),children:n(h.YesOrNoQuestion,{name:t.harRegnskapsfører,legend:i(r,"inntektsinformasjon.egenNæringModal.harRegnskapsfører")})}),n(o,{padBottom:"l",visible:e.isVisible(t.navnRegnskapsfører),children:n(h.TextField,{name:t.navnRegnskapsfører,label:a,validate:Se(a,r)})}),n(o,{padBottom:"l",visible:e.isVisible(t.telefonRegnskapsfører),children:n(h.NumberInput,{name:t.telefonRegnskapsfører,label:i(r,"inntektsinformasjon.egenNæringModal.regnskapsførerTlf"),validate:fe(r,"valideringsfeil.inntektsinformasjon.regnskapsførerTelefonnummer.ugyldigFormat")})}),n(o,{padBottom:"l",visible:e.isVisible(t.regnskapsførerNærVennEllerFamilie),children:n(h.YesOrNoQuestion,{name:t.regnskapsførerNærVennEllerFamilie,legend:i(r,"inntektsinformasjon.egenNæringModal.regnskapsførerNærVennEllerFamilie")})}),n(o,{padBottom:"l",visible:e.isVisible(t.regnskapsførerNærVennEllerFamilie),children:n(je,{children:n(P,{children:n(k,{id:"inntektsinformasjon.egenNæringModal.regnskapsførerVeileder"})})})})]})};try{Regnskapsfrer.displayName="Regnskapsfrer",Regnskapsfrer.__docgenInfo={description:"",displayName:"Regnskapsfrer",props:{visibility:{defaultValue:null,description:"",name:"visibility",required:!0,type:{name:"QuestionVisibility<EgenNæringModalFormField, undefined>"}}}}}catch{}const yn=({isOpen:e,title:r,onRequestClose:a,selectedNæring:g,addNæring:m,editNæring:F})=>{const d=R(),A=he("egenNæringModal"),N=p=>{g?F(ye(p)):m(ye(p)),a()},B=i(d,"inntektsinformasjon.egenNæringModal.navnPåNæring"),D=i(d,"inntektsinformasjon.egenNæringModal.varigEndringAvNæringsinntektForklaring");return n(Ne,{open:e,"aria-label":r,onClose:a,closeButton:!0,shouldCloseOnOverlayClick:!1,className:A.block,children:n(h.FormikWrapper,{initialValues:cn(g),onSubmit:p=>N(p),renderForm:({values:p})=>{const f=vn.getVisbility(p);return b(h.Form,{includeButtons:!1,cleanup:V=>un(V,f),includeValidationSummary:!0,children:[n(o,{padBottom:"l",children:n(be,{size:"small",className:A.element("tittel"),children:n(k,{id:"inntektsinformasjon.egenNæringModal.tittel"})})}),n(o,{padBottom:"l",visible:f.isVisible(t.type),children:n(h.RadioGroup,{name:t.type,legend:i(d,"inntektsinformasjon.egenNæringModal.næringstype"),radios:[{label:i(d,"inntektsinformasjon.egenNæringModal.næringstype.dagmamma"),value:ie.DAGMAMMA},{label:i(d,"inntektsinformasjon.egenNæringModal.næringstype.fiske"),value:ie.FISKER},{label:i(d,"inntektsinformasjon.egenNæringModal.næringstype.jordbrukSkogbruk"),value:ie.JORDBRUK},{label:i(d,"inntektsinformasjon.egenNæringModal.næringstype.annen"),value:ie.ANNET}]})}),n(o,{padBottom:"l",visible:f.isVisible(t.navnPåNæringen),children:n(h.TextField,{name:t.navnPåNæringen,label:B,maxLength:100,validate:Se(B,d)})}),n(o,{padBottom:"l",visible:f.isVisible(t.registrertINorge),children:n(h.YesOrNoQuestion,{name:t.registrertINorge,legend:i(d,"inntektsinformasjon.egenNæringModal.erNæringenRegistrertINorge",{navnPåNæringen:p.navnPåNæringen}),validate:V=>{if(V===s.UNANSWERED)return i(d,"valideringsfeil.inntektsinformasjon.egenNæring.registrertINorge")}})}),n(ue,{visibility:f}),n(o,{padBottom:"l",visible:f.isVisible(t.fom),children:n(h.DatePicker,{name:t.fom,label:i(d,"inntektsinformasjon.egenNæringModal.startetNæring.fom",{navnPåNæringen:p.navnPåNæringen}),placeholder:"dd.mm.åååå",fullscreenOverlay:!0,showYearSelector:!0,validate:Nn(d,p.tom),maxDate:j().toDate()})}),n(o,{padBottom:"l",visible:f.isVisible(t.pågående),children:n(h.YesOrNoQuestion,{name:t.pågående,legend:i(d,"inntektsinformasjon.egenNæringModal.startetNæring.pågående",{navnPåNæringen:p.navnPåNæringen})})}),n(o,{padBottom:"l",visible:f.isVisible(t.tom),children:n(h.DatePicker,{name:t.tom,label:i(d,"inntektsinformasjon.egenNæringModal.startetNæring.tom",{navnPåNæringen:p.navnPåNæringen}),placeholder:"dd.mm.åååå",fullscreenOverlay:!0,showYearSelector:!0,validate:bn(d,p.fom),maxDate:j().toDate(),minDate:j(p.fom).toDate()})}),b(o,{padBottom:"l",visible:f.isVisible(t.næringsresultat),children:[n(h.NumberInput,{name:t.næringsresultat,label:i(d,"inntektsinformasjon.egenNæringModal.næringsinntekt"),validate:fe(d,"valideringsfeil.inntektsinformasjon.næringsinntekt.ugyldigFormat")}),n(ee,{header:i(d,"inntektsinformasjon.egenNæringModal.næringsinntekt.info.apneLabel"),children:n(P,{children:n(k,{id:"inntektsinformasjon.egenNæringModal.næringsinntekt.info"})})})]}),b(o,{padBottom:"l",visible:f.isVisible(t.harBlittYrkesaktivILøpetAvDeTreSisteFerdigliknedeÅrene),children:[n(h.YesOrNoQuestion,{name:t.harBlittYrkesaktivILøpetAvDeTreSisteFerdigliknedeÅrene,legend:i(d,"inntektsinformasjon.egenNæringModal.blittYrkesaktivSiste3År")}),n(ee,{header:i(d,"inntektsinformasjon.egenNæringModal.blittYrkesaktivSiste3År.info.apneLabel"),children:n(P,{children:n(k,{id:"inntektsinformasjon.egenNæringModal.blittYrkesaktivSiste3År.info"})})})]}),n(o,{padBottom:"l",visible:f.isVisible(t.yrkesAktivDato),children:n(h.DatePicker,{name:t.yrkesAktivDato,label:i(d,"inntektsinformasjon.egenNæringModal.yrkesaktivDato"),placeholder:"dd.mm.åååå",fullscreenOverlay:!0,showYearSelector:!0,validate:In(d),maxDate:j().toDate()})}),n(o,{padBottom:"l",visible:f.isVisible(t.hattVarigEndringAvNæringsinntektSiste4Kalenderår),children:n(h.YesOrNoQuestion,{name:t.hattVarigEndringAvNæringsinntektSiste4Kalenderår,legend:i(d,"inntektsinformasjon.egenNæringModal.varigEndringAvNæringsinntekt")})}),n(o,{padBottom:"l",visible:f.isVisible(t.datoForEndring),children:n(h.DatePicker,{name:t.datoForEndring,label:i(d,"inntektsinformasjon.egenNæringModal.varigEndringAvNæringsinntektDato"),placeholder:"dd.mm.åååå",fullscreenOverlay:!0,showYearSelector:!0,validate:Sn(d),maxDate:j().toDate()})}),n(o,{padBottom:"l",visible:f.isVisible(t.inntektEtterEndring),children:n(h.NumberInput,{name:t.inntektEtterEndring,label:i(d,"inntektsinformasjon.egenNæringModal.inntektEtterEndring"),validate:fe(d,"valideringsfeil.inntektsinformasjon.varigEndringAvInntekt.ugyldigFormat")})}),n(o,{padBottom:"l",visible:f.isVisible(t.forklaringEndring),children:n(h.Textarea,{name:t.forklaringEndring,label:D,maxLength:1e3,validate:En(d,D)})}),n(An,{visibility:f}),n(o,{visible:f.areAllQuestionsAnswered(),textAlignCenter:!0,children:n(G,{children:i(d,"søknad.gåVidere")})})]})}})})};try{EgenNringModal.displayName="EgenNringModal",EgenNringModal.__docgenInfo={description:"",displayName:"EgenNringModal",props:{isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},onRequestClose:{defaultValue:null,description:"",name:"onRequestClose",required:!0,type:{name:"() => void"}},selectedNæring:{defaultValue:null,description:"",name:"selectedNæring",required:!1,type:{name:"Næring"}},addNæring:{defaultValue:null,description:"",name:"addNæring",required:!0,type:{name:"(næring: Næring) => void"}},editNæring:{defaultValue:null,description:"",name:"editNæring",required:!0,type:{name:"(næring: Næring) => void"}}}}}catch{}const Fn=({egenNæringInformasjon:e,setEgenNæringsInformasjon:r,visibility:a,formValues:g})=>{const m=R(),[F,d]=C.useState(!1),[A,N]=C.useState(),B=()=>{d(!0),N(void 0)},D=c=>{const y=e.concat(c);r(y)},p=c=>{const y=e.filter(_=>_!==c);r(y)},f=c=>{const y=e.filter(_=>_!==A).concat(c);r(y)},V=c=>{N(c),d(!0)};return b(re,{children:[n(o,{visible:a.isVisible(v.hattInntektSomNæringsdrivende),children:b(o,{padBottom:"l",children:[n(U.YesOrNoQuestion,{name:v.hattInntektSomNæringsdrivende,legend:i(m,"inntektsinformasjon.harJobbetSomSelvstendigNæringsdrivendeSiste10Mnd"),validate:c=>{if(c===s.YES&&e.length===0)return i(m,"valideringsfeil.inntektsinformasjon.andreInntekter.måHaVirksomhet")}}),n(fn,{})]})}),g.hattInntektSomNæringsdrivende===s.YES&&b("div",{style:{backgroundColor:"#f1f1f1",marginBottom:"1rem",padding:"1rem"},children:[n(yn,{isOpen:F,title:"Næringsinformasjon",onRequestClose:()=>d(!1),selectedNæring:A,addNæring:D,editNæring:f}),n(o,{padBottom:"l",visible:e.length>0,children:n(pn,{næringsInformasjon:e,deleteNæring:p,selectNæring:V})}),n(G,{type:"button",onClick:B,children:n(k,{id:"inntektsinformasjon.leggTilVirksomhet"})})]})]})};try{EgenNring.displayName="EgenNring",EgenNring.__docgenInfo={description:"",displayName:"EgenNring",props:{egenNæringInformasjon:{defaultValue:null,description:"",name:"egenNæringInformasjon",required:!0,type:{name:"Næring[]"}},setEgenNæringsInformasjon:{defaultValue:null,description:"",name:"setEgenNæringsInformasjon",required:!0,type:{name:"(oppdrag: Næring[]) => void"}},visibility:{defaultValue:null,description:"",name:"visibility",required:!0,type:{name:"QuestionVisibility<InntektsinformasjonFormField, undefined>"}},formValues:{defaultValue:null,description:"",name:"formValues",required:!0,type:{name:"InntektsinformasjonFormData"}}}}}catch{}const Dn=e=>r=>{if(!l(r))return i(e,"valideringsfeil.inntektsinformasjon.frilansoppstartsDato.påkrevd");if(!q.isISODateString(r))return i(e,"valideringsfeil.inntektsinformasjon.frilansoppstartsDato.ugyldigDatoFormat");if(j().isBefore(j(r),"day"))return i(e,"valideringsfeil.inntektsinformasjon.frilansoppstartsDato.kanIkkeVæreFremITid")},ce=({frilansoppdrag:e,deleteFrilansoppdrag:r,selectOppdrag:a})=>e.length===0?null:n("ul",{style:{margin:0,padding:0,listStyle:"none"},children:e.map((g,m)=>n(Ee,{deleteLinkText:"Slett oppdrag",onDelete:()=>r(g),onEdit:()=>a(g),text:`${ae(g.tidsperiode.fom)} - ${g.tidsperiode.tom?ae(g.tidsperiode.tom):"pågående"}`,title:g.navnPåArbeidsgiver,deleteButtonAriaText:`Slett oppdrag for ${g.navnPåArbeidsgiver}`,editButtonAriaText:`Rediger oppdrag for ${g.navnPåArbeidsgiver}`},`${g.navnPåArbeidsgiver}+${m}`))});try{ce.displayName="FrilansoppdragListe",ce.__docgenInfo={description:"",displayName:"FrilansoppdragListe",props:{frilansoppdrag:{defaultValue:null,description:"",name:"frilansoppdrag",required:!0,type:{name:"FrilansOppdrag[]"}},deleteFrilansoppdrag:{defaultValue:null,description:"",name:"deleteFrilansoppdrag",required:!0,type:{name:"(oppdrag: FrilansOppdrag) => void"}},selectOppdrag:{defaultValue:null,description:"",name:"selectOppdrag",required:!0,type:{name:"(oppdrag: FrilansOppdrag) => void"}}}}}catch{}const jn=()=>{const e=R();return n(ee,{header:i(e,"inntektsinformasjon.harDuJobbetSomFrilansSiste10Mnd.apneLabel"),children:b("div",{children:[n(o,{padBottom:"l",children:n(P,{children:n(k,{id:"inntektsinformasjon.harDuJobbetSomFrilansSiste10Mnd.infoboksTekst.del1"})})}),n(o,{padBottom:"l",children:n(P,{children:n(k,{id:"inntektsinformasjon.harDuJobbetSomFrilansSiste10Mnd.infoboksTekst.del2"})})}),n(P,{children:n(k,{id:"inntektsinformasjon.harDuJobbetSomFrilansSiste10Mnd.infoboksTekst.del3",values:{a:r=>n(Te,{href:Z.frilanserInfoBoks,rel:"noreferrer",target:"_blank",children:r})}})})]})})};var I=(e=>(e.navnOppdragsgiver="navnOppdragsgiver",e.fom="fom",e.tom="tom",e.pågående="pågående",e))(I||{});const H=se(),$={[I.navnOppdragsgiver]:"",[I.fom]:"",[I.tom]:"",[I.pågående]:s.UNANSWERED},Vn=(e,r)=>({navnOppdragsgiver:r.isVisible(I.navnOppdragsgiver)?e.navnOppdragsgiver:$.navnOppdragsgiver,fom:r.isVisible(I.fom)?e.fom:$.fom,tom:r.isVisible(I.tom)?e.tom:$.tom,pågående:r.isVisible(I.pågående)?e.pågående:$.pågående}),Fe=e=>({navnPåArbeidsgiver:e.navnOppdragsgiver,pågående:T(e.pågående),tidsperiode:{fom:M(e.fom),tom:l(e.tom)?M(e.tom):void 0}}),On=e=>e?{...$,fom:K(e.tidsperiode.fom),tom:K(e.tidsperiode.tom)||"",navnOppdragsgiver:e.navnPåArbeidsgiver,pågående:O(e.pågående)}:{...$},Tn={[I.navnOppdragsgiver]:{isIncluded:()=>!0,isAnswered:({navnOppdragsgiver:e})=>l(e)},[I.fom]:{isIncluded:()=>!0,isAnswered:({fom:e})=>l(e),visibilityFilter:({navnOppdragsgiver:e})=>l(e)},[I.pågående]:{isIncluded:()=>!0,isAnswered:({pågående:e})=>e!==s.UNANSWERED,visibilityFilter:({fom:e})=>l(e)},[I.tom]:{isIncluded:({pågående:e})=>e===s.NO,isAnswered:({tom:e})=>l(e),visibilityFilter:({pågående:e})=>e===s.NO}},Bn=oe(Tn),_n=(e,r)=>a=>!l(a)||a.trim()===""?i(e,"valideringsfeil.inntektsinformasjon.frilansoppdrag.navnPåOppdragsgiver.påkrevd"):Oe(a,r,e),Mn=(e,r,a)=>g=>{if(!l(g))return i(e,"valideringsfeil.fraOgMedDato.påkrevd");if(!q.isISODateString(g))return i(e,"valideringsfeil.fraOgMedDato.gyldigDato");if(J(g))return i(e,"valideringsfeil.fraOgMedDato.erIFremtiden");if(x(g,a))return i(e,"valideringsfeil.inntektsinformasjon.frilansoppdrag.fom.førOppstartsdato");if(x(r,g))return i(e,"valideringsfeil.fraOgMedDato.førTilDato")},Rn=e=>r=>{if(r===s.UNANSWERED)return i(e,"valideringsfeil.inntektsinformasjon.frilansoppdrag.pågående.påkrevd")},Ln=(e,r,a,g)=>m=>{if(r!==s.YES){if(!l(m))return i(e,"valideringsfeil.tilOgMedDato.påkrevd");if(!q.isISODateString(m))return i(e,"valideringsfeil.tilOgMedDato.gyldigDato");if(J(m))return i(e,"valideringsfeil.tilOgMedDato.erIFremtiden");if(x(m,g))return i(e,"valideringsfeil.inntektsinformasjon.frilansoppdrag.tom.førOppstartsdato");if(x(m,a))return i(e,"valideringsfeil.tilOgMedDato.etterFraDato")}};const Yn=e=>j(e).year()<j().year(),ke=({isOpen:e,title:r,onRequestClose:a,selectedFrilansoppdrag:g,addFrilansoppdrag:m,editFrilansoppdrag:F,oppstartsdato:d})=>{const A=he("frilansoppdragModal"),N=R(),B=p=>{g?F(Fe(p)):m(Fe(p)),a()},D=i(N,"inntektsinformasjon.frilansOppdrag.oppdragsgiver");return n(Ne,{open:e,"aria-label":r,onClose:a,closeButton:!0,shouldCloseOnOverlayClick:!1,className:A.block,children:n(H.FormikWrapper,{initialValues:On(g),onSubmit:p=>B(p),renderForm:({values:p})=>{const f=Bn.getVisbility(p);return b(H.Form,{cleanup:V=>Vn(V,f),children:[n(be,{size:"small",className:A.element("tittel"),children:n(k,{id:"inntektsinformasjon.frilansOppdrag.tittel"})}),n(o,{padBottom:"l",children:n(H.TextField,{name:I.navnOppdragsgiver,label:D,validate:_n(N,D)})}),n(o,{padBottom:"l",visible:f.isVisible(I.fom),children:n(H.DatePicker,{name:I.fom,label:i(N,"fom"),placeholder:"dd.mm.åååå",fullscreenOverlay:!0,validate:Mn(N,p.tom,d),minDate:j(d).toDate(),maxDate:j().toDate(),showYearSelector:Yn(d)})}),n(o,{padBottom:"l",visible:f.isVisible(I.pågående),children:n(H.YesOrNoQuestion,{name:I.pågående,legend:i(N,"inntektsinformasjon.frilansOppdrag.pågående"),validate:Rn(N)})}),n(o,{padBottom:"l",visible:f.isVisible(I.tom),children:n(H.DatePicker,{name:I.tom,label:i(N,"tom"),placeholder:"dd.mm.åååå",fullscreenOverlay:!0,validate:Ln(N,p.pågående,p.fom,d),minDate:j(p.fom).toDate(),maxDate:j().toDate(),showYearSelector:!0})})]})}})})};try{ke.displayName="FrilansoppdragModal",ke.__docgenInfo={description:"",displayName:"FrilansoppdragModal",props:{isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},onRequestClose:{defaultValue:null,description:"",name:"onRequestClose",required:!0,type:{name:"() => void"}},selectedFrilansoppdrag:{defaultValue:null,description:"",name:"selectedFrilansoppdrag",required:!1,type:{name:"FrilansOppdrag"}},addFrilansoppdrag:{defaultValue:null,description:"",name:"addFrilansoppdrag",required:!0,type:{name:"(oppdrag: FrilansOppdrag) => void"}},editFrilansoppdrag:{defaultValue:null,description:"",name:"editFrilansoppdrag",required:!0,type:{name:"(oppdrag: FrilansOppdrag) => void"}},oppstartsdato:{defaultValue:null,description:"",name:"oppstartsdato",required:!0,type:{name:"string"}}}}}catch{}const ve=({frilansoppdrag:e,setFrilansoppdrag:r,visibility:a,formValues:g})=>{const m=R(),[F,d]=C.useState(!1),[A,N]=C.useState(),B=c=>{const y=e.concat(c);r(y)},D=c=>{const y=e.filter(_=>_!==c);r(y)},p=c=>{const y=e.filter(_=>_!==A).concat(c);r(y)},f=c=>{N(c),d(!0)},V=()=>{d(!0),N(void 0)};return b(re,{children:[b(o,{padBottom:"l",visible:a.isVisible(v.hattInntektSomFrilans),children:[n(U.YesOrNoQuestion,{name:v.hattInntektSomFrilans,legend:i(m,"inntektsinformasjon.harDuJobbetSomFrilansSiste10Mnd")}),n(jn,{})]}),g.hattInntektSomFrilans===s.YES&&b("div",{style:{backgroundColor:"#f1f1f1",marginBottom:"1rem",padding:"1rem"},children:[n(o,{padBottom:"l",visible:a.isVisible(v.frilansOppstartsDato),children:n(U.DatePicker,{name:v.frilansOppstartsDato,label:i(m,"inntektsinformasjon.frilans.oppstart"),validate:Dn(m),maxDate:Re,showYearSelector:!0,placeholder:"dd.mm.åååå"})}),n(o,{padBottom:"l",visible:a.isVisible(v.jobberFremdelesSomFrilanser),children:n(U.YesOrNoQuestion,{name:v.jobberFremdelesSomFrilanser,legend:i(m,"inntektsinformasjon.frilans.jobberFremdelesSomFrilans")})}),n(o,{padBottom:"l",visible:a.isVisible(v.oppdragForNæreVennerEllerFamilie),children:n(U.YesOrNoQuestion,{name:v.oppdragForNæreVennerEllerFamilie,legend:i(m,"inntektsinformasjon.harJobbetForNærVennEllerFamilieSiste10Mnd"),validate:c=>{if(c===s.YES&&e.length===0)return i(m,"valideringsfeil.inntektsinformasjon.andreInntekter.måHaFrilansOppdrag")}})}),b(o,{padBottom:"l",visible:g.oppdragForNæreVennerEllerFamilie===s.YES,children:[n(ke,{isOpen:F,title:i(m,"inntektsinformasjon.frilansOppdrag.tittel"),onRequestClose:()=>d(!1),selectedFrilansoppdrag:A,addFrilansoppdrag:B,editFrilansoppdrag:p,oppstartsdato:g.frilansOppstartsDato}),n(o,{padBottom:"l",visible:e.length>0,children:n(ce,{frilansoppdrag:e,deleteFrilansoppdrag:D,selectOppdrag:f})}),n(G,{type:"button",variant:"secondary",onClick:V,children:n(k,{id:"inntektsinformasjon.leggTilOppdrag"})})]}),n(o,{padBottom:"l",visible:a.isVisible(v.inntektSomFosterforelder),children:n(U.YesOrNoQuestion,{name:v.inntektSomFosterforelder,legend:i(m,"inntektsinformasjon.driverFosterhjem")})})]})]})};try{ve.displayName="Frilans",ve.__docgenInfo={description:"",displayName:"Frilans",props:{frilansoppdrag:{defaultValue:null,description:"",name:"frilansoppdrag",required:!0,type:{name:"FrilansOppdrag[]"}},setFrilansoppdrag:{defaultValue:null,description:"",name:"setFrilansoppdrag",required:!0,type:{name:"(oppdrag: FrilansOppdrag[]) => void"}},visibility:{defaultValue:null,description:"",name:"visibility",required:!0,type:{name:"QuestionVisibility<InntektsinformasjonFormField, undefined>"}},formValues:{defaultValue:null,description:"",name:"formValues",required:!0,type:{name:"InntektsinformasjonFormData"}}}}}catch{}const Pn=()=>b(z,{"aria-label":"Info til fiskere",children:[b(z.Header,{children:[n(z.Title,{as:"h2",children:n(k,{id:"inntektsinformasjon.infoTilFiskere.tittel"})}),n(z.Description,{children:n(k,{id:"inntektsinformasjon.infoTilFiskere.description"})})]}),b(z.Content,{children:[n(o,{padBottom:"l",children:n(L,{children:n(k,{id:"inntektsinformasjon.infoTilFiskere.del1"})})}),n(X,{as:"h3",style:{marginBottom:".5rem"},children:n(k,{id:"inntektsinformasjon.infoTilFiskere.hyre"})}),n(o,{padBottom:"l",children:n(L,{children:n(k,{id:"inntektsinformasjon.infoTilFiskere.del2"})})}),n(o,{padBottom:"l",children:n(L,{children:n(k,{id:"inntektsinformasjon.infoTilFiskere.del3",values:{a:e=>n("a",{href:Z.hvordanSendeInntektsmelding,target:"_blank",rel:"noreferrer",className:"lenke",children:e})}})})}),n(X,{as:"h3",style:{marginBottom:".5rem"},children:n(k,{id:"inntektsinformasjon.infoTilFiskere.lott"})}),n(o,{padBottom:"l",children:n(L,{children:n(k,{id:"inntektsinformasjon.infoTilFiskere.del4"})})}),n(o,{padBottom:"l",children:n(L,{children:n(k,{id:"inntektsinformasjon.infoTilFiskere.del5",values:{a:e=>n("a",{href:Z.omLottOgHyre,target:"_blank",rel:"noreferrer",className:"lenke",children:e})}})})}),n(X,{as:"h3",style:{marginBottom:".5rem"},children:n(k,{id:"inntektsinformasjon.infoTilFiskere.egenBåt"})}),n(o,{padBottom:"l",children:n(L,{children:n(k,{id:"inntektsinformasjon.infoTilFiskere.del6"})})}),n(X,{as:"h3",style:{marginBottom:".5rem"},children:n(k,{id:"inntektsinformasjon.infoTilFiskere.lottOgHyre"})}),n(o,{padBottom:"l",children:n(L,{children:n(k,{id:"inntektsinformasjon.infoTilFiskere.del7"})})}),n(o,{padBottom:"l",children:n(L,{children:n(k,{id:"inntektsinformasjon.infoTilFiskere.del8"})})}),n(o,{padBottom:"l",children:n(L,{children:n(k,{id:"inntektsinformasjon.infoTilFiskere.del9"})})}),n(o,{margin:"none",children:n(L,{children:n(k,{id:"inntektsinformasjon.infoTilFiskere.del5",values:{a:e=>n("a",{href:Z.omLottOgHyre,target:"_blank",rel:"noreferrer",className:"lenke",children:e})}})})})]})]}),Un={[v.hattInntektSomFrilans]:s.UNANSWERED,[v.hattInntektSomNæringsdrivende]:s.UNANSWERED,[v.hattAndreInntekter]:s.UNANSWERED,[v.frilansOppstartsDato]:"",[v.oppdragForNæreVennerEllerFamilie]:s.UNANSWERED,[v.inntektSomFosterforelder]:s.UNANSWERED,[v.jobberFremdelesSomFrilanser]:s.UNANSWERED,[v.hattAndreInntekter]:s.UNANSWERED},De=e=>e.harRegnskapsfører?{...e,regnskapsfører:{...e.regnskapsfører,navn:ne(e.regnskapsfører.navn)}}:e,Cn=e=>{const r=ne(e.navnPåNæringen);if(e.hattVarigEndringAvNæringsinntektSiste4Kalenderår){const a={...e.endringAvNæringsinntektInformasjon,forklaring:ne(e.endringAvNæringsinntektInformasjon.forklaring)};return{...De(e),navnPåNæringen:r,endringAvNæringsinntektInformasjon:a}}return{...De(e),navnPåNæringen:r}},qn=e=>e.map(r=>({...r,navnPåArbeidsgiver:ne(r.navnPåArbeidsgiver)})),wn=e=>e.map(r=>r.type===E.JOBB_I_UTLANDET?{...r,arbeidsgiverNavn:ne(r.arbeidsgiverNavn)}:r),Wn=(e,r,a,g,m)=>{let F;return e.hattInntektSomFrilans===s.YES&&(F={oppstart:M(e.frilansOppstartsDato),jobberFremdelesSomFrilans:T(e.jobberFremdelesSomFrilanser),harJobbetForNærVennEllerFamilieSiste10Mnd:T(e.oppdragForNæreVennerEllerFamilie),driverFosterhjem:T(e.inntektSomFosterforelder),oppdragForNæreVennerEllerFamilieSiste10Mnd:qn(g)}),{erAleneOmOmsorg:r.erAleneOmOmsorg,språkkode:r.språkkode,harHattAnnenInntektSiste10Mnd:T(e.hattAndreInntekter),harJobbetSomFrilansSiste10Mnd:T(e.hattInntektSomFrilans),harJobbetSomSelvstendigNæringsdrivendeSiste10Mnd:T(e.hattInntektSomNæringsdrivende),andreInntekterSiste10Mnd:e.hattAndreInntekter===s.YES?wn(a):[],selvstendigNæringsdrivendeInformasjon:e.hattInntektSomNæringsdrivende===s.YES?m.map(d=>Cn(d)):[],frilansInformasjon:e.hattInntektSomFrilans===s.YES?F:void 0}},xn=e=>({...Un,hattAndreInntekter:O(e.harHattAnnenInntektSiste10Mnd),hattInntektSomNæringsdrivende:O(e.harJobbetSomSelvstendigNæringsdrivendeSiste10Mnd),hattInntektSomFrilans:O(e.harJobbetSomFrilansSiste10Mnd),frilansOppstartsDato:e.frilansInformasjon?K(e.frilansInformasjon.oppstart):"",inntektSomFosterforelder:e.frilansInformasjon?O(e.frilansInformasjon.driverFosterhjem):s.UNANSWERED,jobberFremdelesSomFrilanser:e.frilansInformasjon?O(e.frilansInformasjon.jobberFremdelesSomFrilans):s.UNANSWERED,oppdragForNæreVennerEllerFamilie:e.frilansInformasjon?O(e.frilansInformasjon.harJobbetForNærVennEllerFamilieSiste10Mnd):s.UNANSWERED}),Jn={[v.hattInntektSomFrilans]:{isIncluded:()=>!0,isAnswered:({hattInntektSomFrilans:e})=>e!==s.UNANSWERED},[v.frilansOppstartsDato]:{isIncluded:({hattInntektSomFrilans:e})=>e===s.YES,isAnswered:({frilansOppstartsDato:e})=>l(e),visibilityFilter:({hattInntektSomFrilans:e})=>e===s.YES},[v.jobberFremdelesSomFrilanser]:{isIncluded:({hattInntektSomFrilans:e})=>e===s.YES,isAnswered:({jobberFremdelesSomFrilanser:e})=>e!==s.UNANSWERED,visibilityFilter:({frilansOppstartsDato:e})=>l(e)},[v.oppdragForNæreVennerEllerFamilie]:{isIncluded:({hattInntektSomFrilans:e})=>e===s.YES,isAnswered:({oppdragForNæreVennerEllerFamilie:e})=>e!==s.UNANSWERED,visibilityFilter:({jobberFremdelesSomFrilanser:e})=>e!==s.UNANSWERED},[v.inntektSomFosterforelder]:{isIncluded:({hattInntektSomFrilans:e})=>e===s.YES,isAnswered:({inntektSomFosterforelder:e})=>e!==s.UNANSWERED,visibilityFilter:({oppdragForNæreVennerEllerFamilie:e})=>e!==s.UNANSWERED},[v.hattInntektSomNæringsdrivende]:{isIncluded:()=>!0,isAnswered:({hattInntektSomNæringsdrivende:e})=>e!==s.UNANSWERED,visibilityFilter:({hattInntektSomFrilans:e})=>e!==s.UNANSWERED},[v.hattAndreInntekter]:{isIncluded:()=>!0,isAnswered:({hattAndreInntekter:e})=>e!==s.UNANSWERED,visibilityFilter:({hattInntektSomNæringsdrivende:e})=>e!==s.UNANSWERED}},Kn=oe(Jn),Qn=()=>{const e=R(),{arbeidsforhold:r}=we(),{søker:a,barn:g,søkersituasjon:m}=Ue(),F=Ce(g),d=m.situasjon==="adopsjon",A=qe(m.rolle),[N,B]=C.useState(a.frilansInformasjon?a.frilansInformasjon.oppdragForNæreVennerEllerFamilieSiste10Mnd:[]),[D,p]=C.useState(a.selvstendigNæringsdrivendeInformasjon?a.selvstendigNæringsdrivendeInformasjon:[]),[f,V]=C.useState(a.andreInntekterSiste10Mnd?a.andreInntekterSiste10Mnd:[]),c=w=>{const Q=Wn(w,a,f,N,D);return[Ye.setSøker(Q)]},{handleSubmit:y,isSubmitting:_}=Pe(c,Ie.OPPSUMMERING,w=>rn(w)),_e=We(),Me=xe();return nn(Ie.INNTEKTSINFORMASJON),n(U.FormikWrapper,{initialValues:xn(a),onSubmit:y,renderForm:({values:w})=>{const Q=Kn.getVisbility(w);return n(Le,{bannerTitle:i(e,"søknad.pageheading"),backLinkHref:Je("inntektsinformasjon"),activeStepId:"inntektsinformasjon",pageTitle:i(e,"søknad.inntektsinformasjon"),onCancel:_e,onContinueLater:Me,steps:Ke(e,!1),children:b(U.Form,{includeButtons:!1,includeValidationSummary:!0,children:[n(o,{padBottom:"l",children:n(P,{children:"Hvis du får utbetalinger fra NAV, trenger du ikke å opplyse om det i søknaden"})}),n(pe,{arbeidsforhold:tn(r,d,A,M(F))}),n(o,{padBottom:"l",children:n(ve,{frilansoppdrag:N,setFrilansoppdrag:B,visibility:Q,formValues:w})}),n(o,{padBottom:"l",children:n(Fn,{egenNæringInformasjon:D,setEgenNæringsInformasjon:p,visibility:Q,formValues:w})}),n(o,{padBottom:"l",children:n(me,{andreInntekterInformasjon:f,setAndreInntekterInformasjon:V,visibility:Q,formValues:w})}),n(o,{padBottom:"l",children:n(Pn,{})}),n(o,{textAlignCenter:!0,visible:Q.areAllQuestionsAnswered(),children:n(G,{type:"submit",disabled:_,loading:_,children:i(e,"søknad.gåVidere")})})]})})}})},Nr=Qn;export{Nr as I};
//# sourceMappingURL=Inntektsinformasjon-6cbae4f4.js.map

import{j as n,a as D,F as H}from"./jsx-runtime-670450c2.js";import{h as d,d as T,b as pe,i as Fe}from"./validationUtils-67294d5c.js";import{u as B,i as t,F as k}from"./IntlProvider-dc729df9.js";import"./index-7e4e529b.js";import{B as o}from"./Block-01b0ab76.js";import{u as De,a as je,S as Ve,g as Te,s as Ye}from"./useFortsettSøknadSenere-e3f0df02.js";import{r as U}from"./index-f1f749bf.js";import{f as ce,a as _e}from"./mapSøkerinfoDTO-f7746f82.js";import{l as $}from"./index-feafd352.js";import{l as v}from"./index-781d69e8.js";import{u as Me}from"./useOnValidSubmit-cccef928.js";import{u as Be,g as Re}from"./useSøknad-e0725e39.js";import{u as Le}from"./useSøkerinfo-2468b7ec.js";import{l as s,as as Pe,ap as C,at as W,au as w,av as fe,y as ee,aw as Ue,I as R,ax as Ce,aq as Ee,ao as z}from"./periodeUtils-f04fe3f4.js";import{I as ue}from"./InteractiveListElement-1d4a089b.js";import{A as E,H as qe,a as we,N as X}from"./Næring-dd71a89d.js";import{_ as ke}from"./index-47f3fb36.js";import{A as Se}from"./FormikFileInput-1aab3cd0.js";import{S as re}from"./Skjemanummer-77149054.js";import{a as _,c as M}from"./formUtils-05ec5f16.js";import{l as We}from"./vedleggUtils-7804bea0.js";import{Q as ne}from"./index-47edccfa.js";import{F as Je}from"./FormikFileUploader-235a07ed.js";import{_ as Ie}from"./veilederpanel-a75452fb.js";import{V as Ae}from"./VeilederNormal-911fc82a.js";import{U as Q}from"./UtvidetInformasjon-33c789c9.js";import{E as Oe}from"./EksternUrl-1f911108.js";import{l as G}from"./links-4dae79fa.js";import{u as xe,s as Ke}from"./useSaveLoadedRoute-c343dcd2.js";import{g as Qe}from"./arbeidsforholdUtils-02e69cae.js";var N=(e=>(e.hattInntektSomFrilans="hattInntektSomFrilans",e.hattInntektSomNæringsdrivende="hattInntektSomNæringsdrivende",e.hattAndreInntekter="hattAndreInntekter",e.frilansOppstartsDato="frilansOppstartsDato",e.jobberFremdelesSomFrilanser="jobberFremdelesSomFrilanser",e.oppdragForNæreVennerEllerFamilie="oppdragForNæreVennerEllerFamilie",e.inntektSomFosterforelder="inntektSomFosterforelder",e))(N||{});const P=s.getTypedFormComponents(),He=(e,r)=>e===E.JOBB_I_UTLANDET?t(r,"inntektsinformasjon.andreInntekter.inntektsliste.jobbIUtlandet"):e===E.MILITÆRTJENESTE?t(r,"inntektsinformasjon.andreInntekter.inntektsliste.førstegangstjeneste"):e===E.SLUTTPAKKE?t(r,"inntektsinformasjon.andreInntekter.inntektsliste.sluttpakke"):t(r,"inntektsinformasjon.andreInntekter.inntektsliste.ventelønn"),te=({andreInntekter:e,deleteAnnenInntekt:r,selectAnnenInntekt:a})=>{const g=B();return e.length===0?null:n("ul",{style:{margin:0,padding:0,listStyle:"none"},children:e.map((p,y)=>n(ue,{deleteLinkText:"Slett annen inntekt",onDelete:()=>r(p),onEdit:()=>a(p),text:Pe(p.tidsperiode),title:He(p.type,g),deleteButtonAriaText:"Slett annen inntekt",editButtonAriaText:"Rediger annen inntekt",missingDocumentation:p.vedlegg.length===0&&p.type!==E.JOBB_I_UTLANDET},`${p.type}${p.tidsperiode.fom}${y}`))})};try{te.displayName="AndreInntekterListe",te.__docgenInfo={description:"",displayName:"AndreInntekterListe",props:{andreInntekter:{defaultValue:null,description:"",name:"andreInntekter",required:!0,type:{name:"AnnenInntekt[]"}},deleteAnnenInntekt:{defaultValue:null,description:"",name:"deleteAnnenInntekt",required:!0,type:{name:"(oppdrag: AnnenInntekt) => void"}},selectAnnenInntekt:{defaultValue:null,description:"",name:"selectAnnenInntekt",required:!0,type:{name:"(oppdrag: AnnenInntekt) => void"}}}}}catch{}var u=(e=>(e.type="type",e.navnPåArbeidsgiver="navnPåArbeidsgiver",e.land="land",e.fom="fom",e.tom="tom",e.pågående="pågående",e.dokumentasjon="dokumentasjon",e))(u||{});const q=s.getTypedFormComponents(),L={[u.type]:void 0,[u.fom]:"",[u.tom]:"",[u.pågående]:s.YesOrNo.UNANSWERED,[u.navnPåArbeidsgiver]:"",[u.land]:"",[u.dokumentasjon]:[]},ye=e=>e.type===E.MILITÆRTJENESTE?re.DOK_MILITÆR_SILVIL_TJENESTE:e.type===E.SLUTTPAKKE?re.ETTERLØNN_ELLER_SLUTTVEDERLAG:re.ANNET,$e=(e,r)=>({type:r.isVisible(u.type)?e.type:L.type,dokumentasjon:r.isVisible(u.dokumentasjon)?We(e.dokumentasjon,Se.ANNEN_INNTEKT,ye(e)):L.dokumentasjon,fom:r.isVisible(u.fom)?e.fom:L.fom,tom:r.isVisible(u.tom)?e.tom:L.tom,pågående:r.isVisible(u.pågående)?e.pågående:L.pågående,navnPåArbeidsgiver:r.isVisible(u.navnPåArbeidsgiver)?e.navnPåArbeidsgiver:L.navnPåArbeidsgiver,land:r.isVisible(u.land)?e.land:L.land}),Ge=e=>e?e.type===E.JOBB_I_UTLANDET?{...L,navnPåArbeidsgiver:e.arbeidsgiverNavn,land:e.land,fom:e.tidsperiode.fom,tom:e.tidsperiode.tom||"",dokumentasjon:e.vedlegg,pågående:_(e.pågående),type:e.type}:{...L,fom:e.tidsperiode.fom,tom:e.tidsperiode.tom||"",dokumentasjon:e.vedlegg,pågående:_(e.pågående),type:e.type}:{...L},Ne=e=>e.type===E.JOBB_I_UTLANDET?{arbeidsgiverNavn:e.navnPåArbeidsgiver,land:e.land,pågående:M(e.pågående),tidsperiode:{fom:e.fom,tom:e.tom},type:e.type,vedlegg:[]}:{pågående:M(e.pågående),tidsperiode:{fom:e.fom,tom:e.tom},type:e.type,vedlegg:e.dokumentasjon||[]},ze={[u.type]:{isIncluded:()=>!0,isAnswered:({type:e})=>d(e)},[u.land]:{isIncluded:({type:e})=>e===E.JOBB_I_UTLANDET,isAnswered:({land:e})=>d(e),visibilityFilter:({type:e})=>e===E.JOBB_I_UTLANDET},[u.navnPåArbeidsgiver]:{isIncluded:({type:e})=>e===E.JOBB_I_UTLANDET,isAnswered:({navnPåArbeidsgiver:e})=>d(e),visibilityFilter:({land:e})=>d(e)},[u.fom]:{isIncluded:()=>!0,isAnswered:({fom:e})=>d(e),visibilityFilter:({type:e,navnPåArbeidsgiver:r,land:a})=>e===E.JOBB_I_UTLANDET&&d(r)&&d(a)||e!==E.JOBB_I_UTLANDET&&d(e)},[u.pågående]:{isIncluded:()=>!0,isAnswered:({pågående:e})=>e!==s.YesOrNo.UNANSWERED,visibilityFilter:({fom:e})=>d(e)},[u.tom]:{isIncluded:({pågående:e})=>e===s.YesOrNo.NO,isAnswered:({tom:e})=>d(e),visibilityFilter:({pågående:e})=>e===s.YesOrNo.NO},[u.dokumentasjon]:{isIncluded:({type:e})=>e!==E.JOBB_I_UTLANDET,isAnswered:()=>!0,visibilityFilter:({pågående:e,tom:r})=>e===s.YesOrNo.YES||e===s.YesOrNo.NO&&d(r)}},Xe=ne(ze),Ze=(e,r)=>a=>{if(!d(a))return t(e,"valideringsfeil.fraOgMedDato.påkrevd");if(!C.isISODateString(a))return t(e,"valideringsfeil.fraOgMedDato.gyldigDato");if(W(a))return t(e,"valideringsfeil.fraOgMedDato.erIFremtiden");if(w(r,a))return t(e,"valideringsfeil.fraOgMedDato.førTilDato")},en=(e,r)=>a=>{if(!d(a))return t(e,"valideringsfeil.tilOgMedDato.påkrevd");if(!C.isISODateString(a))return t(e,"valideringsfeil.tilOgMedDato.gyldigDato");if(W(a))return t(e,"valideringsfeil.tilOgMedDato.erIFremtiden");if(w(a,r))return t(e,"valideringsfeil.tilOgMedDato.etterFraDato")};const ie=({isOpen:e,contentLabel:r,onRequestClose:a,selectedAnnenInntekt:g,addAnnenInntekt:p,editAnnenInntekt:y})=>{const l=B(),S=pe("andreInntekterModal"),b=m=>{g?y(Ne(m)):p(Ne(m)),a()},Y=m=>m.type===E.MILITÆRTJENESTE?"inntektsinformasjon.andreInntekterModal.veileder.militær":m.type===E.SLUTTPAKKE?"inntektsinformasjon.andreInntekterModal.veileder.sluttpakke":"inntektsinformasjon.andreInntekterModal.veileder.ventelønn",j=t(l,"annenInntekt.spørsmål.arbeidsgiver");return n(ke,{isOpen:e,contentLabel:r,onRequestClose:a,closeButton:!0,shouldCloseOnOverlayClick:!1,className:S.block,children:n(q.FormikWrapper,{initialValues:Ge(g),onSubmit:b,renderForm:({values:m})=>{const f=Xe.getVisbility(m);return D(q.Form,{includeButtons:!1,cleanup:V=>$e(V,f),children:[n(o,{padBottom:"l",children:n(v.Undertittel,{className:S.element("tittel"),children:n(k,{id:"inntektsinformasjon.andreInntekterModal.tittel"})})}),n(o,{padBottom:"l",visible:f.isVisible(u.type),children:n(q.RadioPanelGroup,{name:u.type,radios:[{label:"Jobb i utlandet",value:E.JOBB_I_UTLANDET},{label:"Vartpenger og ventelønn",value:E.VENTELØNN},{label:"Sluttvederlag",value:E.SLUTTPAKKE},{label:"Førstegangstjeneste",value:E.MILITÆRTJENESTE}]})}),n(o,{padBottom:"l",visible:f.isVisible(u.land),children:n(q.CountrySelect,{name:u.land,label:t(l,"annenInntekt.spørsmål.land"),useAlpha3Code:!1})}),n(o,{padBottom:"l",visible:f.isVisible(u.navnPåArbeidsgiver),children:n(q.Input,{name:u.navnPåArbeidsgiver,label:j,validate:fe(j,l)})}),n(o,{padBottom:"l",visible:f.isVisible(u.fom),children:n(q.DatePicker,{name:u.fom,label:t(l,"fom"),placeholder:"dd.mm.åååå",fullscreenOverlay:!0,showYearSelector:!0,validate:Ze(l,m.tom),maxDate:T().toDate()})}),n(o,{padBottom:"l",visible:f.isVisible(u.pågående),children:n(q.YesOrNoQuestion,{name:u.pågående,legend:t(l,"pågående")})}),n(o,{padBottom:"l",visible:f.isVisible(u.tom),children:n(q.DatePicker,{name:u.tom,label:t(l,"tom"),placeholder:"dd.mm.åååå",fullscreenOverlay:!0,showYearSelector:!0,validate:en(l,m.fom),maxDate:T().toDate()})}),n(o,{padBottom:"l",visible:f.isVisible(u.dokumentasjon),children:n(Ie,{fargetema:"normal",svg:n(Ae,{transparentBackground:!0}),children:n(k,{id:Y(m)})})}),n(o,{padBottom:"l",visible:f.isVisible(u.dokumentasjon),children:n(Je,{name:u.dokumentasjon,label:"Last opp dokumentasjon",attachments:m.dokumentasjon,attachmentType:Se.ANNEN_INNTEKT,skjemanummer:ye(m)})}),n(o,{visible:f.areAllQuestionsAnswered(),textAlignCenter:!0,children:n($.Hovedknapp,{children:t(l,"søknad.gåVidere")})})]})}})})};try{ie.displayName="AndreInntekterModal",ie.__docgenInfo={description:"",displayName:"AndreInntekterModal",props:{isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},contentLabel:{defaultValue:null,description:"",name:"contentLabel",required:!0,type:{name:"string"}},onRequestClose:{defaultValue:null,description:"",name:"onRequestClose",required:!0,type:{name:"() => void"}},addAnnenInntekt:{defaultValue:null,description:"",name:"addAnnenInntekt",required:!0,type:{name:"(annenInntekt: AnnenInntekt) => void"}},editAnnenInntekt:{defaultValue:null,description:"",name:"editAnnenInntekt",required:!0,type:{name:"(annenInntekt: AnnenInntekt) => void"}},selectedAnnenInntekt:{defaultValue:null,description:"",name:"selectedAnnenInntekt",required:!0,type:{name:"AnnenInntekt | undefined"}}}}}catch{}const se=({andreInntekterInformasjon:e,setAndreInntekterInformasjon:r,visibility:a,formValues:g})=>{const p=B(),[y,l]=U.useState(!1),[S,b]=U.useState(),Y=()=>{l(!0)},j=c=>{const F=e.concat(c);r(F)},m=c=>{const F=e.filter(I=>I!==c);r(F)},f=c=>{const F=e.filter(I=>I!==S).concat(c);r(F)},V=c=>{b(c),l(!0)};return D(H,{children:[n(o,{padBottom:"l",visible:a.isVisible(N.hattAndreInntekter),children:n(P.YesOrNoQuestion,{name:N.hattAndreInntekter,legend:t(p,"inntektsinformasjon.annenInntekt"),validate:c=>{if(c===s.YesOrNo.YES&&e.length===0)return t(p,"valideringsfeil.inntektsinformasjon.andreInntekter.måHaOppdrag")}})}),g.hattAndreInntekter===s.YesOrNo.YES&&D("div",{style:{backgroundColor:"#f1f1f1",marginBottom:"1rem",padding:"1rem"},children:[n(ie,{isOpen:y,contentLabel:t(p,"inntektsinformasjon.andreInntekterModal.contentLabel"),onRequestClose:()=>l(!1),selectedAnnenInntekt:S,addAnnenInntekt:j,editAnnenInntekt:f}),n(o,{padBottom:"l",visible:e.length>0,children:n(te,{andreInntekter:e,deleteAnnenInntekt:m,selectAnnenInntekt:V})}),n($.Knapp,{htmlType:"button",onClick:Y,children:n(k,{id:"inntektsinformasjon.leggTilOppdrag"})})]})]})};try{se.displayName="AndreInntekter",se.__docgenInfo={description:"",displayName:"AndreInntekter",props:{andreInntekterInformasjon:{defaultValue:null,description:"",name:"andreInntekterInformasjon",required:!0,type:{name:"AnnenInntekt[]"}},setAndreInntekterInformasjon:{defaultValue:null,description:"",name:"setAndreInntekterInformasjon",required:!0,type:{name:"any"}},visibility:{defaultValue:null,description:"",name:"visibility",required:!0,type:{name:"QuestionVisibility<InntektsinformasjonFormField, undefined>"}},formValues:{defaultValue:null,description:"",name:"formValues",required:!0,type:{name:"InntektsinformasjonFormData"}}}}}catch{}const ae=({arbeidsforhold:e})=>{const r=e!==void 0&&e.length>0;return D(H,{children:[n(v.Element,{children:"Dine arbeidsforhold"}),n(Q,{apneLabel:"Les mer om dine arbeidsforhold",children:n(v.Normaltekst,{children:"Er det feil eller mangler i informasjonen om dine arbeidsforhold? Da må du be din arbeidsgiver oppdatere med riktig informasjon i Arbeidsgiver- og arbeidstakerregisteret."})}),n(qe,{harArbeidsforhold:r}),n(we,{harArbeidsforhold:r,arbeidsforhold:e})]})};try{ae.displayName="ArbeidsforholdInformasjon",ae.__docgenInfo={description:"",displayName:"ArbeidsforholdInformasjon",props:{arbeidsforhold:{defaultValue:null,description:"",name:"arbeidsforhold",required:!0,type:{name:"Arbeidsforhold[]"}}}}}catch{}const nn=({næringsInformasjon:e,deleteNæring:r,selectNæring:a})=>e.length===0?null:n("ul",{style:{margin:0,padding:0,listStyle:"none"},children:e.map((g,p)=>n(ue,{deleteLinkText:"Slett næring",onDelete:()=>r(g),onEdit:()=>a(g),text:`${ee(g.tidsperiode.fom)} - ${g.tidsperiode.tom?ee(g.tidsperiode.tom):"pågående"}`,title:g.navnPåNæringen,deleteButtonAriaText:"Slett næring",editButtonAriaText:"Rediger næring"},`${g.navnPåNæringen}${p}`))});try{EgenNringListe.displayName="EgenNringListe",EgenNringListe.__docgenInfo={description:"",displayName:"EgenNringListe",props:{næringsInformasjon:{defaultValue:null,description:"",name:"næringsInformasjon",required:!0,type:{name:"Næring[]"}},deleteNæring:{defaultValue:null,description:"",name:"deleteNæring",required:!0,type:{name:"(oppdrag: Næring) => void"}},selectNæring:{defaultValue:null,description:"",name:"selectNæring",required:!0,type:{name:"(oppdrag: Næring) => void"}}}}}catch{}const rn=()=>{const e=B();return n(Q,{apneLabel:t(e,"inntektsinformasjon.harJobbetSomSelvstendigNæringsdrivendeSiste10Mnd.apneLabel"),children:n("div",{style:{backgroundColor:"#f1f1f1",padding:"1.5rem"},children:n(v.Normaltekst,{children:n(Oe,{tekst:"inntektsinformasjon.harJobbetSomSelvstendigNæringsdrivendeSiste10Mnd.infoboks.tekst",url:G.næringsdrivendeInfoBoks,lenkeTekst:t(e,"hjemmeside")})})})})};var i=(e=>(e.type="type",e.navnPåNæringen="navnPåNæringen",e.registrertINorge="registrertINorge",e.orgnr="orgnr",e.land="land",e.fom="fom",e.tom="tom",e.pågående="pågående",e.yrkesAktivDato="yrkesAktivDato",e.næringsresultat="næringsresultat",e.harBlittYrkesaktivILøpetAvDeTreSisteFerdigliknedeÅrene="harBlittYrkesaktivILøpetAvDeTreSisteFerdigliknedeÅrene",e.hattVarigEndringAvNæringsinntektSiste4Kalenderår="hattVarigEndringAvNæringsinntektSiste4Kalenderår",e.datoForEndring="datoForEndring",e.inntektEtterEndring="inntektEtterEndring",e.forklaringEndring="forklaringEndring",e.harRegnskapsfører="harRegnskapsfører",e.navnRegnskapsfører="navnRegnskapsfører",e.telefonRegnskapsfører="telefonRegnskapsfører",e.regnskapsførerNærVennEllerFamilie="regnskapsførerNærVennEllerFamilie",e))(i||{});const h=s.getTypedFormComponents(),A={[i.type]:void 0,[i.navnPåNæringen]:"",[i.registrertINorge]:s.YesOrNo.UNANSWERED,[i.orgnr]:"",[i.land]:"",[i.tom]:"",[i.fom]:"",[i.pågående]:s.YesOrNo.UNANSWERED,[i.næringsresultat]:"",[i.hattVarigEndringAvNæringsinntektSiste4Kalenderår]:s.YesOrNo.UNANSWERED,[i.harBlittYrkesaktivILøpetAvDeTreSisteFerdigliknedeÅrene]:s.YesOrNo.UNANSWERED,[i.yrkesAktivDato]:"",[i.datoForEndring]:"",[i.inntektEtterEndring]:"",[i.forklaringEndring]:"",[i.harRegnskapsfører]:s.YesOrNo.UNANSWERED,[i.navnRegnskapsfører]:"",[i.telefonRegnskapsfører]:"",[i.regnskapsførerNærVennEllerFamilie]:s.YesOrNo.UNANSWERED},tn=(e,r)=>({type:r.isVisible(i.type)?e.type:void 0,navnPåNæringen:r.isVisible(i.navnPåNæringen)?e.navnPåNæringen:A.navnPåNæringen,registrertINorge:r.isVisible(i.registrertINorge)?e.registrertINorge:A.registrertINorge,orgnr:r.isVisible(i.orgnr)?e.orgnr:A.orgnr,land:r.isVisible(i.land)?e.land:A.land,tom:r.isVisible(i.tom)?e.tom:A.tom,fom:r.isVisible(i.fom)?e.fom:A.fom,pågående:r.isVisible(i.pågående)?e.pågående:A.pågående,næringsresultat:r.isVisible(i.næringsresultat)?e.næringsresultat:A.næringsresultat,hattVarigEndringAvNæringsinntektSiste4Kalenderår:r.isVisible(i.hattVarigEndringAvNæringsinntektSiste4Kalenderår)?e.hattVarigEndringAvNæringsinntektSiste4Kalenderår:A.hattVarigEndringAvNæringsinntektSiste4Kalenderår,harBlittYrkesaktivILøpetAvDeTreSisteFerdigliknedeÅrene:r.isVisible(i.harBlittYrkesaktivILøpetAvDeTreSisteFerdigliknedeÅrene)?e.harBlittYrkesaktivILøpetAvDeTreSisteFerdigliknedeÅrene:A.harBlittYrkesaktivILøpetAvDeTreSisteFerdigliknedeÅrene,yrkesAktivDato:r.isVisible(i.yrkesAktivDato)?e.yrkesAktivDato:A.yrkesAktivDato,datoForEndring:r.isVisible(i.datoForEndring)?e.datoForEndring:A.datoForEndring,inntektEtterEndring:r.isVisible(i.inntektEtterEndring)?e.inntektEtterEndring:A.inntektEtterEndring,forklaringEndring:r.isVisible(i.forklaringEndring)?e.forklaringEndring:A.forklaringEndring,harRegnskapsfører:r.isVisible(i.harRegnskapsfører)?e.harRegnskapsfører:A.harRegnskapsfører,navnRegnskapsfører:r.isVisible(i.navnRegnskapsfører)?e.navnRegnskapsfører:A.navnRegnskapsfører,telefonRegnskapsfører:r.isVisible(i.telefonRegnskapsfører)?e.telefonRegnskapsfører:A.telefonRegnskapsfører,regnskapsførerNærVennEllerFamilie:r.isVisible(i.regnskapsførerNærVennEllerFamilie)?e.regnskapsførerNærVennEllerFamilie:A.regnskapsførerNærVennEllerFamilie}),sn=e=>{var r;return e?{...A,type:e.næringstyper.length>0?e.næringstyper[0]:void 0,navnPåNæringen:e.navnPåNæringen,registrertINorge:_(e.registrertINorge),land:e.registrertILand||"",fom:s.dateToISOString(e.tidsperiode.fom),tom:s.dateToISOString(e.tidsperiode.tom)||"",orgnr:e.organisasjonsnummer||"",pågående:_(e.pågående),næringsresultat:((r=e.næringsinntekt)==null?void 0:r.toString())||"",hattVarigEndringAvNæringsinntektSiste4Kalenderår:_(e.hattVarigEndringAvNæringsinntektSiste4Kalenderår),harBlittYrkesaktivILøpetAvDeTreSisteFerdigliknedeÅrene:_(e.harBlittYrkesaktivILøpetAvDeTreSisteFerdigliknedeÅrene),yrkesAktivDato:s.dateToISOString(e.oppstartsdato)||"",datoForEndring:e.endringAvNæringsinntektInformasjon?s.dateToISOString(e.endringAvNæringsinntektInformasjon.dato):"",inntektEtterEndring:e.endringAvNæringsinntektInformasjon?e.endringAvNæringsinntektInformasjon.næringsinntektEtterEndring.toString():"",forklaringEndring:e.endringAvNæringsinntektInformasjon?e.endringAvNæringsinntektInformasjon.forklaring:"",harRegnskapsfører:_(e.harRegnskapsfører),navnRegnskapsfører:e.regnskapsfører?e.regnskapsfører.navn:"",telefonRegnskapsfører:e.regnskapsfører?e.regnskapsfører.telefonnummer:"",regnskapsførerNærVennEllerFamilie:_(e.regnskapsfører?e.regnskapsfører.erNærVennEllerFamilie:void 0)}:{...A}},ve=e=>{let r,a;return e.hattVarigEndringAvNæringsinntektSiste4Kalenderår===s.YesOrNo.YES&&(r={dato:R(e.datoForEndring),forklaring:e.forklaringEndring,næringsinntektEtterEndring:parseInt(e.inntektEtterEndring)}),e.harRegnskapsfører===s.YesOrNo.YES&&(a={navn:e.navnRegnskapsfører,telefonnummer:e.telefonRegnskapsfører,erNærVennEllerFamilie:M(e.regnskapsførerNærVennEllerFamilie)}),{næringstyper:[e.type],navnPåNæringen:e.navnPåNæringen,registrertINorge:M(e.registrertINorge),organisasjonsnummer:d(e.orgnr)?e.orgnr:void 0,registrertILand:d(e.land)?e.land:void 0,tidsperiode:{fom:R(e.fom),tom:R(e.tom)},pågående:M(e.pågående),næringsinntekt:d(e.næringsresultat)?parseInt(e.næringsresultat,10):void 0,hattVarigEndringAvNæringsinntektSiste4Kalenderår:M(e.hattVarigEndringAvNæringsinntektSiste4Kalenderår),harBlittYrkesaktivILøpetAvDeTreSisteFerdigliknedeÅrene:M(e.harBlittYrkesaktivILøpetAvDeTreSisteFerdigliknedeÅrene),oppstartsdato:d(e.yrkesAktivDato)?R(e.yrkesAktivDato):void 0,endringAvNæringsinntektInformasjon:r,harRegnskapsfører:M(e.harRegnskapsfører),regnskapsfører:a}},Z=e=>e?T(e).startOf("day").isAfter(Ue,"day"):!0,an={[i.type]:{isIncluded:()=>!0,isAnswered:({type:e})=>e!==void 0},[i.navnPåNæringen]:{isIncluded:()=>!0,isAnswered:({navnPåNæringen:e})=>d(e),visibilityFilter:({type:e})=>e!==void 0},[i.registrertINorge]:{isIncluded:()=>!0,isAnswered:({registrertINorge:e})=>e!==s.YesOrNo.UNANSWERED,visibilityFilter:({navnPåNæringen:e})=>d(e)},[i.orgnr]:{isIncluded:({registrertINorge:e})=>e===s.YesOrNo.YES,isAnswered:({orgnr:e})=>d(e),visibilityFilter:({registrertINorge:e})=>e===s.YesOrNo.YES},[i.land]:{isIncluded:({registrertINorge:e})=>e===s.YesOrNo.NO,isAnswered:({land:e})=>d(e),visibilityFilter:({registrertINorge:e})=>e===s.YesOrNo.NO},[i.fom]:{isIncluded:()=>!0,isAnswered:({fom:e})=>d(e),visibilityFilter:({orgnr:e,land:r})=>d(e)||d(r)},[i.pågående]:{isIncluded:()=>!0,isAnswered:({pågående:e})=>e!==s.YesOrNo.UNANSWERED,visibilityFilter:({fom:e})=>d(e)},[i.tom]:{isIncluded:({pågående:e})=>e===s.YesOrNo.NO,isAnswered:({tom:e})=>d(e),visibilityFilter:({pågående:e})=>e===s.YesOrNo.NO},[i.næringsresultat]:{isIncluded:({fom:e})=>Z(R(e)),isAnswered:({næringsresultat:e})=>d(e),visibilityFilter:({pågående:e,tom:r})=>e===s.YesOrNo.YES||d(r)},[i.harBlittYrkesaktivILøpetAvDeTreSisteFerdigliknedeÅrene]:{isIncluded:({fom:e})=>Z(R(e)),isAnswered:({harBlittYrkesaktivILøpetAvDeTreSisteFerdigliknedeÅrene:e})=>e!==s.YesOrNo.UNANSWERED,visibilityFilter:({næringsresultat:e})=>d(e)},[i.yrkesAktivDato]:{isIncluded:({fom:e})=>Z(R(e)),isAnswered:({yrkesAktivDato:e})=>d(e),visibilityFilter:({harBlittYrkesaktivILøpetAvDeTreSisteFerdigliknedeÅrene:e})=>e===s.YesOrNo.YES},[i.hattVarigEndringAvNæringsinntektSiste4Kalenderår]:{isIncluded:({fom:e})=>!Z(R(e)),isAnswered:({hattVarigEndringAvNæringsinntektSiste4Kalenderår:e})=>e!==s.YesOrNo.UNANSWERED,visibilityFilter:({pågående:e,tom:r})=>e===s.YesOrNo.YES||d(r)},[i.datoForEndring]:{isIncluded:({hattVarigEndringAvNæringsinntektSiste4Kalenderår:e})=>e===s.YesOrNo.YES,isAnswered:({datoForEndring:e})=>d(e),visibilityFilter:({hattVarigEndringAvNæringsinntektSiste4Kalenderår:e})=>e===s.YesOrNo.YES},[i.inntektEtterEndring]:{isIncluded:({hattVarigEndringAvNæringsinntektSiste4Kalenderår:e})=>e===s.YesOrNo.YES,isAnswered:({inntektEtterEndring:e})=>d(e),visibilityFilter:({datoForEndring:e})=>d(e)},[i.forklaringEndring]:{isIncluded:({hattVarigEndringAvNæringsinntektSiste4Kalenderår:e})=>e===s.YesOrNo.YES,isAnswered:({forklaringEndring:e})=>d(e),visibilityFilter:({inntektEtterEndring:e})=>d(e)},[i.harRegnskapsfører]:{isIncluded:()=>!0,isAnswered:({harRegnskapsfører:e})=>e!==s.YesOrNo.UNANSWERED,visibilityFilter:({yrkesAktivDato:e,forklaringEndring:r,harBlittYrkesaktivILøpetAvDeTreSisteFerdigliknedeÅrene:a,hattVarigEndringAvNæringsinntektSiste4Kalenderår:g})=>d(e)||d(r)||a===s.YesOrNo.NO||g===s.YesOrNo.NO},[i.navnRegnskapsfører]:{isIncluded:({harRegnskapsfører:e})=>e===s.YesOrNo.YES,isAnswered:({navnRegnskapsfører:e})=>d(e),visibilityFilter:({harRegnskapsfører:e})=>e===s.YesOrNo.YES},[i.telefonRegnskapsfører]:{isIncluded:({harRegnskapsfører:e})=>e===s.YesOrNo.YES,isAnswered:({telefonRegnskapsfører:e})=>d(e),visibilityFilter:({navnRegnskapsfører:e})=>d(e)},[i.regnskapsførerNærVennEllerFamilie]:{isIncluded:({harRegnskapsfører:e})=>e===s.YesOrNo.YES,isAnswered:({regnskapsførerNærVennEllerFamilie:e})=>e!==s.YesOrNo.UNANSWERED,visibilityFilter:({telefonRegnskapsfører:e})=>d(e)}},on=ne(an),ln=(e,r)=>a=>{if(!d(a))return t(e,"valideringsfeil.fraOgMedDato.påkrevd");if(!C.isISODateString(a))return t(e,"valideringsfeil.fraOgMedDato.gyldigDato");if(W(a))return t(e,"valideringsfeil.fraOgMedDato.erIFremtiden");if(w(r,a))return t(e,"valideringsfeil.fraOgMedDato.førTilDato")},dn=(e,r)=>a=>{if(!d(a))return t(e,"valideringsfeil.tilOgMedDato.påkrevd");if(!C.isISODateString(a))return t(e,"valideringsfeil.tilOgMedDato.gyldigDato");if(W(a))return t(e,"valideringsfeil.fraOgMedDato.erIFremtiden");if(w(a,r))return t(e,"valideringsfeil.fraOgMedDato.førTilDato")},gn=e=>r=>{if(!Ce(r))return t(e,"valideringsfeil.inntektsinformasjon.orgnr.ugyldigFormat")},mn=(e,r)=>a=>a.length<25?t(e,"valideringsfeil.inntektsinformasjon.forklaringTilEndring.forKort"):a.length>1e3?t(e,"valideringsfeil.inntektsinformasjon.forklaringTilEndring.forLang"):Ee(a,r,e),pn=e=>r=>{if(!d(r))return t(e,"valideringsfeil.tilOgMedDato.påkrevd");if(!C.isISODateString(r))return t(e,"valideringsfeil.tilOgMedDato.gyldigDato");if(W(r))return t(e,"valideringsfeil.fraOgMedDato.erIFremtiden")},fn=e=>r=>{if(!d(r))return t(e,"valideringsfeil.tilOgMedDato.påkrevd");if(!C.isISODateString(r))return t(e,"valideringsfeil.tilOgMedDato.gyldigDato");if(W(r))return t(e,"valideringsfeil.fraOgMedDato.erIFremtiden")},oe=(e,r)=>a=>{const g=s.getNumberFromNumberInputValue(a);if(!g||Math.round(g)!==g)return t(e,r)},le=({visibility:e})=>{const r=B();return D(H,{children:[n(o,{padBottom:"l",visible:e.isVisible(i.orgnr),children:n(h.NumberInput,{name:i.orgnr,label:t(r,"inntektsinformasjon.egenNæringModal.orgnr"),validate:gn(r)})}),n(o,{padBottom:"l",visible:e.isVisible(i.land),children:n(h.CountrySelect,{name:i.land,label:t(r,"inntektsinformasjon.egenNæringModal.registrertILand"),useAlpha3Code:!1,validate:a=>{if(!d(a))return t(r,"valideringsfeil.inntektsinformasjon.egenNæring.land")}})})]})};try{le.displayName="OrgnummerEllerLand",le.__docgenInfo={description:"",displayName:"OrgnummerEllerLand",props:{visibility:{defaultValue:null,description:"",name:"visibility",required:!0,type:{name:"QuestionVisibility<EgenNæringModalFormField, undefined>"}}}}}catch{}const un=({visibility:e})=>{const r=B(),a=t(r,"inntektsinformasjon.egenNæringModal.regnskapsførerNavn");return D(H,{children:[n(o,{padBottom:"l",visible:e.isVisible(i.harRegnskapsfører),children:n(h.YesOrNoQuestion,{name:i.harRegnskapsfører,legend:t(r,"inntektsinformasjon.egenNæringModal.harRegnskapsfører")})}),n(o,{padBottom:"l",visible:e.isVisible(i.navnRegnskapsfører),children:n(h.Input,{name:i.navnRegnskapsfører,label:a,validate:fe(a,r)})}),n(o,{padBottom:"l",visible:e.isVisible(i.telefonRegnskapsfører),children:n(h.NumberInput,{name:i.telefonRegnskapsfører,label:t(r,"inntektsinformasjon.egenNæringModal.regnskapsførerTlf"),validate:oe(r,"valideringsfeil.inntektsinformasjon.regnskapsførerTelefonnummer.ugyldigFormat")})}),n(o,{padBottom:"l",visible:e.isVisible(i.regnskapsførerNærVennEllerFamilie),children:n(h.YesOrNoQuestion,{name:i.regnskapsførerNærVennEllerFamilie,legend:t(r,"inntektsinformasjon.egenNæringModal.regnskapsførerNærVennEllerFamilie")})}),n(o,{padBottom:"l",visible:e.isVisible(i.regnskapsførerNærVennEllerFamilie),children:n(Ie,{fargetema:"normal",svg:n(Ae,{transparentBackground:!0}),children:n(v.Normaltekst,{children:n(k,{id:"inntektsinformasjon.egenNæringModal.regnskapsførerVeileder"})})})})]})};try{Regnskapsfrer.displayName="Regnskapsfrer",Regnskapsfrer.__docgenInfo={description:"",displayName:"Regnskapsfrer",props:{visibility:{defaultValue:null,description:"",name:"visibility",required:!0,type:{name:"QuestionVisibility<EgenNæringModalFormField, undefined>"}}}}}catch{}const kn=({isOpen:e,title:r,onRequestClose:a,selectedNæring:g,addNæring:p,editNæring:y})=>{const l=B(),S=pe("egenNæringModal"),b=m=>{g?y(ve(m)):p(ve(m)),a()},Y=t(l,"inntektsinformasjon.egenNæringModal.navnPåNæring"),j=t(l,"inntektsinformasjon.egenNæringModal.varigEndringAvNæringsinntektForklaring");return n(ke,{isOpen:e,contentLabel:r,onRequestClose:a,closeButton:!0,shouldCloseOnOverlayClick:!1,className:S.block,children:n(h.FormikWrapper,{initialValues:sn(g),onSubmit:m=>b(m),renderForm:({values:m})=>{const f=on.getVisbility(m);return D(h.Form,{includeButtons:!1,cleanup:V=>tn(V,f),includeValidationSummary:!0,children:[n(o,{padBottom:"l",children:n(v.Undertittel,{className:S.element("tittel"),children:n(k,{id:"inntektsinformasjon.egenNæringModal.tittel"})})}),n(o,{padBottom:"l",visible:f.isVisible(i.type),children:n(h.RadioPanelGroup,{name:i.type,legend:t(l,"inntektsinformasjon.egenNæringModal.næringstype"),radios:[{label:t(l,"inntektsinformasjon.egenNæringModal.næringstype.dagmamma"),value:X.DAGMAMMA},{label:t(l,"inntektsinformasjon.egenNæringModal.næringstype.fiske"),value:X.FISKER},{label:t(l,"inntektsinformasjon.egenNæringModal.næringstype.jordbrukSkogbruk"),value:X.JORDBRUK},{label:t(l,"inntektsinformasjon.egenNæringModal.næringstype.annen"),value:X.ANNET}]})}),n(o,{padBottom:"l",visible:f.isVisible(i.navnPåNæringen),children:n(h.Input,{name:i.navnPåNæringen,label:Y,maxLength:100,validate:fe(Y,l)})}),n(o,{padBottom:"l",visible:f.isVisible(i.registrertINorge),children:n(h.YesOrNoQuestion,{name:i.registrertINorge,legend:t(l,"inntektsinformasjon.egenNæringModal.erNæringenRegistrertINorge",{navnPåNæringen:m.navnPåNæringen}),validate:V=>{if(V===s.YesOrNo.UNANSWERED)return t(l,"valideringsfeil.inntektsinformasjon.egenNæring.registrertINorge")}})}),n(le,{visibility:f}),n(o,{padBottom:"l",visible:f.isVisible(i.fom),children:n(h.DatePicker,{name:i.fom,label:t(l,"inntektsinformasjon.egenNæringModal.startetNæring.fom",{navnPåNæringen:m.navnPåNæringen}),placeholder:"dd.mm.åååå",fullscreenOverlay:!0,showYearSelector:!0,validate:ln(l,m.tom),maxDate:T().toDate()})}),n(o,{padBottom:"l",visible:f.isVisible(i.pågående),children:n(h.YesOrNoQuestion,{name:i.pågående,legend:t(l,"inntektsinformasjon.egenNæringModal.startetNæring.pågående",{navnPåNæringen:m.navnPåNæringen})})}),n(o,{padBottom:"l",visible:f.isVisible(i.tom),children:n(h.DatePicker,{name:i.tom,label:t(l,"inntektsinformasjon.egenNæringModal.startetNæring.tom",{navnPåNæringen:m.navnPåNæringen}),placeholder:"dd.mm.åååå",fullscreenOverlay:!0,showYearSelector:!0,validate:dn(l,m.fom),maxDate:T().toDate(),minDate:T(m.fom).toDate()})}),n(o,{padBottom:"l",visible:f.isVisible(i.næringsresultat),children:n(h.NumberInput,{name:i.næringsresultat,label:t(l,"inntektsinformasjon.egenNæringModal.næringsinntekt"),description:n(Q,{apneLabel:t(l,"inntektsinformasjon.egenNæringModal.næringsinntekt.info.apneLabel"),children:n(v.Normaltekst,{children:n(k,{id:"inntektsinformasjon.egenNæringModal.næringsinntekt.info"})})}),validate:oe(l,"valideringsfeil.inntektsinformasjon.næringsinntekt.ugyldigFormat")})}),n(o,{padBottom:"l",visible:f.isVisible(i.harBlittYrkesaktivILøpetAvDeTreSisteFerdigliknedeÅrene),children:n(h.YesOrNoQuestion,{name:i.harBlittYrkesaktivILøpetAvDeTreSisteFerdigliknedeÅrene,legend:t(l,"inntektsinformasjon.egenNæringModal.blittYrkesaktivSiste3År"),description:n(Q,{apneLabel:t(l,"inntektsinformasjon.egenNæringModal.blittYrkesaktivSiste3År.info.apneLabel"),children:n(v.Normaltekst,{children:n(k,{id:"inntektsinformasjon.egenNæringModal.blittYrkesaktivSiste3År.info"})})})})}),n(o,{padBottom:"l",visible:f.isVisible(i.yrkesAktivDato),children:n(h.DatePicker,{name:i.yrkesAktivDato,label:t(l,"inntektsinformasjon.egenNæringModal.yrkesaktivDato"),placeholder:"dd.mm.åååå",fullscreenOverlay:!0,showYearSelector:!0,validate:fn(l),maxDate:T().toDate()})}),n(o,{padBottom:"l",visible:f.isVisible(i.hattVarigEndringAvNæringsinntektSiste4Kalenderår),children:n(h.YesOrNoQuestion,{name:i.hattVarigEndringAvNæringsinntektSiste4Kalenderår,legend:t(l,"inntektsinformasjon.egenNæringModal.varigEndringAvNæringsinntekt")})}),n(o,{padBottom:"l",visible:f.isVisible(i.datoForEndring),children:n(h.DatePicker,{name:i.datoForEndring,label:t(l,"inntektsinformasjon.egenNæringModal.varigEndringAvNæringsinntektDato"),placeholder:"dd.mm.åååå",fullscreenOverlay:!0,showYearSelector:!0,validate:pn(l),maxDate:T().toDate()})}),n(o,{padBottom:"l",visible:f.isVisible(i.inntektEtterEndring),children:n(h.NumberInput,{name:i.inntektEtterEndring,label:t(l,"inntektsinformasjon.egenNæringModal.inntektEtterEndring"),validate:oe(l,"valideringsfeil.inntektsinformasjon.varigEndringAvInntekt.ugyldigFormat")})}),n(o,{padBottom:"l",visible:f.isVisible(i.forklaringEndring),children:n(h.Textarea,{name:i.forklaringEndring,label:j,maxLength:1e3,validate:mn(l,j)})}),n(un,{visibility:f}),n(o,{visible:f.areAllQuestionsAnswered(),textAlignCenter:!0,children:n($.Hovedknapp,{children:t(l,"søknad.gåVidere")})})]})}})})};try{EgenNringModal.displayName="EgenNringModal",EgenNringModal.__docgenInfo={description:"",displayName:"EgenNringModal",props:{isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},onRequestClose:{defaultValue:null,description:"",name:"onRequestClose",required:!0,type:{name:"() => void"}},selectedNæring:{defaultValue:null,description:"",name:"selectedNæring",required:!1,type:{name:"Næring"}},addNæring:{defaultValue:null,description:"",name:"addNæring",required:!0,type:{name:"(næring: Næring) => void"}},editNæring:{defaultValue:null,description:"",name:"editNæring",required:!0,type:{name:"(næring: Næring) => void"}}}}}catch{}const cn=({egenNæringInformasjon:e,setEgenNæringsInformasjon:r,visibility:a,formValues:g})=>{const p=B(),[y,l]=U.useState(!1),[S,b]=U.useState(),Y=()=>{l(!0),b(void 0)},j=c=>{const F=e.concat(c);r(F)},m=c=>{const F=e.filter(I=>I!==c);r(F)},f=c=>{const F=e.filter(I=>I!==S).concat(c);r(F)},V=c=>{b(c),l(!0)};return D(H,{children:[n(o,{padBottom:"l",visible:a.isVisible(N.hattInntektSomNæringsdrivende),children:n(P.YesOrNoQuestion,{name:N.hattInntektSomNæringsdrivende,legend:t(p,"inntektsinformasjon.harJobbetSomSelvstendigNæringsdrivendeSiste10Mnd"),description:n(rn,{}),validate:c=>{if(c===s.YesOrNo.YES&&e.length===0)return t(p,"valideringsfeil.inntektsinformasjon.andreInntekter.måHaVirksomhet")}})}),g.hattInntektSomNæringsdrivende===s.YesOrNo.YES&&D("div",{style:{backgroundColor:"#f1f1f1",marginBottom:"1rem",padding:"1rem"},children:[n(kn,{isOpen:y,title:"Næringsinformasjon",onRequestClose:()=>l(!1),selectedNæring:S,addNæring:j,editNæring:f}),n(o,{padBottom:"l",visible:e.length>0,children:n(nn,{næringsInformasjon:e,deleteNæring:m,selectNæring:V})}),n($.Knapp,{htmlType:"button",onClick:Y,children:n(k,{id:"inntektsinformasjon.leggTilVirksomhet"})})]})]})};try{EgenNring.displayName="EgenNring",EgenNring.__docgenInfo={description:"",displayName:"EgenNring",props:{egenNæringInformasjon:{defaultValue:null,description:"",name:"egenNæringInformasjon",required:!0,type:{name:"Næring[]"}},setEgenNæringsInformasjon:{defaultValue:null,description:"",name:"setEgenNæringsInformasjon",required:!0,type:{name:"(oppdrag: Næring[]) => void"}},visibility:{defaultValue:null,description:"",name:"visibility",required:!0,type:{name:"QuestionVisibility<InntektsinformasjonFormField, undefined>"}},formValues:{defaultValue:null,description:"",name:"formValues",required:!0,type:{name:"InntektsinformasjonFormData"}}}}}catch{}const Nn=e=>r=>{if(!d(r))return t(e,"valideringsfeil.inntektsinformasjon.frilansoppstartsDato.påkrevd");if(!C.isISODateString(r))return t(e,"valideringsfeil.inntektsinformasjon.frilansoppstartsDato.ugyldigDatoFormat");if(T().isBefore(T(r),"day"))return t(e,"valideringsfeil.inntektsinformasjon.frilansoppstartsDato.kanIkkeVæreFremITid")},de=({frilansoppdrag:e,deleteFrilansoppdrag:r,selectOppdrag:a})=>e.length===0?null:n("ul",{style:{margin:0,padding:0,listStyle:"none"},children:e.map((g,p)=>n(ue,{deleteLinkText:"Slett oppdrag",onDelete:()=>r(g),onEdit:()=>a(g),text:`${ee(g.tidsperiode.fom)} - ${g.tidsperiode.tom?ee(g.tidsperiode.tom):"pågående"}`,title:g.navnPåArbeidsgiver,deleteButtonAriaText:`Slett oppdrag for ${g.navnPåArbeidsgiver}`,editButtonAriaText:`Rediger oppdrag for ${g.navnPåArbeidsgiver}`},`${g.navnPåArbeidsgiver}+${p}`))});try{de.displayName="FrilansoppdragListe",de.__docgenInfo={description:"",displayName:"FrilansoppdragListe",props:{frilansoppdrag:{defaultValue:null,description:"",name:"frilansoppdrag",required:!0,type:{name:"FrilansOppdrag[]"}},deleteFrilansoppdrag:{defaultValue:null,description:"",name:"deleteFrilansoppdrag",required:!0,type:{name:"(oppdrag: FrilansOppdrag) => void"}},selectOppdrag:{defaultValue:null,description:"",name:"selectOppdrag",required:!0,type:{name:"(oppdrag: FrilansOppdrag) => void"}}}}}catch{}const vn=()=>{const e=B();return n(Q,{apneLabel:t(e,"inntektsinformasjon.harDuJobbetSomFrilansSiste10Mnd.apneLabel"),children:D("div",{style:{backgroundColor:"#f1f1f1",padding:"1.5rem"},children:[n(v.Normaltekst,{children:n(k,{id:"inntektsinformasjon.harDuJobbetSomFrilansSiste10Mnd.infoboksTekst.del1"})}),D("ul",{children:[n("li",{children:n(k,{id:"inntektsinformasjon.harDuJobbetSomFrilansSiste10Mnd.infoboksTekst.punkt1"})}),n("li",{children:n(k,{id:"inntektsinformasjon.harDuJobbetSomFrilansSiste10Mnd.infoboksTekst.punkt2"})}),n("li",{children:n(k,{id:"inntektsinformasjon.harDuJobbetSomFrilansSiste10Mnd.infoboksTekst.punkt3"})}),n("li",{children:n(k,{id:"inntektsinformasjon.harDuJobbetSomFrilansSiste10Mnd.infoboksTekst.punkt4"})}),n("li",{children:n(k,{id:"inntektsinformasjon.harDuJobbetSomFrilansSiste10Mnd.infoboksTekst.punkt5"})}),n("li",{children:n(k,{id:"inntektsinformasjon.harDuJobbetSomFrilansSiste10Mnd.infoboksTekst.punkt6"})}),n("li",{children:n(k,{id:"inntektsinformasjon.harDuJobbetSomFrilansSiste10Mnd.infoboksTekst.punkt7"})}),n("li",{children:n(k,{id:"inntektsinformasjon.harDuJobbetSomFrilansSiste10Mnd.infoboksTekst.punkt8"})})]}),D(v.Normaltekst,{children:[n(k,{id:"inntektsinformasjon.harDuJobbetSomFrilansSiste10Mnd.infoboksTekst.del2"}),n(Oe,{url:G.frilanserInfoBoks,lenkeTekst:t(e,"hjemmeside")})]})]})})};var O=(e=>(e.navnOppdragsgiver="navnOppdragsgiver",e.fom="fom",e.tom="tom",e.pågående="pågående",e))(O||{});const x=s.getTypedFormComponents(),K={[O.navnOppdragsgiver]:"",[O.fom]:"",[O.tom]:"",[O.pågående]:s.YesOrNo.UNANSWERED},bn=(e,r)=>({navnOppdragsgiver:r.isVisible(O.navnOppdragsgiver)?e.navnOppdragsgiver:K.navnOppdragsgiver,fom:r.isVisible(O.fom)?e.fom:K.fom,tom:r.isVisible(O.tom)?e.tom:K.tom,pågående:r.isVisible(O.pågående)?e.pågående:K.pågående}),be=e=>({navnPåArbeidsgiver:e.navnOppdragsgiver,pågående:M(e.pågående),tidsperiode:{fom:R(e.fom),tom:d(e.tom)?R(e.tom):void 0}}),hn=e=>e?{...K,fom:s.dateToISOString(e.tidsperiode.fom),tom:s.dateToISOString(e.tidsperiode.tom)||"",navnOppdragsgiver:e.navnPåArbeidsgiver,pågående:_(e.pågående)}:{...K},En={[O.navnOppdragsgiver]:{isIncluded:()=>!0,isAnswered:({navnOppdragsgiver:e})=>d(e)},[O.fom]:{isIncluded:()=>!0,isAnswered:({fom:e})=>d(e),visibilityFilter:({navnOppdragsgiver:e})=>d(e)},[O.pågående]:{isIncluded:()=>!0,isAnswered:({pågående:e})=>e!==s.YesOrNo.UNANSWERED,visibilityFilter:({fom:e})=>d(e)},[O.tom]:{isIncluded:({pågående:e})=>e===s.YesOrNo.NO,isAnswered:({tom:e})=>d(e),visibilityFilter:({pågående:e})=>e===s.YesOrNo.NO}},Sn=ne(En),In=(e,r)=>a=>!d(a)||a.trim()===""?t(e,"valideringsfeil.inntektsinformasjon.frilansoppdrag.navnPåOppdragsgiver.påkrevd"):Ee(a,r,e),An=(e,r,a)=>g=>{if(!d(g))return t(e,"valideringsfeil.fraOgMedDato.påkrevd");if(!C.isISODateString(g))return t(e,"valideringsfeil.fraOgMedDato.gyldigDato");if(W(g))return t(e,"valideringsfeil.fraOgMedDato.erIFremtiden");if(w(g,a))return t(e,"valideringsfeil.inntektsinformasjon.frilansoppdrag.fom.førOppstartsdato");if(w(r,g))return t(e,"valideringsfeil.fraOgMedDato.førTilDato")},On=e=>r=>{if(r===s.YesOrNo.UNANSWERED)return t(e,"valideringsfeil.inntektsinformasjon.frilansoppdrag.pågående.påkrevd")},yn=(e,r,a,g)=>p=>{if(r!==s.YesOrNo.YES){if(!d(p))return t(e,"valideringsfeil.tilOgMedDato.påkrevd");if(!C.isISODateString(p))return t(e,"valideringsfeil.tilOgMedDato.gyldigDato");if(W(p))return t(e,"valideringsfeil.tilOgMedDato.erIFremtiden");if(w(p,g))return t(e,"valideringsfeil.inntektsinformasjon.frilansoppdrag.tom.førOppstartsdato");if(w(p,a))return t(e,"valideringsfeil.tilOgMedDato.etterFraDato")}};const Fn=e=>T(e).year()<T().year(),ge=({isOpen:e,title:r,onRequestClose:a,selectedFrilansoppdrag:g,addFrilansoppdrag:p,editFrilansoppdrag:y,oppstartsdato:l})=>{const S=pe("frilansoppdragModal"),b=B(),Y=m=>{g?y(be(m)):p(be(m)),a()},j=t(b,"inntektsinformasjon.frilansOppdrag.oppdragsgiver");return n(ke,{isOpen:e,contentLabel:r,onRequestClose:a,closeButton:!0,shouldCloseOnOverlayClick:!1,className:S.block,children:n(x.FormikWrapper,{initialValues:hn(g),onSubmit:m=>Y(m),renderForm:({values:m})=>{const f=Sn.getVisbility(m);return D(x.Form,{cleanup:V=>bn(V,f),children:[n(v.Undertittel,{className:S.element("tittel"),children:n(k,{id:"inntektsinformasjon.frilansOppdrag.tittel"})}),n(o,{padBottom:"l",children:n(x.Input,{name:O.navnOppdragsgiver,label:j,validate:In(b,j)})}),n(o,{padBottom:"l",visible:f.isVisible(O.fom),children:n(x.DatePicker,{name:O.fom,label:t(b,"fom"),placeholder:"dd.mm.åååå",fullscreenOverlay:!0,validate:An(b,m.tom,l),minDate:T(l).toDate(),maxDate:T().toDate(),showYearSelector:Fn(l)})}),n(o,{padBottom:"l",visible:f.isVisible(O.pågående),children:n(x.YesOrNoQuestion,{name:O.pågående,legend:t(b,"inntektsinformasjon.frilansOppdrag.pågående"),validate:On(b)})}),n(o,{padBottom:"l",visible:f.isVisible(O.tom),children:n(x.DatePicker,{name:O.tom,label:t(b,"tom"),placeholder:"dd.mm.åååå",fullscreenOverlay:!0,validate:yn(b,m.pågående,m.fom,l),minDate:T(m.fom).toDate(),maxDate:T().toDate(),showYearSelector:!0})})]})}})})};try{ge.displayName="FrilansoppdragModal",ge.__docgenInfo={description:"",displayName:"FrilansoppdragModal",props:{isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},onRequestClose:{defaultValue:null,description:"",name:"onRequestClose",required:!0,type:{name:"() => void"}},selectedFrilansoppdrag:{defaultValue:null,description:"",name:"selectedFrilansoppdrag",required:!1,type:{name:"FrilansOppdrag"}},addFrilansoppdrag:{defaultValue:null,description:"",name:"addFrilansoppdrag",required:!0,type:{name:"(oppdrag: FrilansOppdrag) => void"}},editFrilansoppdrag:{defaultValue:null,description:"",name:"editFrilansoppdrag",required:!0,type:{name:"(oppdrag: FrilansOppdrag) => void"}},oppstartsdato:{defaultValue:null,description:"",name:"oppstartsdato",required:!0,type:{name:"string"}}}}}catch{}const me=({frilansoppdrag:e,setFrilansoppdrag:r,visibility:a,formValues:g})=>{const p=B(),[y,l]=U.useState(!1),[S,b]=U.useState(),Y=c=>{const F=e.concat(c);r(F)},j=c=>{const F=e.filter(I=>I!==c);r(F)},m=c=>{const F=e.filter(I=>I!==S).concat(c);r(F)},f=c=>{b(c),l(!0)},V=()=>{l(!0),b(void 0)};return D(H,{children:[n(o,{padBottom:"l",visible:a.isVisible(N.hattInntektSomFrilans),children:n(P.YesOrNoQuestion,{name:N.hattInntektSomFrilans,legend:t(p,"inntektsinformasjon.harDuJobbetSomFrilansSiste10Mnd"),description:n(vn,{})})}),g.hattInntektSomFrilans===s.YesOrNo.YES&&D("div",{style:{backgroundColor:"#f1f1f1",marginBottom:"1rem",padding:"1rem"},children:[n(o,{padBottom:"l",visible:a.isVisible(N.frilansOppstartsDato),children:n(P.DatePicker,{name:N.frilansOppstartsDato,label:t(p,"inntektsinformasjon.frilans.oppstart"),validate:Nn(p),maxDate:Fe,showYearSelector:!0,placeholder:"dd.mm.åååå"})}),n(o,{padBottom:"l",visible:a.isVisible(N.jobberFremdelesSomFrilanser),children:n(P.YesOrNoQuestion,{name:N.jobberFremdelesSomFrilanser,legend:t(p,"inntektsinformasjon.frilans.jobberFremdelesSomFrilans")})}),n(o,{padBottom:"l",visible:a.isVisible(N.oppdragForNæreVennerEllerFamilie),children:n(P.YesOrNoQuestion,{name:N.oppdragForNæreVennerEllerFamilie,legend:t(p,"inntektsinformasjon.harJobbetForNærVennEllerFamilieSiste10Mnd"),validate:c=>{if(c===s.YesOrNo.YES&&e.length===0)return t(p,"valideringsfeil.inntektsinformasjon.andreInntekter.måHaFrilansOppdrag")}})}),D(o,{padBottom:"l",visible:g.oppdragForNæreVennerEllerFamilie===s.YesOrNo.YES,children:[n(ge,{isOpen:y,title:t(p,"inntektsinformasjon.frilansOppdrag.tittel"),onRequestClose:()=>l(!1),selectedFrilansoppdrag:S,addFrilansoppdrag:Y,editFrilansoppdrag:m,oppstartsdato:g.frilansOppstartsDato}),n(o,{padBottom:"l",visible:e.length>0,children:n(de,{frilansoppdrag:e,deleteFrilansoppdrag:j,selectOppdrag:f})}),n($.Knapp,{htmlType:"button",onClick:V,children:n(k,{id:"inntektsinformasjon.leggTilOppdrag"})})]}),n(o,{padBottom:"l",visible:a.isVisible(N.inntektSomFosterforelder),children:n(P.YesOrNoQuestion,{name:N.inntektSomFosterforelder,legend:t(p,"inntektsinformasjon.driverFosterhjem")})})]})]})};try{me.displayName="Frilans",me.__docgenInfo={description:"",displayName:"Frilans",props:{frilansoppdrag:{defaultValue:null,description:"",name:"frilansoppdrag",required:!0,type:{name:"FrilansOppdrag[]"}},setFrilansoppdrag:{defaultValue:null,description:"",name:"setFrilansoppdrag",required:!0,type:{name:"(oppdrag: FrilansOppdrag[]) => void"}},visibility:{defaultValue:null,description:"",name:"visibility",required:!0,type:{name:"QuestionVisibility<InntektsinformasjonFormField, undefined>"}},formValues:{defaultValue:null,description:"",name:"formValues",required:!0,type:{name:"InntektsinformasjonFormData"}}}}}catch{}const Dn=()=>{const e=B();return n(Q,{apneLabel:t(e,"inntektsinformasjon.infoTilFiskere.apneLabel"),children:D("div",{style:{backgroundColor:"#f1f1f1",padding:"1.5rem"},children:[n(o,{padBottom:"m",children:n(v.Normaltekst,{children:n(k,{id:"inntektsinformasjon.infoTilFiskere.del1"})})}),n(v.Element,{tag:"h3",style:{marginBottom:".5rem"},children:n(k,{id:"inntektsinformasjon.infoTilFiskere.hyre"})}),n(o,{padBottom:"m",children:n(v.Normaltekst,{children:n(k,{id:"inntektsinformasjon.infoTilFiskere.del2"})})}),n(o,{padBottom:"m",children:n(v.Normaltekst,{children:n(k,{id:"inntektsinformasjon.infoTilFiskere.del3",values:{a:r=>n("a",{href:G.hvordanSendeInntektsmelding,target:"_blank",rel:"noreferrer",className:"lenke",children:r})}})})}),n(v.Element,{tag:"h3",style:{marginBottom:".5rem"},children:n(k,{id:"inntektsinformasjon.infoTilFiskere.lott"})}),n(o,{padBottom:"m",children:n(v.Normaltekst,{children:n(k,{id:"inntektsinformasjon.infoTilFiskere.del4"})})}),n(o,{padBottom:"m",children:n(v.Normaltekst,{children:n(k,{id:"inntektsinformasjon.infoTilFiskere.del5",values:{a:r=>n("a",{href:G.omLottOgHyre,target:"_blank",rel:"noreferrer",className:"lenke",children:r})}})})}),n(v.Element,{tag:"h3",style:{marginBottom:".5rem"},children:n(k,{id:"inntektsinformasjon.infoTilFiskere.egenBåt"})}),n(o,{padBottom:"m",children:n(v.Normaltekst,{children:n(k,{id:"inntektsinformasjon.infoTilFiskere.del6"})})}),n(v.Element,{tag:"h3",style:{marginBottom:".5rem"},children:n(k,{id:"inntektsinformasjon.infoTilFiskere.lottOgHyre"})}),n(o,{padBottom:"m",children:n(v.Normaltekst,{children:n(k,{id:"inntektsinformasjon.infoTilFiskere.del7"})})}),n(o,{padBottom:"m",children:n(v.Normaltekst,{children:n(k,{id:"inntektsinformasjon.infoTilFiskere.del8"})})}),n(o,{padBottom:"m",children:n(v.Normaltekst,{children:n(k,{id:"inntektsinformasjon.infoTilFiskere.del9"})})}),n(o,{margin:"none",children:n(v.Normaltekst,{children:n(k,{id:"inntektsinformasjon.infoTilFiskere.del5",values:{a:r=>n("a",{href:G.omLottOgHyre,target:"_blank",rel:"noreferrer",className:"lenke",children:r})}})})})]})})},jn={[N.hattInntektSomFrilans]:s.YesOrNo.UNANSWERED,[N.hattInntektSomNæringsdrivende]:s.YesOrNo.UNANSWERED,[N.hattAndreInntekter]:s.YesOrNo.UNANSWERED,[N.frilansOppstartsDato]:"",[N.oppdragForNæreVennerEllerFamilie]:s.YesOrNo.UNANSWERED,[N.inntektSomFosterforelder]:s.YesOrNo.UNANSWERED,[N.jobberFremdelesSomFrilanser]:s.YesOrNo.UNANSWERED,[N.hattAndreInntekter]:s.YesOrNo.UNANSWERED},he=e=>e.harRegnskapsfører?{...e,regnskapsfører:{...e.regnskapsfører,navn:z(e.regnskapsfører.navn)}}:e,Vn=e=>{const r=z(e.navnPåNæringen);if(e.hattVarigEndringAvNæringsinntektSiste4Kalenderår){const a={...e.endringAvNæringsinntektInformasjon,forklaring:z(e.endringAvNæringsinntektInformasjon.forklaring)};return{...he(e),navnPåNæringen:r,endringAvNæringsinntektInformasjon:a}}return{...he(e),navnPåNæringen:r}},Tn=e=>e.map(r=>({...r,navnPåArbeidsgiver:z(r.navnPåArbeidsgiver)})),Yn=e=>e.map(r=>r.type===E.JOBB_I_UTLANDET?{...r,arbeidsgiverNavn:z(r.arbeidsgiverNavn)}:r),_n=(e,r,a,g,p)=>{let y;return e.hattInntektSomFrilans===s.YesOrNo.YES&&(y={oppstart:R(e.frilansOppstartsDato),jobberFremdelesSomFrilans:M(e.jobberFremdelesSomFrilanser),harJobbetForNærVennEllerFamilieSiste10Mnd:M(e.oppdragForNæreVennerEllerFamilie),driverFosterhjem:M(e.inntektSomFosterforelder),oppdragForNæreVennerEllerFamilieSiste10Mnd:Tn(g)}),{erAleneOmOmsorg:r.erAleneOmOmsorg,språkkode:r.språkkode,harHattAnnenInntektSiste10Mnd:M(e.hattAndreInntekter),harJobbetSomFrilansSiste10Mnd:M(e.hattInntektSomFrilans),harJobbetSomSelvstendigNæringsdrivendeSiste10Mnd:M(e.hattInntektSomNæringsdrivende),andreInntekterSiste10Mnd:e.hattAndreInntekter===s.YesOrNo.YES?Yn(a):[],selvstendigNæringsdrivendeInformasjon:e.hattInntektSomNæringsdrivende===s.YesOrNo.YES?p.map(l=>Vn(l)):[],frilansInformasjon:e.hattInntektSomFrilans===s.YesOrNo.YES?y:void 0}},Mn=e=>({...jn,hattAndreInntekter:_(e.harHattAnnenInntektSiste10Mnd),hattInntektSomNæringsdrivende:_(e.harJobbetSomSelvstendigNæringsdrivendeSiste10Mnd),hattInntektSomFrilans:_(e.harJobbetSomFrilansSiste10Mnd),frilansOppstartsDato:e.frilansInformasjon?s.dateToISOString(e.frilansInformasjon.oppstart):"",inntektSomFosterforelder:e.frilansInformasjon?_(e.frilansInformasjon.driverFosterhjem):s.YesOrNo.UNANSWERED,jobberFremdelesSomFrilanser:e.frilansInformasjon?_(e.frilansInformasjon.jobberFremdelesSomFrilans):s.YesOrNo.UNANSWERED,oppdragForNæreVennerEllerFamilie:e.frilansInformasjon?_(e.frilansInformasjon.harJobbetForNærVennEllerFamilieSiste10Mnd):s.YesOrNo.UNANSWERED}),Bn={[N.hattInntektSomFrilans]:{isIncluded:()=>!0,isAnswered:({hattInntektSomFrilans:e})=>e!==s.YesOrNo.UNANSWERED},[N.frilansOppstartsDato]:{isIncluded:({hattInntektSomFrilans:e})=>e===s.YesOrNo.YES,isAnswered:({frilansOppstartsDato:e})=>d(e),visibilityFilter:({hattInntektSomFrilans:e})=>e===s.YesOrNo.YES},[N.jobberFremdelesSomFrilanser]:{isIncluded:({hattInntektSomFrilans:e})=>e===s.YesOrNo.YES,isAnswered:({jobberFremdelesSomFrilanser:e})=>e!==s.YesOrNo.UNANSWERED,visibilityFilter:({frilansOppstartsDato:e})=>d(e)},[N.oppdragForNæreVennerEllerFamilie]:{isIncluded:({hattInntektSomFrilans:e})=>e===s.YesOrNo.YES,isAnswered:({oppdragForNæreVennerEllerFamilie:e})=>e!==s.YesOrNo.UNANSWERED,visibilityFilter:({jobberFremdelesSomFrilanser:e})=>e!==s.YesOrNo.UNANSWERED},[N.inntektSomFosterforelder]:{isIncluded:({hattInntektSomFrilans:e})=>e===s.YesOrNo.YES,isAnswered:({inntektSomFosterforelder:e})=>e!==s.YesOrNo.UNANSWERED,visibilityFilter:({oppdragForNæreVennerEllerFamilie:e})=>e!==s.YesOrNo.UNANSWERED},[N.hattInntektSomNæringsdrivende]:{isIncluded:()=>!0,isAnswered:({hattInntektSomNæringsdrivende:e})=>e!==s.YesOrNo.UNANSWERED,visibilityFilter:({hattInntektSomFrilans:e})=>e!==s.YesOrNo.UNANSWERED},[N.hattAndreInntekter]:{isIncluded:()=>!0,isAnswered:({hattAndreInntekter:e})=>e!==s.YesOrNo.UNANSWERED,visibilityFilter:({hattInntektSomNæringsdrivende:e})=>e!==s.YesOrNo.UNANSWERED}},Rn=ne(Bn),Ln=()=>{const e=B(),{arbeidsforhold:r}=Le(),{søker:a,barn:g}=Be(),p=Re(g),[y,l]=U.useState(a.frilansInformasjon?a.frilansInformasjon.oppdragForNæreVennerEllerFamilieSiste10Mnd:[]),[S,b]=U.useState(a.selvstendigNæringsdrivendeInformasjon?a.selvstendigNæringsdrivendeInformasjon:[]),[Y,j]=U.useState(a.andreInntekterSiste10Mnd?a.andreInntekterSiste10Mnd:[]),m=I=>{const J=_n(I,a,Y,y,S);return[_e.setSøker(J)]},{handleSubmit:f,isSubmitting:V}=Me(m,ce.OPPSUMMERING,I=>Ke(I)),c=De(),F=je();return xe(ce.INNTEKTSINFORMASJON),n(P.FormikWrapper,{initialValues:Mn(a),onSubmit:f,renderForm:({values:I})=>{const J=Rn.getVisbility(I);return n(Ve,{bannerTitle:t(e,"søknad.pageheading"),backLinkHref:Te("inntektsinformasjon"),activeStepId:"inntektsinformasjon",pageTitle:t(e,"søknad.inntektsinformasjon"),stepTitle:t(e,"søknad.inntektsinformasjon"),onCancel:c,onContinueLater:F,steps:Ye(e),kompakt:!0,children:D(P.Form,{includeButtons:!1,includeValidationSummary:!0,children:[D(o,{padBottom:"l",children:[n(v.Element,{children:"Utbetalinger fra NAV"}),n(v.Normaltekst,{children:"Hvis du får utbetalinger fra NAV, trenger du ikke å opplyse om det i søknaden"})]}),n(ae,{arbeidsforhold:Qe(r,R(p))}),n(Dn,{}),n(o,{padBottom:"l",children:n(me,{frilansoppdrag:y,setFrilansoppdrag:l,visibility:J,formValues:I})}),n(o,{padBottom:"l",children:n(cn,{egenNæringInformasjon:S,setEgenNæringsInformasjon:b,visibility:J,formValues:I})}),n(o,{padBottom:"l",children:n(se,{andreInntekterInformasjon:Y,setAndreInntekterInformasjon:j,visibility:J,formValues:I})}),n(o,{textAlignCenter:!0,visible:J.areAllQuestionsAnswered(),children:n($.Hovedknapp,{disabled:V,spinner:V,children:t(e,"søknad.gåVidere")})})]})})}})},ur=Ln;export{ur as I};
//# sourceMappingURL=Inntektsinformasjon-c1bb15ed.js.map

import{j as s,a as y}from"./jsx-runtime-670450c2.js";import{h as n}from"./validationUtils-67294d5c.js";import{u as j,i as o}from"./IntlProvider-dc729df9.js";import"./index-7e4e529b.js";import{B as l}from"./Block-01b0ab76.js";import{u as A,a as C,S as F,s as x}from"./useFortsettSøknadSenere-e3f0df02.js";import"./index-f1f749bf.js";import{f as k,a as R}from"./mapSøkerinfoDTO-f7746f82.js";import{l as T}from"./index-feafd352.js";import{u as V}from"./useOnValidSubmit-cccef928.js";import{u as _}from"./useSøknad-e0725e39.js";import{l as B}from"./periodeUtils-f04fe3f4.js";import{Q as I}from"./index-47edccfa.js";import{u as w}from"./useSøkerinfo-2468b7ec.js";import{u as Q,s as E}from"./useSaveLoadedRoute-c343dcd2.js";var r=(e=>(e.situasjon="situasjon",e.rolle="rolle",e))(r||{});const d={situasjon:"",rolle:""},K=e=>e?{rolle:n(e.rolle)?e.rolle:d.rolle,situasjon:n(e.situasjon)?e.situasjon:d.situasjon}:d,u=B.getTypedFormComponents(),m=({kjønn:e})=>{const t=j();return e==="M"?null:s(l,{margin:"xl",children:s(u.RadioPanelGroup,{name:r.rolle,radios:[{label:o(t,"søkersituasjon.radioButton.mor"),value:"mor"},{label:o(t,"søkersituasjon.radioButton.medmor"),value:"medmor"}],useTwoColumns:!0,legend:o(t,"søkersituasjon.text.rolle")})})};try{m.displayName="VelgRolle",m.__docgenInfo={description:"",displayName:"VelgRolle",props:{kjønn:{defaultValue:null,description:"",name:"kjønn",required:!0,type:{name:"enum",value:[{value:'"M"'},{value:'"K"'}]}}}}}catch{}const N={[r.situasjon]:{isIncluded:()=>!0,isAnswered:({situasjon:e})=>n(e)},[r.rolle]:{isIncluded:({søkerKjønn:e})=>e==="K",isAnswered:({rolle:e})=>n(e),visibilityFilter:({situasjon:e})=>n(e)}},H=I(N),M=e=>({situasjon:e.situasjon,rolle:n(e.rolle)?e.rolle:"far"}),O=()=>{const e=j(),t=_(),S=w(),{kjønn:p}=S.person,f=i=>{const a=M(i);return[R.setSøkersituasjon(a)]},{handleSubmit:g,isSubmitting:c}=V(f,k.OM_BARNET,i=>E(i)),b=A(),v=C();return Q(k.SØKERSITUASJON),s(u.FormikWrapper,{initialValues:K(t.søkersituasjon),onSubmit:g,renderForm:({values:i})=>{const a=H.getVisbility({...i,søkerKjønn:p}),h=a.areAllQuestionsAnswered();return s(F,{bannerTitle:o(e,"søknad.pageheading"),activeStepId:"søkersituasjon",pageTitle:o(e,"søknad.søkersituasjon"),stepTitle:o(e,"søknad.søkersituasjon"),onCancel:b,onContinueLater:v,steps:x(e),kompakt:!0,children:s(u.Form,{includeButtons:!1,children:y("div",{children:[s(l,{children:s(u.RadioPanelGroup,{name:r.situasjon,radios:[{label:o(e,"søkersituasjon.radioButton.fødsel"),value:"fødsel"},{label:o(e,"søkersituasjon.radioButton.adopsjon"),value:"adopsjon"}],useTwoColumns:!0,legend:o(e,"søkersituasjon.text.situasjon")})}),s(l,{visible:a.isVisible(r.rolle),children:s(m,{kjønn:p})}),h&&s(l,{textAlignCenter:!0,margin:"l",children:s(T.Hovedknapp,{disabled:c,spinner:c,children:o(e,"søknad.gåVidere")})})]})})})}})},oe=O;export{oe as S};
//# sourceMappingURL=Søkersituasjon-17ac7a87.js.map

"use strict";(self.webpackChunkforeldrepengesoknad=self.webpackChunkforeldrepengesoknad||[]).push([[9955],{"./src/app/links/links.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__={adoptere:"https://www.nav.no/no/person/familie/foreldrepenger/foreldrepenger#adoptere",rettOgPlikt:"https://nav.no/rettOgPlikt",fleksibeltuttak:"https://www.nav.no/no/person/familie/foreldrepenger/foreldrepenger#samtidig",papirsøknad:"https://www.nav.no/soknader/nb/person/familie/foreldrepenger-og-engangsstonad",viktigeFrister:"https://www.nav.no/no/person/familie/foreldrepenger/foreldrepenger#soknadsfrister",nav_aktivitetskrav:"https://www.nav.no/no/person/familie/foreldrepenger/foreldrepenger#hvor-lenge",brukerstøtte:"https://www.nav.no/no/NAV+og+samfunn/Kontakt+NAV/Teknisk+brukerstotte/hjelp-til-personbruker?kap=398749",innsyn:"https://foreldrepenger.nav.no",morsAktivitetskrav:"https://www.nav.no/no/person/familie/foreldrepenger/foreldrepenger#hvor-lenge",frilanserInfoBoks:"https://www.skatteetaten.no/bedrift-og-organisasjon/arbeidsgiver/a-meldingen/veiledning/arbeidsforholdet/type-arbeidsforhold/frilanser-oppdragstaker-og-personer-som-mottar-honorarer/",næringsdrivendeInfoBoks:"https://www.skatteetaten.no/bedrift-og-organisasjon/starte-og-drive/er-jeg-naringsdrivende/",brukerprofil:"https://tjenester.nav.no/brukerprofil/",familie:"https://familie.nav.no/",graderingInfo:"https://www.nav.no/no/person/familie/foreldrepenger/foreldrepenger#arbeid",aktivitetsfriUttakInfo:"https://www.nav.no/foreldrepenger#hvor-lenge",hvordanSendeInntektsmelding:"https://www.nav.no/no/bedrift/tjenester-og-skjemaer/nav-og-altinn-tjenester/foreldrepenger-og-svangerskapspenger2",omLottOgHyre:"https://www.skatteetaten.no/rettskilder/type/handboker/skatte-abc/2019/fiske/F-14.014/F-14.048/"}},"./src/app/pages/velkommen/components/barnVelger/BarnVelger.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{nW:()=>SelectableBarnOptions,wx:()=>SelectableBarnType,ZP:()=>barnVelger_BarnVelger});var lib=__webpack_require__("../../packages/fp-common/lib/index.js"),react=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),useIntl=__webpack_require__("../../node_modules/.pnpm/react-intl@6.3.2_odn5rdmyrxuyfnlhepsb7fjnvi/node_modules/react-intl/lib/src/components/useIntl.js"),velkommenFormConfig=__webpack_require__("./src/app/pages/velkommen/velkommenFormConfig.ts"),nav_frontend_etiketter_lib=__webpack_require__("../../node_modules/.pnpm/nav-frontend-etiketter@3.0.3_o4xq32dfmgjbr44wr5cx3gsslm/node_modules/nav-frontend-etiketter/lib/index.js"),nav_frontend_etiketter_lib_default=__webpack_require__.n(nav_frontend_etiketter_lib);const S_knadStatus=function SøknadStatusEtikett(_ref){var sakErFerdigbehandlet=_ref.sakErFerdigbehandlet,intl=(0,useIntl.Z)(),etikettType=sakErFerdigbehandlet?"suksess":"fokus",statusTekst=sakErFerdigbehandlet?"velkommen.sak.status.ferdigBehandlet":"velkommen.sak.status.underBehandling";return react.createElement(nav_frontend_etiketter_lib_default(),{className:"blokk-xxxs",type:etikettType},(0,lib.intlUtils)(intl,statusTekst))};var SelectableBarnType,SelectableBarnOptions,nav_frontend_typografi_lib=__webpack_require__("../../node_modules/.pnpm/nav-frontend-typografi@4.0.2_2q3jcvdwqtojzmpbtp62yt4khq/node_modules/nav-frontend-typografi/lib/index.js"),velkommenValidation=__webpack_require__("./src/app/pages/velkommen/validation/velkommenValidation.ts"),barnUtils=__webpack_require__("./src/app/utils/barnUtils.ts");!function(SelectableBarnType){SelectableBarnType["FØDT"]="født",SelectableBarnType["UFØDT"]="ufødt",SelectableBarnType.ADOPTERT="adoptert",SelectableBarnType.IKKE_UTFYLT="ikkeUtfylt"}(SelectableBarnType||(SelectableBarnType={})),function(SelectableBarnOptions){SelectableBarnOptions["SØKNAD_GJELDER_NYTT_BARN"]="søknad_gjeder_nytt_barn"}(SelectableBarnOptions||(SelectableBarnOptions={}));var getRadioForNyttBarn=function getRadioForNyttBarn(intl){return{label:react.createElement(react.Fragment,null,react.createElement("b",null," ",(0,lib.intlUtils)(intl,"omBarnet.gjelderAnnetBarn"))),value:SelectableBarnOptions.SØKNAD_GJELDER_NYTT_BARN,className:"radioGroupButton"}},getSakstatus=function getSakstatus(sakErFerdigbehandlet){return react.createElement(S_knadStatus,{sakErFerdigbehandlet})},getRadioForUfødtBarn=function getRadioForUfødtBarn(barn,intl){var tittel=function getTittelForUfødtBarn(antallBarn,termindato,intl){var barnTekst=(0,barnUtils.S0)(antallBarn,intl);return(0,lib.intlUtils)(intl,"velkommen.barnVelger.ufødtBarn",{antallBarnTekst:barnTekst,termin:(0,lib.formatDate)(termindato)})}(barn.antallBarn,barn.termindato,intl),saksStatus=void 0!==barn.sak?getSakstatus(void 0===barn.sak.åpenBehandling):void 0,saksnummerTekst=void 0!==barn.sak?(0,lib.intlUtils)(intl,"velkommen.barnVelger.saksnummer",{saksnummer:barn.sak.saksnummer}):"",harSak=void 0!==barn.sak;return{label:react.createElement(react.Fragment,null,react.createElement("b",null," ",tittel),harSak&&react.createElement("div",null,react.createElement("p",null,saksnummerTekst),saksStatus)),value:barn.id,className:"radioGroupButton"}},getCheckboxForBarn=function getCheckboxForBarn(barn,intl){switch(barn.type){case SelectableBarnType.FØDT:case SelectableBarnType.ADOPTERT:case SelectableBarnType.IKKE_UTFYLT:return function getRadioForFødtEllerAdoptertBarn(barn,intl){var navnTekstEllerBarnMedUkjentNavnTekst=(0,barnUtils.sD)(barn.fornavn,barn.fødselsdatoer,barn.omsorgsovertagelse,barn.alleBarnaLever,barn.antallBarn,intl),fødselsdatoerTekst=(0,barnUtils.LZ)(barn.fødselsdatoer),fødtAdoptertDatoTekst=barn.type===SelectableBarnType.FØDT||barn.type===SelectableBarnType.IKKE_UTFYLT?fødselsdatoerTekst:(0,lib.formatDate)(barn.omsorgsovertagelse),situasjonTekst=barn.type===SelectableBarnType.FØDT||barn.type===SelectableBarnType.IKKE_UTFYLT?(0,lib.intlUtils)(intl,"velkommen.barnVelger.født"):(0,lib.intlUtils)(intl,"velkommen.barnVelger.adopsjon"),saksnummerTekst=void 0!==barn.sak?(0,lib.intlUtils)(intl,"velkommen.barnVelger.saksnummer",{saksnummer:barn.sak.saksnummer}):"",saksStatus=void 0!==barn.sak?getSakstatus(void 0===barn.sak.åpenBehandling):void 0;return{label:react.createElement(react.Fragment,null,react.createElement("b",null,navnTekstEllerBarnMedUkjentNavnTekst),barn.alleBarnaLever&&react.createElement("p",null,situasjonTekst," ",fødtAdoptertDatoTekst),react.createElement("p",null,saksnummerTekst),void 0!==saksStatus&&saksStatus),value:barn.id,name:velkommenFormConfig.OB.valgteBarn,className:"radioGroupButton"}}(barn,intl);case SelectableBarnType.UFØDT:return getRadioForUfødtBarn(barn,intl);default:return}};const barnVelger_BarnVelger=function BarnVelger(props){var intl=(0,useIntl.Z)();return react.createElement(lib.Block,{visible:props.visibility.isVisible(velkommenFormConfig.OB.valgteBarn)},react.createElement(lib.Block,{padBottom:"l"},react.createElement(nav_frontend_typografi_lib.Normaltekst,null,(0,lib.intlUtils)(intl,"velkommen.intro.harSaker.barnVelger.info"))),react.createElement(lib.Block,{padBottom:"l"},react.createElement(velkommenFormConfig.BD.RadioGroup,{name:velkommenFormConfig.OB.valgteBarn,validate:(0,velkommenValidation.v)(intl),radios:props.selectableBarn.map((function(barnet){return getCheckboxForBarn(barnet,intl)})).concat([getRadioForNyttBarn(intl)])})))}},"./src/app/pages/velkommen/validation/velkommenValidation.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{M:()=>validateHarForståttRettigheterOgPlikter,v:()=>validateHarValgtEtBarn});var _navikt_fp_common__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../packages/fp-common/lib/index.js"),validateHarForståttRettigheterOgPlikter=function validateHarForståttRettigheterOgPlikter(intl){return function(value){if(!0!==value)return(0,_navikt_fp_common__WEBPACK_IMPORTED_MODULE_0__.intlUtils)(intl,"valideringsfeil.velkommen.harForståttRettigheterOgPlikter.påkrevd")}},validateHarValgtEtBarn=function validateHarValgtEtBarn(intl){return function(value){if(void 0===value)return(0,_navikt_fp_common__WEBPACK_IMPORTED_MODULE_0__.intlUtils)(intl,"steg.footer.spørsmålMåBesvares")}}},"./src/app/pages/velkommen/velkommenFormConfig.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{BD:()=>VelkommenFormComponents,OB:()=>VelkommenFormField,OR:()=>velkommenFormQuestions,UL:()=>getInitialVelkommenValues});var _VelkommenFormConfig,VelkommenFormField,_navikt_sif_common_formik_lib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/@navikt+sif-common-formik@23.5.1_avhl3kusmshtlfu6w57gcaav3m/node_modules/@navikt/sif-common-formik/lib/index.js"),_navikt_sif_common_question_config_lib__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/.pnpm/@navikt+sif-common-question-config@0.0.7/node_modules/@navikt/sif-common-question-config/lib/index.js");function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function _defineProperty(obj,key,value){return(key=function _toPropertyKey(arg){var key=function _toPrimitive(input,hint){if("object"!==_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==_typeof(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===_typeof(key)?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}!function(VelkommenFormField){VelkommenFormField["harForståttRettigheterOgPlikter"]="harForståttRettigheterOgPlikter",VelkommenFormField.valgteBarn="valgteBarn"}(VelkommenFormField||(VelkommenFormField={}));var getInitialVelkommenValues=function getInitialVelkommenValues(harForståttRettigheterOgPlikter){var _ref;return _defineProperty(_ref={},VelkommenFormField.harForståttRettigheterOgPlikter,harForståttRettigheterOgPlikter),_defineProperty(_ref,VelkommenFormField.valgteBarn,void 0),_ref},VelkommenFormConfig=(_defineProperty(_VelkommenFormConfig={},VelkommenFormField.valgteBarn,{isIncluded:function isIncluded(_ref2){return _ref2.selectableBarn.length>0},isAnswered:function isAnswered(_ref3){return void 0!==_ref3.valgteBarn},visibilityFilter:function visibilityFilter(_ref4){return _ref4.selectableBarn.length>0}}),_defineProperty(_VelkommenFormConfig,VelkommenFormField.harForståttRettigheterOgPlikter,{isAnswered:function isAnswered(_ref5){return!0===_ref5.harForståttRettigheterOgPlikter},isIncluded:function isIncluded(_ref6){var valgteBarn=_ref6.valgteBarn,selectableBarn=_ref6.selectableBarn;return void 0!==valgteBarn||0===selectableBarn.length}}),_VelkommenFormConfig),VelkommenFormComponents=(0,_navikt_sif_common_formik_lib__WEBPACK_IMPORTED_MODULE_0__.getTypedFormComponents)(),velkommenFormQuestions=(0,_navikt_sif_common_question_config_lib__WEBPACK_IMPORTED_MODULE_1__.Gw)(VelkommenFormConfig)},"./src/app/pages/velkommen/velkommenUtils.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{DL:()=>sorterRegistrerteBarnEtterEldstOgNavn,Hr:()=>sorterSelectableBarnEtterYngst,U0:()=>getSelectableBarnOptions,ZC:()=>getErDatoInnenEnDagFraAnnenDato,l9:()=>getBarnFraNesteSak});var nav_frontend_js_utils__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/nav-frontend-js-utils@1.0.20_bnaq24lftdxaez3xjcv5glopji/node_modules/nav-frontend-js-utils/lib/index.js"),_components_barnVelger_BarnVelger__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/app/pages/velkommen/components/barnVelger/BarnVelger.tsx"),dayjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/.pnpm/dayjs@1.11.7/node_modules/dayjs/dayjs.min.js"),dayjs__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_2__),app_utils_personUtils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/app/utils/personUtils.ts"),app_utils_dateUtils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/app/utils/dateUtils.ts"),app_steps_uttaksplan_info_utils_Uttaksdagen__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/app/steps/uttaksplan-info/utils/Uttaksdagen.ts"),app_utils_barnUtils__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/app/utils/barnUtils.ts");function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _defineProperty(obj,key,value){return(key=function _toPropertyKey(arg){var key=function _toPrimitive(input,hint){if("object"!==_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==_typeof(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===_typeof(key)?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var getErDatoInnenEnDagFraAnnenDato=function getErDatoInnenEnDagFraAnnenDato(dato1,dato2){return void 0!==dato1&&void 0!==dato2&&(dayjs__WEBPACK_IMPORTED_MODULE_2___default()(dato1).isSameOrAfter(dayjs__WEBPACK_IMPORTED_MODULE_2___default()(dato2).subtract(1,"day"),"day")&&dayjs__WEBPACK_IMPORTED_MODULE_2___default()(dato1).isSameOrBefore(dayjs__WEBPACK_IMPORTED_MODULE_2___default()(dato2).add(1,"day"),"day"))},getSelectableBarnFraSak=function getSelectableBarnFraSak(sak,registrerteBarn){var barnFnrFraSaken=void 0!==sak.barn?sak.barn.map((function(b){return b.fnr})).flat():[],fødselsdatoFraSak=(0,app_utils_dateUtils__WEBPACK_IMPORTED_MODULE_4__.Hv)(sak.familiehendelse.fødselsdato),pdlBarnMedSammeFnr=registrerteBarn.filter((function(b){return barnFnrFraSaken.includes(b.fnr)})),pdlBarnMedSammeFødselsdato=void 0!==fødselsdatoFraSak?registrerteBarn.filter((function(barn){return getErDatoInnenEnDagFraAnnenDato(barn.fødselsdato,fødselsdatoFraSak)&&!pdlBarnMedSammeFnr.find((function(pdlBarn){return pdlBarn.fnr===barn.fnr}))})):[],pdlBarn=pdlBarnMedSammeFnr.concat(pdlBarnMedSammeFødselsdato),familiehendelseDato=(0,app_utils_dateUtils__WEBPACK_IMPORTED_MODULE_4__.Hv)((0,app_utils_dateUtils__WEBPACK_IMPORTED_MODULE_4__.ug)(sak.familiehendelse.termindato,sak.familiehendelse.fødselsdato,sak.familiehendelse.omsorgsovertakelse)),barnType=function getSelectableBarnType(gjelderAdopsjon,familiehendelse){return gjelderAdopsjon?_components_barnVelger_BarnVelger__WEBPACK_IMPORTED_MODULE_1__.wx.ADOPTERT:void 0!==familiehendelse.fødselsdato?_components_barnVelger_BarnVelger__WEBPACK_IMPORTED_MODULE_1__.wx["FØDT"]:_components_barnVelger_BarnVelger__WEBPACK_IMPORTED_MODULE_1__.wx["UFØDT"]}(sak.gjelderAdopsjon,sak.familiehendelse);return{id:(0,nav_frontend_js_utils__WEBPACK_IMPORTED_MODULE_0__.guid)(),type:barnType,antallBarn:sak.familiehendelse.antallBarn,termindato:(0,app_utils_dateUtils__WEBPACK_IMPORTED_MODULE_4__.Hv)(sak.familiehendelse.termindato),omsorgsovertagelse:(0,app_utils_dateUtils__WEBPACK_IMPORTED_MODULE_4__.Hv)(sak.familiehendelse.omsorgsovertakelse),kanSøkeOmEndring:sak.kanSøkeOmEndring,sak,fødselsdatoer:void 0!==fødselsdatoFraSak?Array(sak.familiehendelse.antallBarn).fill(fødselsdatoFraSak):void 0,familiehendelsesdato:familiehendelseDato,sortableDato:(0,app_utils_dateUtils__WEBPACK_IMPORTED_MODULE_4__.Hv)(sak.familiehendelse.termindato),startdatoFørsteStønadsperiode:void 0!==sak.gjeldendeVedtak&&sak.gjeldendeVedtak.perioder.length>0?(0,app_steps_uttaksplan_info_utils_Uttaksdagen__WEBPACK_IMPORTED_MODULE_5__._)((0,app_utils_dateUtils__WEBPACK_IMPORTED_MODULE_4__.Hv)(sak.gjeldendeVedtak.perioder[0].fom)).denneEllerNeste():void 0,fornavn:void 0!==pdlBarn&&pdlBarn.length>0?pdlBarn.filter((function(b){return void 0!==b.fornavn&&""!==b.fornavn.trim()})).map((function(b){return[b.fornavn,void 0!==b.mellomnavn?b.mellomnavn:""].join(" ")})):void 0,fnr:void 0!==pdlBarn&&pdlBarn.length>0?pdlBarn.filter((function(barn){return void 0!==barn.fnr})).map((function(b){return b.fnr})):void 0,alleBarnaLever:void 0!==pdlBarn&&pdlBarn.length>0&&pdlBarn.every((function(barn){return(0,app_utils_barnUtils__WEBPACK_IMPORTED_MODULE_6__.rA)(barn)}))}},getSelectableBarnOptionsFraPDL=function getSelectableBarnOptionsFraPDL(registrerteBarn,barnFraSaker,avsluttedeSaker){var registrerteBarnUtenAvsluttedeSaker=registrerteBarn.filter((function(regBarn){return!avsluttedeSaker.find((function(sak){return getErDatoInnenEnDagFraAnnenDato(regBarn.fødselsdato,(0,app_utils_dateUtils__WEBPACK_IMPORTED_MODULE_4__.Hv)(sak.familiehendelse.fødselsdato))}))})),registrerteBarnMedFnr=registrerteBarnUtenAvsluttedeSaker.map((function(b){return void 0===b.fnr?_objectSpread(_objectSpread({},b),{},{fnr:"tempFnr"+(0,nav_frontend_js_utils__WEBPACK_IMPORTED_MODULE_0__.guid)().toString()}):b})),fnrPåBarnSomErLagtTil=barnFraSaker.map((function(b){return b.fnr})).flat(),fødselsdatoPåBarnFraSaker=barnFraSaker.filter((function(barn){return void 0!==barn.fødselsdatoer&&barn.fødselsdatoer.length>0})).map((function(b){return b.fødselsdatoer})).flat(),selectableBarnFraPDL=[];return registrerteBarnMedFnr.filter((function(b){return!(void 0!==b.dødsdato&&fødselsdatoPåBarnFraSaker.find((function(dato){return dayjs__WEBPACK_IMPORTED_MODULE_2___default()(dato).isSame(dayjs__WEBPACK_IMPORTED_MODULE_2___default()(b.fødselsdato),"day")})))})).forEach((function(regBarn){if(!fnrPåBarnSomErLagtTil.includes(regBarn.fnr)&&!(0,app_utils_personUtils__WEBPACK_IMPORTED_MODULE_3__.Yk)(regBarn.fødselsdato)){var barnFødtISammePeriode=(0,app_utils_barnUtils__WEBPACK_IMPORTED_MODULE_6__.o1)(regBarn.fnr,regBarn.fødselsdato,registrerteBarnMedFnr),annenForelder=void 0!==regBarn.annenForelder?{fnr:regBarn.annenForelder.fnr,fornavn:regBarn.annenForelder.fornavn,mellomnavn:regBarn.annenForelder.mellomnavn,etternavn:regBarn.annenForelder.etternavn}:void 0;if(fnrPåBarnSomErLagtTil.push(regBarn.fnr),0===barnFødtISammePeriode.length){if(!(0,app_utils_barnUtils__WEBPACK_IMPORTED_MODULE_6__.yx)(regBarn)){var _selectableBarn=function getSelectableBarnFraPDL(registrertBarn,annenForelder){var navn=void 0!==registrertBarn.mellomnavn?[registrertBarn.fornavn,registrertBarn.mellomnavn].join(" "):registrertBarn.fornavn;return{id:(0,nav_frontend_js_utils__WEBPACK_IMPORTED_MODULE_0__.guid)(),type:_components_barnVelger_BarnVelger__WEBPACK_IMPORTED_MODULE_1__.wx.IKKE_UTFYLT,antallBarn:1,fødselsdatoer:[registrertBarn.fødselsdato],fornavn:void 0!==navn?[navn]:void 0,fnr:[registrertBarn.fnr],sortableDato:registrertBarn.fødselsdato,alleBarnaLever:(0,app_utils_barnUtils__WEBPACK_IMPORTED_MODULE_6__.rA)(registrertBarn),annenForelder}}(regBarn,annenForelder);selectableBarnFraPDL.push(_selectableBarn)}}else{var selectableFlerlinger=function getSelectableFlerlingerFraPDL(registrertBarn,barnFødtISammePeriode,annenForelder){var alleBarna=[registrertBarn].concat(barnFødtISammePeriode).sort(sorterRegistrerteBarnEtterEldstOgNavn);if(!alleBarna.find((function(b){return!(0,app_utils_barnUtils__WEBPACK_IMPORTED_MODULE_6__.rA)(b)&&(0,app_utils_barnUtils__WEBPACK_IMPORTED_MODULE_6__.yx)(b)}))&&0!=alleBarna.length)return{id:(0,nav_frontend_js_utils__WEBPACK_IMPORTED_MODULE_0__.guid)(),type:_components_barnVelger_BarnVelger__WEBPACK_IMPORTED_MODULE_1__.wx.IKKE_UTFYLT,antallBarn:alleBarna.length,fødselsdatoer:alleBarna.map((function(b){return b.fødselsdato})),fornavn:alleBarna.map((function(b){return[b.fornavn,void 0!==b.mellomnavn?b.mellomnavn:""].join(" ")})),fnr:alleBarna.map((function(b){return b.fnr})),sortableDato:alleBarna[0].fødselsdato,alleBarnaLever:alleBarna.every((function(b){return(0,app_utils_barnUtils__WEBPACK_IMPORTED_MODULE_6__.rA)(b)})),annenForelder}}(regBarn,barnFødtISammePeriode,annenForelder);barnFødtISammePeriode.forEach((function(b){fnrPåBarnSomErLagtTil.push(b.fnr)})),void 0!==selectableFlerlinger&&selectableBarnFraPDL.push(selectableFlerlinger)}}})),selectableBarnFraPDL.map((function(b){return b.fnr&&b.fnr.length>0?_objectSpread(_objectSpread({},b),{},{fnr:b.fnr.filter((function(nr){return nr&&!nr.startsWith("tempFnr")}))}):b}))},getSelectableBarnOptions=function getSelectableBarnOptions(saker,registrerteBarn){var åpneSaker=saker.filter((function(sak){return!sak.sakAvsluttet})),avsluttedeSaker=saker.filter((function(sak){return sak.sakAvsluttet})),barnFraSaker=function getSelectableBarnOptionsFromSaker(saker,registrerteBarn){return saker.filter((function(sak){return void 0!==sak.barn&&sak.barn.length>0||void 0!==sak.familiehendelse.termindato||void 0!==sak.familiehendelse.fødselsdato||void 0!==sak.familiehendelse.omsorgsovertakelse})).map((function(sakMedBarn){return getSelectableBarnFraSak(sakMedBarn,registrerteBarn)}))}(åpneSaker,registrerteBarn),barnFraPDL=getSelectableBarnOptionsFraPDL(registrerteBarn,barnFraSaker,avsluttedeSaker);return barnFraSaker.concat(barnFraPDL)},getBarnFraNesteSak=function getBarnFraNesteSak(valgteBarn,selectableBarn){var _nesteBarn$sak,_nesteBarn$sak$annenP,allePåfølgendeBarn=selectableBarn.filter((function(barn){return void 0!==barn.sak&&barn.id!==valgteBarn.id&&void 0!==barn.familiehendelsesdato&&dayjs__WEBPACK_IMPORTED_MODULE_2___default()(barn.familiehendelsesdato).isAfter(valgteBarn.familiehendelsesdato,"day")}));allePåfølgendeBarn.sort(sorterSelectableBarnEtterYngst);var nesteBarn=allePåfølgendeBarn[allePåfølgendeBarn.length-1];if(void 0!==nesteBarn)return{familiehendelsesdato:nesteBarn.familiehendelsesdato,startdatoFørsteStønadsperiode:nesteBarn.startdatoFørsteStønadsperiode,fnr:nesteBarn.fnr,annenForelderFnr:null===(_nesteBarn$sak=nesteBarn.sak)||void 0===_nesteBarn$sak||null===(_nesteBarn$sak$annenP=_nesteBarn$sak.annenPart)||void 0===_nesteBarn$sak$annenP?void 0:_nesteBarn$sak$annenP.fnr}};function sorterRegistrerteBarnEtterEldstOgNavn(b1,b2){return dayjs__WEBPACK_IMPORTED_MODULE_2___default()(b1.fødselsdato).isAfter(b2.fødselsdato,"d")?1:dayjs__WEBPACK_IMPORTED_MODULE_2___default()(b1.fødselsdato).isBefore(b2.fødselsdato,"d")||b1.fornavn<b2.fornavn?-1:1}function sorterSelectableBarnEtterYngst(b1,b2){return dayjs__WEBPACK_IMPORTED_MODULE_2___default()(b1.sortableDato).isBefore(b2.sortableDato,"d")?1:dayjs__WEBPACK_IMPORTED_MODULE_2___default()(b1.sortableDato).isAfter(b2.sortableDato,"d")?-1:0}},"./src/app/utils/hooks/useOnValidSubmit.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),react_router_dom__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../node_modules/.pnpm/react-router@6.9.0_react@18.2.0/node_modules/react-router/dist/index.js"),app_context_action_actionCreator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/app/context/action/actionCreator.ts"),app_routes_routes__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/app/routes/routes.ts"),app_context_hooks_useForeldrepenges_knadContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/app/context/hooks/useForeldrepengesøknadContext.ts"),_redirectToLogin__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/app/utils/redirectToLogin.ts"),app_api_apiUtils__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/app/api/apiUtils.ts");function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_x,_r,_arr=[],_n=!0,_d=!1;try{if(_x=(_i=_i.call(arr)).next,0===i){if(Object(_i)!==_i)return;_n=!1}else for(;!(_n=(_s=_x.call(_i)).done)&&(_arr.push(_s.value),_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{if(!_n&&null!=_i.return&&(_r=_i.return(),Object(_r)!==_r))return}finally{if(_d)throw _e}}return _arr}}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}const __WEBPACK_DEFAULT_EXPORT__=function useOnValidSubmit(submitHandler,nextRoute,postSubmit){var _useForeldrepengesøkn=(0,app_context_hooks_useForeldrepenges_knadContext__WEBPACK_IMPORTED_MODULE_3__.q)(),dispatch=_useForeldrepengesøkn.dispatch,state=_useForeldrepengesøkn.state,navigate=(0,react_router_dom__WEBPACK_IMPORTED_MODULE_6__.s0)(),_useState2=_slicedToArray((0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),2),harSubmitted=_useState2[0],setSubmitted=_useState2[1],_useState4=_slicedToArray((0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),2),isSubmitting=_useState4[0],setIsSubmitting=_useState4[1],_useState6=_slicedToArray((0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(void 0),2),submitError=_useState6[0],setSubmitError=_useState6[1];(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){harSubmitted&&postSubmit(state).then((function(){nextRoute===app_routes_routes__WEBPACK_IMPORTED_MODULE_2__.Z["SØKNAD_SENDT"]?navigate(nextRoute):navigate(state.currentRoute)})).catch((function(error){!error.response||401!==error.response.status&&403!==error.response.status?setSubmitError(error):(0,_redirectToLogin__WEBPACK_IMPORTED_MODULE_4__.r)()}))}),[harSubmitted,navigate,nextRoute,state,postSubmit]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){if(submitError)throw(0,app_api_apiUtils__WEBPACK_IMPORTED_MODULE_5__.DO)(submitError),new Error(submitError)}),[submitError]);return{handleSubmit:function handleSubmit(values){setIsSubmitting(!0);var actions=submitHandler(values),dispatchRouteChange=nextRoute===app_routes_routes__WEBPACK_IMPORTED_MODULE_2__.Z["SØKNAD_SENDT"]?void 0:dispatch(app_context_action_actionCreator__WEBPACK_IMPORTED_MODULE_1__.Z.updateCurrentRoute(nextRoute));Promise.all([dispatchRouteChange].concat(_toConsumableArray(actions.map((function(a){return dispatch(a)}))))).then((function(){return setSubmitted(!0)}))},isSubmitting}}},"./src/app/utils/hooks/useSøkerinfo.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var app_context_hooks_useForeldrepenges_knadContext__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/app/context/hooks/useForeldrepengesøknadContext.ts");const __WEBPACK_DEFAULT_EXPORT__=function useSøkerinfo(){return(0,app_context_hooks_useForeldrepenges_knadContext__WEBPACK_IMPORTED_MODULE_0__.q)().state.søkerinfo}},"./src/app/utils/personUtils.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ab:()=>getNavnGenitivEierform,Ao:()=>getMorHarRettPåForeldrepengerINorgeEllerEØS,Hf:()=>getKjønnFromFnr,Yk:()=>erEldreEnn3ÅrOg3Måneder,dV:()=>getMorErAleneOmOmsorg,eL:()=>formaterNavn,kA:()=>getKjønnFromFnrString,o$:()=>getFarMedmorErAleneOmOmsorg,qt:()=>getErSøkerFarEllerMedmor,zg:()=>getNavnPåForeldre});var _navikt_fp_common__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../packages/fp-common/lib/index.js"),app_context_types_AnnenForelder__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/app/context/types/AnnenForelder.ts"),dayjs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/.pnpm/dayjs@1.11.7/node_modules/dayjs/dayjs.min.js"),dayjs__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_1__),formaterNavn=function formaterNavn(fornavn,etternavn,visEtternavn,mellomnavn){return visEtternavn?mellomnavn?"".concat(fornavn," ").concat(mellomnavn," ").concat(etternavn):"".concat(fornavn," ").concat(etternavn):mellomnavn?"".concat(fornavn," ").concat(mellomnavn):"".concat(fornavn)},getNavnGenitivEierform=function getNavnGenitivEierform(navn,locale){return"nb"!==locale?navn:function navnSlutterPåSLyd(navn){var sisteBokstav=navn.charAt(navn.length-1).toLowerCase();return"s"===sisteBokstav||"x"===sisteBokstav||"z"===sisteBokstav}(navn)?"".concat(navn,"'"):"".concat(navn,"s")},getKjønnFromFnr=function getKjønnFromFnr(annenForelder){if((0,app_context_types_AnnenForelder__WEBPACK_IMPORTED_MODULE_2__.W)(annenForelder)){var fnr=annenForelder.fnr;if(void 0===fnr||11!==fnr.length)return;return parseInt(fnr.charAt(8),10)%2==0?"K":"M"}},getKjønnFromFnrString=function getKjønnFromFnrString(fnr){if(11===fnr.length)return parseInt(fnr.charAt(8),10)%2==0?"K":"M"},getMorErAleneOmOmsorg=function getMorErAleneOmOmsorg(søkerErMor,søkerErAleneOmOmsorg,annenForelder){return søkerErMor&&(søkerErAleneOmOmsorg||!0===annenForelder.kanIkkeOppgis)},getMorHarRettPåForeldrepengerINorgeEllerEØS=function getMorHarRettPåForeldrepengerINorgeEllerEØS(rolle,søkerErFarEllerMedmor,annenForelder){return!0===søkerErFarEllerMedmor&&(0,app_context_types_AnnenForelder__WEBPACK_IMPORTED_MODULE_2__.W)(annenForelder)?!0===annenForelder.harRettPåForeldrepengerINorge||!0===annenForelder.harRettPåForeldrepengerIEØS:"mor"===rolle},getFarMedmorErAleneOmOmsorg=function getFarMedmorErAleneOmOmsorg(søkerErFarMedmor,søkerErAleneOmOmsorg,annenForelder){return søkerErFarMedmor&&(søkerErAleneOmOmsorg||!0===annenForelder.kanIkkeOppgis)},getNavnPåForeldre=function getNavnPåForeldre(person,annenForelder,erFarEllerMedmor,intl){var navnSøker=person.fornavn,navnAnnenForelder=(0,app_context_types_AnnenForelder__WEBPACK_IMPORTED_MODULE_2__.W)(annenForelder)&&void 0!==annenForelder.fornavn&&""!==annenForelder.fornavn?annenForelder.fornavn:(0,_navikt_fp_common__WEBPACK_IMPORTED_MODULE_0__.intlUtils)(intl,"annen.forelder");return{mor:erFarEllerMedmor?navnAnnenForelder:navnSøker,farMedmor:erFarEllerMedmor?navnSøker:navnAnnenForelder}},getErSøkerFarEllerMedmor=function getErSøkerFarEllerMedmor(søkerRolle){return"far"===søkerRolle||"medmor"===søkerRolle},erEldreEnn3ÅrOg3Måneder=function erEldreEnn3ÅrOg3Måneder(fødselsdato){return dayjs__WEBPACK_IMPORTED_MODULE_1___default()(fødselsdato).add(3,"year").add(3,"month").isBefore(dayjs__WEBPACK_IMPORTED_MODULE_1___default()(),"day")}}}]);
//# sourceMappingURL=9955.d80b5da1.iframe.bundle.js.map
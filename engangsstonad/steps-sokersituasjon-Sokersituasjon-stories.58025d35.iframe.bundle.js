"use strict";(self.webpackChunkengangsstonad=self.webpackChunkengangsstonad||[]).push([[661],{"../../node_modules/.pnpm/@navikt+sif-common-question-config@0.0.7/node_modules/@navikt/sif-common-question-config/lib/index.js":(__unused_webpack_module,exports)=>{const isQuestionVisible=(questions,question,payload)=>{const config=questions[question];if(!config)return!1;if(config.isIncluded&&!1===config.isIncluded(payload))return!1;if(config.visibilityFilter&&!1===config.visibilityFilter(payload))return!1;if(void 0!==config.parentQuestion){const parentQuestion=questions[config.parentQuestion];return isQuestionVisible(questions,config.parentQuestion,payload)&&parentQuestion.isAnswered(payload)}return!0},isQuestionAnswered=(questions,question,payload)=>{const config=questions[question];return!(!config||!config.isAnswered)&&config.isAnswered(payload)},isQuestionIncluded=(questions,question,payload)=>{const config=questions[question];return!!config&&(!config.isIncluded||config.isIncluded(payload))},validateQuestion=(value,questions,question,payload)=>{const config=questions[question];if(config&&config.validate)return config.validate(payload)};exports.Gw=questions=>({getVisbility:payload=>({validate:key=>value=>validateQuestion(0,questions,key,payload),isVisible:key=>isQuestionVisible(questions,key,payload),isAnswered:key=>isQuestionAnswered(questions,key,payload),isIncluded:key=>isQuestionIncluded(questions,key,payload),areAllQuestionsAnswered:()=>((questions,payload)=>{let allQuestionsHasAnswers=!0;return Object.keys(questions).forEach((key=>{const question=questions[key];if(isQuestionVisible(questions,key,payload)){const isOptional=void 0!==question.isOptional&&!0===question.isOptional(payload);allQuestionsHasAnswers=!0===allQuestionsHasAnswers&&(question.isAnswered(payload)||isOptional)}})),allQuestionsHasAnswers})(questions,payload),getIncludedQuestions:()=>((questions,payload)=>Object.keys(questions).filter((key=>isQuestionIncluded(questions,key,payload))))(questions,payload)}),getQuestionVisbilityInfo:(key,payload)=>({validate:value=>validateQuestion(0,questions,key,payload),isVisible:()=>isQuestionVisible(questions,key,payload),isAnswered:()=>isQuestionAnswered(questions,key,payload)})})},"./src/app/steps/sokersituasjon/Sokersituasjon.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{VisSide:()=>VisSide,default:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),storybook_addon_react_router_v6__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/.pnpm/storybook-addon-react-router-v6@0.3.5_75q7qgpascrya4gdge35j6xeai/node_modules/storybook-addon-react-router-v6/dist/esm/index.js"),_context_Engangsst_nadContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/app/context/EngangsstønadContext.tsx"),_S_kersituasjon__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/app/steps/sokersituasjon/Søkersituasjon.tsx"),intl_IntlProvider__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/app/intl/IntlProvider.tsx");const __WEBPACK_DEFAULT_EXPORT__={title:"Søkersituasjon",component:_S_kersituasjon__WEBPACK_IMPORTED_MODULE_3__.Z,decorators:[storybook_addon_react_router_v6__WEBPACK_IMPORTED_MODULE_1__.E]};var VisSide=function Template(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_context_Engangsst_nadContext__WEBPACK_IMPORTED_MODULE_2__.Z,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(intl_IntlProvider__WEBPACK_IMPORTED_MODULE_4__.Z,{språkkode:"nb"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_S_kersituasjon__WEBPACK_IMPORTED_MODULE_3__.Z,null)))}.bind({})},"./src/app/steps/sokersituasjon/Søkersituasjon.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>S_kersituasjon});var lib=__webpack_require__("../../packages/fp-common/lib/index.js"),stepConfig=__webpack_require__("./src/app/step-config/stepConfig.ts"),i18nUtils=__webpack_require__("./src/common/util/i18nUtils.ts"),react=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),Button=__webpack_require__("../../node_modules/.pnpm/@navikt+ds-react@2.8.4_aen5vu2fkbnw3ssyd5drxdxkh4/node_modules/@navikt/ds-react/esm/button/Button.js"),useIntl=__webpack_require__("../../node_modules/.pnpm/react-intl@6.3.2_odn5rdmyrxuyfnlhepsb7fjnvi/node_modules/react-intl/lib/src/components/useIntl.js"),actionCreator=__webpack_require__("./src/app/context/action/actionCreator.ts"),s_kersituasjonFormConfig=__webpack_require__("./src/app/steps/sokersituasjon/søkersituasjonFormConfig.ts"),useEngangsst_nadContext=__webpack_require__("./src/app/context/hooks/useEngangsstønadContext.ts"),sif_common_formik_ds_lib=__webpack_require__("../../node_modules/.pnpm/@navikt+sif-common-formik-ds@0.14.0_mclklote4fv46gcw6s2fvispmy/node_modules/@navikt/sif-common-formik-ds/lib/index.js"),sif_common_question_config_lib=__webpack_require__("../../node_modules/.pnpm/@navikt+sif-common-question-config@0.0.7/node_modules/@navikt/sif-common-question-config/lib/index.js");function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}var SøkersituasjonFormConfig=function _defineProperty(obj,key,value){return(key=function _toPropertyKey(arg){var key=function _toPrimitive(input,hint){if("object"!==_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==_typeof(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===_typeof(key)?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}({},s_kersituasjonFormConfig.j.situasjon,{isIncluded:function isIncluded(){return!0},isAnswered:function isAnswered(_ref){return void 0!==_ref.situasjon}});const s_kersituasjonQuestionsConfig=(0,sif_common_question_config_lib.Gw)(SøkersituasjonFormConfig);var dist=__webpack_require__("../../node_modules/.pnpm/react-router@6.9.0_react@18.2.0/node_modules/react-router/dist/index.js"),globalUtil=__webpack_require__("./src/app/util/globalUtil.ts");const S_kersituasjon=function Søkersituasjon(){var intl=(0,useIntl.Z)(),bem=(0,lib.bemUtils)("søkersituasjon"),navigate=(0,dist.s0)(),_useEngangsstønadCont=(0,useEngangsst_nadContext.w)(),state=_useEngangsstønadCont.state,dispatch=_useEngangsstønadCont.dispatch,søkersituasjonValues=state.søknad.søkersituasjon;return react.createElement(s_kersituasjonFormConfig.px.FormikWrapper,{initialValues:søkersituasjonValues,onSubmit:function onSubmit(values){return function onValidSubmit(values){dispatch(actionCreator.Z["setSøkersituasjon"]({situasjon:values.situasjon})),navigate("/soknad/om-barnet")}(values)},renderForm:function renderForm(_ref){var formValues=_ref.values,allQuestionsAnswered=s_kersituasjonQuestionsConfig.getVisbility(formValues).areAllQuestionsAnswered();return react.createElement(lib.Step,{bannerTitle:(0,i18nUtils.Z)(intl,"søknad.pageheading"),activeStepId:"søkersituasjon",pageTitle:(0,i18nUtils.Z)(intl,"søknad.søkersituasjon"),stepTitle:(0,i18nUtils.Z)(intl,"søknad.søkersituasjon"),onCancel:function onCancel(){return(0,globalUtil.c)(dispatch,navigate)},steps:stepConfig.Z,kompakt:!0},react.createElement(s_kersituasjonFormConfig.px.Form,{includeButtons:!1,cleanup:function cleanup(){return function cleanupSøkersituasjon(formData){var cleanedData={};return cleanedData.situasjon=formData.situasjon,cleanedData}(formValues)},noButtonsContentRenderer:allQuestionsAnswered?void 0:function(){return react.createElement(sif_common_formik_ds_lib.eu,null,(0,lib.intlUtils)(intl,"søknad.footer.spørsmålMåBesvares"))}},react.createElement("div",{className:bem.block},react.createElement(lib.Block,{margin:"xl"},react.createElement(s_kersituasjonFormConfig.px.RadioGroup,{name:s_kersituasjonFormConfig.j.situasjon,radios:[{label:(0,lib.intlUtils)(intl,"søkersituasjon.radiobutton.fødsel"),value:"fødsel"},{label:(0,lib.intlUtils)(intl,"søkersituasjon.radiobutton.adopsjon"),value:"adopsjon"}],legend:(0,i18nUtils.Z)(intl,"søkersituasjon.text.situasjon")})),allQuestionsAnswered&&react.createElement(lib.Block,{margin:"xl",textAlignCenter:!0},react.createElement(Button.Z,{type:"submit"},(0,i18nUtils.Z)(intl,"søknad.gåVidere"))))))}})}}}]);
//# sourceMappingURL=steps-sokersituasjon-Sokersituasjon-stories.58025d35.iframe.bundle.js.map
{"version":3,"file":"steps-oppsummering-Oppsummering-stories.fd02c29a.iframe.bundle.js","mappings":"6iCAUA,kCACEA,MAAO,eACPC,UAAWC,2CAAAA,EACXC,WAAY,CAACC,6DAAAA,IAGf,IA0BaC,QA1BgB,SAAvBC,WACJ,OACEC,mCAAAA,cAACC,2DAAAA,EAA4B,KAC3BD,mCAAAA,cAACE,+CAAAA,EAAY,CAACC,UAAU,MACtBH,mCAAAA,cAACL,2CAAAA,EAAY,CACXS,OAAQ,CACNC,IAAK,cACLC,QAAS,WACTC,UAAW,QACXC,WAAY,GACZC,MAAO,IACPC,YAAa,aACbC,oBAAoB,EACpBC,UAAW,CACPC,YAAa,cACbC,SAAU,aAEdC,QAAS,YAEXC,OAAO,QAKf,EAE8BC,KAAK,CAAC,E,oGC1C/B,IAAKC,S,4DAQX,SARWA,UAAAA,SAAQ,sBAARA,SAAQ,sBAARA,SAAQ,qBAARA,SAAQ,oCAARA,SAAQ,4BAARA,SAAQ,8BAARA,SAAQ,kBAQnB,CARWA,WAAAA,SAAQ,I,8nBCwBpB,6BAd6D,SAAvDC,WAAoDC,MAAA,IAAMC,SAAOD,KAAPC,QAASC,UAASF,KAATE,UAAS,OAC9EtB,MAAAA,cAAA,UACIuB,KAAK,SACLC,UAAU,aACV,aAAYF,UACZD,QAAS,SAAAA,QAACI,GACNA,EAAEC,kBACFL,UACJ,GAEArB,MAAAA,cAAC2B,IAAAA,aAAY,CAACC,MAAO,GAAIC,OAAQ,KAC5B,E,wzCCqCb,4BArCmD,SAA7CC,WAA0CV,MAA+C,IAAzCW,WAAUX,KAAVW,WAAYC,aAAYZ,KAAZY,aAAcC,SAAQb,KAARa,SACtEC,MAAOC,EAAAA,QAAAA,KACPC,KAAMC,EAAAA,IAAAA,UAAS,cACfC,IAAMC,WAAWH,IAAII,MAAKC,gBAAA,GAC3BL,IAAIM,SAAS,WAAaX,WAAWY,UAG1C,OACI3C,MAAAA,cAAA,OAAKwB,UAAWc,KACXP,WAAWY,SACR3C,MAAAA,cAAA,OAAKwB,UAAWY,IAAIQ,QAAQ,YACxB5C,MAAAA,cAAC6C,OAAAA,EAAM,CAACtB,KAAK,OAGrBvB,MAAAA,cAAC8C,IAAAA,YAAW,CAACtB,UAAWY,IAAIQ,QAAQ,QAAShB,MAAO,GAAIC,OAAQ,KAChE7B,MAAAA,cAAA,OAAKwB,UAAWY,IAAIQ,QAAQ,aACvBb,WAAWgB,IACR/C,MAAAA,cAACgD,KAAAA,EAAI,CAACC,KAAMlB,WAAWgB,IAAKG,OAAO,UAC9BnB,WAAWoB,UAGhBnD,MAAAA,cAAA,YAAO+B,WAAWoB,UAErBnB,cAAgBhC,MAAAA,cAAA,WC1CN,SAAdoD,YAAeC,OACxB,OAAOC,gBAAMD,MAAO,CAChBE,cAAe,IACfC,mBAAoB,IACpBC,cAAe,EACfC,eAAe,GAEvB,CDmCuCN,CAAYrB,WAAW4B,YAEjD1B,UACGjC,MAAAA,cAAA,QAAMwB,UAAWY,IAAIQ,QAAQ,iBACzB5C,MAAAA,cAACmB,uBAAU,CACPE,QAAS,SAAAA,UAAA,OAAMY,SAASF,WAAW,EACnCT,UAAWY,KAAK0B,cAAc,CAAEC,GAAI,2BAA6B,CAAEC,KAAM/B,WAAWoB,cAM5G,E,sWExBA,gCApBuD,SAAjDY,eAAkDC,OACpD,IAAQC,YAAwCD,MAAxCC,YAAajC,aAA2BgC,MAA3BhC,aAAcC,SAAa+B,MAAb/B,SACnC,OACIjC,MAAAA,cAAA,MAAIwB,UAAU,kBACVxB,MAAAA,cAACkE,gBAAAA,EAAe,KACXD,YAAYE,KAAI,SAACpC,WAAYqC,OAAK,OAC/BpE,MAAAA,cAACqE,cAAAA,EAAa,CAACC,WAAW,iBAAiBC,QAAS,IAAKC,IAAKJ,OAC1DpE,MAAAA,cAAA,UACIA,MAAAA,cAACyE,sBAAmB,CAChB1C,WACAE,SACAD,gBAGI,KAKpC,C,8NC/BA,IAAM0C,GAAK,SAALA,KAAE,OACNC,KAAKC,MAA4B,OAArB,EAAID,KAAKE,WAClBC,WACAC,UAAU,EAAE,EAIjB,gBAFa,SAAPC,OAAI,SAAAC,OAAoBP,MAAIO,OAAGP,KAAI,KAAAO,OAAIP,KAAI,KAAAO,OAAIP,KAAI,KAAAO,OAAIP,KAAI,KAAAO,OAAIP,MAAIO,OAAGP,MAAIO,OAAGP,KAAI,ECFvF,IAAMQ,qBAAuB,SAAvBA,uBAAoB,MAAS,IAAID,OAAOD,YAAOG,QAAQ,KAAM,IAAI,EAE1DC,oBAAsB,SAAtBA,oBAAuBC,KAAY9D,KAAsB+D,cAClE,MAAO,CACHzB,GAAIqB,uBACJG,KACAlC,SAAUkC,KAAKE,KACf5B,SAAU0B,KAAKG,KACfC,UAAU,EACV9C,SAAS,EACTpB,KACA+D,aAER,EAEaI,sBAAwB,SAAxBA,sBAAqBtE,MAAA,IAAMuB,QAAOvB,KAAPuB,QAAS8C,SAAQrE,KAARqE,SAAU9B,SAAQvC,KAARuC,SAAQ,OAClD,IAAZhB,UAAkC,IAAb8C,UAAoC,IAAb9B,QAAc,C","sources":["webpack://engangsstonad/./src/app/steps/oppsummering/Oppsummering.stories.tsx","webpack://engangsstonad/./src/app/types/PageKeys.ts","webpack://engangsstonad/./src/common/components/slett-knapp/SlettKnapp.tsx","webpack://engangsstonad/./src/common/storage/attachment/components/Attachment.tsx","webpack://engangsstonad/./src/common/util/filesize.ts","webpack://engangsstonad/./src/common/storage/attachment/components/AttachmentList.tsx","webpack://engangsstonad/./src/common/util/guid.ts","webpack://engangsstonad/./src/common/storage/attachment/components/util.ts"],"sourcesContent":["import React from 'react';\nimport { Story } from '@storybook/react';\nimport { withRouter } from 'storybook-addon-react-router-v6';\nimport EngangsstønadContextProvider from '../../context/EngangsstønadContext';\nimport Oppsummering from './Oppsummering';\nimport IntlProvider from 'intl/IntlProvider';\n\nimport '@navikt/ds-css';\nimport '../../styles/globals.less';\n\nexport default {\n  title: 'Oppsummering',\n  component: Oppsummering,\n  decorators: [withRouter],\n};\n\nconst Template: Story<any> = () => {\n  return (\n    <EngangsstønadContextProvider>\n      <IntlProvider språkkode=\"nb\">\n        <Oppsummering\n          person={{\n            fnr: '11111111111',\n            fornavn: 'Henrikke',\n            etternavn: 'Ibsen',\n            mellomnavn: '',\n            kjønn: 'K',\n            fødselsdato: '1979-01-28',\n            ikkeNordiskEøsLand: true,\n            bankkonto: {\n                kontonummer: '49875234987',\n                banknavn: 'Storebank',\n            },\n            adresse: '123 Oslo'\n          }}\n          locale=\"nb\"\n        />\n      </IntlProvider>\n    </EngangsstønadContextProvider>\n  )\n  };\n\nexport const VisSide = Template.bind({});\n","export enum PageKeys {\n    Velkommen = 'velkommen',\n    Situasjon = 'situasjon',\n    OmBarnet = 'om-barnet',\n    Utenlandsopphold = 'utenlandsopphold',\n    Oppsummering = 'oppsummering',\n    SøknadSendt = 'søknad-sendt',\n    Umyndig = 'umyndig',\n}\n","import * as React from 'react';\nimport { TrashcanIkon } from '@navikt/fp-common';\n\nimport './slettKnapp.less';\n\nexport interface SlettKnappProps {\n    ariaLabel: string;\n    onClick: () => void;\n}\n\nconst SlettKnapp: React.FunctionComponent<SlettKnappProps> = ({ onClick, ariaLabel }) => (\n    <button\n        type=\"button\"\n        className=\"slettKnapp\"\n        aria-label={ariaLabel}\n        onClick={(e) => {\n            e.stopPropagation();\n            onClick();\n        }}\n    >\n        <TrashcanIkon width={20} height={20} />\n    </button>\n);\n\nexport default SlettKnapp;\n","import * as React from 'react';\nimport * as classnames from 'classnames';\n\nimport { useIntl } from 'react-intl';\nimport SlettKnapp from '../../../components/slett-knapp/SlettKnapp';\n\nimport { Attachment as AttachmentType } from 'common/storage/attachment/types/Attachment';\nimport { bytesString } from 'common/util/filesize';\nimport { bemUtils, VedleggIkon } from '@navikt/fp-common';\nimport { Link, Loader } from '@navikt/ds-react';\n\nimport './attachment.less';\n\ninterface OwnProps {\n    attachment: AttachmentType;\n    showFileSize?: boolean;\n    onDelete?: (file: AttachmentType) => void;\n}\n\ntype Props = OwnProps;\n\nconst Attachment: React.FunctionComponent<Props> = ({ attachment, showFileSize, onDelete }) => {\n    const intl = useIntl();\n    const bem = bemUtils('attachment');\n    const cls = classnames(bem.block, {\n        [bem.modifier('pending')]: attachment.pending,\n    });\n\n    return (\n        <div className={cls}>\n            {attachment.pending && (\n                <div className={bem.element('spinner')}>\n                    <Loader type=\"S\" />\n                </div>\n            )}\n            <VedleggIkon className={bem.element('icon')} width={20} height={20} />\n            <div className={bem.element('filename')}>\n                {attachment.url ? (\n                    <Link href={attachment.url} target=\"_blank\">\n                        {attachment.filename}\n                    </Link>\n                ) : (\n                    <span>{attachment.filename}</span>\n                )}\n                {showFileSize && <div>{bytesString(attachment.filesize)}</div>}\n            </div>\n            {onDelete && (\n                <span className={bem.element('deleteButton')}>\n                    <SlettKnapp\n                        onClick={() => onDelete(attachment)}\n                        ariaLabel={intl.formatMessage({ id: 'vedlegg.arialabel.slett' }, { navn: attachment.filename })}\n                    />\n                </span>\n            )}\n        </div>\n    );\n};\n\nexport default Attachment;\n","import Bytes from 'bytes';\n\nexport const bytesString = (bytes: number): string => {\n    return Bytes(bytes, {\n        unitSeparator: ' ',\n        thousandsSeparator: ' ',\n        decimalPlaces: 1,\n        fixedDecimals: false\n    });\n};\n\nexport const getTotalFileSize = (files: File[]): number => {\n    return files.reduce(\n        (a, b) =>\n            ({\n                size: a.size + b.size\n            } as any),\n        { size: 0 }\n    ).size;\n};\n","import * as React from 'react';\nimport AttachmentComponent from './Attachment';\nimport { TransitionGroup, CSSTransition } from 'react-transition-group';\nimport './attachment.less';\nimport { Attachment } from 'common/storage/attachment/types/Attachment';\n\ninterface Props {\n    attachments: Attachment[];\n    showFileSize?: boolean;\n    onDelete?: (file: Attachment) => void;\n}\n\nconst AttachmentList: React.FunctionComponent<Props> = (props) => {\n    const { attachments, showFileSize, onDelete } = props;\n    return (\n        <ul className=\"attachmentList\">\n            <TransitionGroup>\n                {attachments.map((attachment, index) => (\n                    <CSSTransition classNames=\"transitionFade\" timeout={500} key={index}>\n                        <li>\n                            <AttachmentComponent\n                                attachment={attachment}\n                                onDelete={onDelete}\n                                showFileSize={showFileSize}\n                            />\n                        </li>\n                    </CSSTransition>\n                ))}\n            </TransitionGroup>\n        </ul>\n    );\n};\nexport default AttachmentList;\n","const s4 = (): string =>\n  Math.floor((1 + Math.random()) * 0x10000)\n    .toString()\n    .substring(1);\n\nconst guid = (): string => `${s4()}${s4()}-${s4()}-${s4()}-${s4()}-${s4()}${s4()}${s4()}`;\n\nexport default guid;\n","import { Attachment, AttachmentType, Skjemanummer } from 'common/storage/attachment/types/Attachment';\nimport guid from 'common/util/guid';\n\nconst generateAttachmentId = () => 'V'.concat(guid().replace(/-/g, ''));\n\nexport const mapFileToAttachment = (file: File, type: AttachmentType, skjemanummer: Skjemanummer): Attachment => {\n    return {\n        id: generateAttachmentId(),\n        file,\n        filename: file.name,\n        filesize: file.size,\n        uploaded: false,\n        pending: false,\n        type,\n        skjemanummer,\n    };\n};\n\nexport const isAttachmentWithError = ({ pending, uploaded, filesize }: Attachment) =>\n    (pending === false && uploaded === false) || filesize === 0;\n"],"names":["title","component","Oppsummering","decorators","withRouter","VisSide","Template","React","EngangsstønadContextProvider","IntlProvider","språkkode","person","fnr","fornavn","etternavn","mellomnavn","kjønn","fødselsdato","ikkeNordiskEøsLand","bankkonto","kontonummer","banknavn","adresse","locale","bind","PageKeys","SlettKnapp","_ref","onClick","ariaLabel","type","className","e","stopPropagation","TrashcanIkon","width","height","Attachment","attachment","showFileSize","onDelete","intl","useIntl","bem","bemUtils","cls","classnames","block","_defineProperty","modifier","pending","element","Loader","VedleggIkon","url","Link","href","target","filename","bytesString","bytes","Bytes","unitSeparator","thousandsSeparator","decimalPlaces","fixedDecimals","filesize","formatMessage","id","navn","AttachmentList","props","attachments","TransitionGroup","map","index","CSSTransition","classNames","timeout","key","AttachmentComponent","s4","Math","floor","random","toString","substring","guid","concat","generateAttachmentId","replace","mapFileToAttachment","file","skjemanummer","name","size","uploaded","isAttachmentWithError"],"sourceRoot":""}
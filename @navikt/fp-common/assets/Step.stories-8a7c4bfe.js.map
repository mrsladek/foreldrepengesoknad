{"version":3,"file":"Step.stories-8a7c4bfe.js","sources":["../../src/common/utils/useDocumentTitle.ts","../../src/common/components/step/Page.tsx","../../src/common/components/step-banner/StepBanner.tsx","../../src/common/components/dialogs/fortsett-søknad-senere-dialog/FortsettSøknadSenereDialog.tsx","../../src/common/components/step-footer/StepFooter.tsx","../../src/common/components/step/Step.tsx"],"sourcesContent":["import { useEffect } from 'react';\n\nfunction useDocumentTitle(title: string) {\n    useEffect(() => {\n        const originalTitle = document.title;\n        document.title = title;\n        return () => {\n            document.title = originalTitle;\n        };\n    }, [title]);\n}\n\nexport default useDocumentTitle;\n","import useDocumentTitle from '../../utils/useDocumentTitle';\nimport React, { useEffect } from 'react';\nimport { useIntl } from 'react-intl';\nimport intlHelper from '../../utils/intlUtils';\n\nimport './page.less';\n\nexport interface PageProps {\n    className?: string;\n    title: string;\n    id?: string;\n    ariaLabel?: string;\n    topContentRenderer?: () => React.ReactElement<any>;\n    children: React.ReactNode;\n}\n\nconst Page: React.FunctionComponent<PageProps> = ({\n    ariaLabel,\n    id = 'pageMainContent',\n    title,\n    className,\n    topContentRenderer,\n    children,\n}) => {\n    useEffect(() => {\n        window.scrollTo(0, 0);\n    }, []);\n    useDocumentTitle(title);\n\n    const intl = useIntl();\n\n    const ariaLabelToUse = ariaLabel ? intlHelper(intl, 'page.defaultMainRoleLabel') : undefined;\n\n    return (\n        <div role=\"main\" aria-label={ariaLabelToUse} id={id}>\n            {topContentRenderer && topContentRenderer()}\n            <div className={`page ${className}`}>{children}</div>\n        </div>\n    );\n};\n\nexport default Page;\n","import { Heading } from '@navikt/ds-react';\nimport React from 'react';\nimport bemHelper from '../../utils/bemUtils';\nimport Banner from '../banner/Banner';\n\nimport './stepBanner.less';\n\ninterface StepBannerProps {\n    text: string;\n    level?: '1' | '2' | '3';\n}\n\nconst bem = bemHelper('stepBanner');\nconst StepBanner: React.FunctionComponent<StepBannerProps> = ({ text, level = '2' }) => (\n    <Banner size=\"small\" className={bem.block}>\n        <Heading size=\"small\" level={level}>\n            {text}\n        </Heading>\n    </Banner>\n);\n\nexport default StepBanner;\n","import { Heading } from '@navikt/ds-react';\nimport React from 'react';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport intlHelper from '../../../utils/intlUtils';\nimport BekreftDialog from '../bekreft-dialog/BekreftDialog';\n\nexport interface Props {\n    synlig: boolean;\n    onFortsettSøknadSenere: () => void;\n    onFortsettSøknad: () => void;\n}\n\nconst FortsettSøknadSenereDialog: React.FunctionComponent<Props> = (props) => {\n    const intl = useIntl();\n    const { synlig, onFortsettSøknad, onFortsettSøknadSenere } = props;\n    return (\n        <BekreftDialog\n            open={synlig}\n            bekreftLabel={intlHelper(intl, 'fortsettSøknadSenereDialog.avbrytSøknadLabel')}\n            avbrytLabel={intlHelper(intl, 'fortsettSøknadSenereDialog.fortsettSøknadLabel')}\n            closeButton={false}\n            aria-label={intlHelper(intl, 'fortsettSøknadSenereDialog.tittel')}\n            onBekreft={onFortsettSøknadSenere}\n            onClose={onFortsettSøknad}\n        >\n            <Heading size=\"small\">\n                <FormattedMessage id=\"fortsettSøknadSenereDialog.tittel\" />\n            </Heading>\n            <p>\n                <FormattedMessage id=\"fortsettSøknadSenereDialog.intro\" />\n            </p>\n            <p>\n                <FormattedMessage id=\"fortsettSøknadSenereDialog.spørsmål\" />\n            </p>\n        </BekreftDialog>\n    );\n};\nexport default FortsettSøknadSenereDialog;\n","import React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport bemUtils from '../../utils/bemUtils';\nimport ActionLink from '../action-link/ActionLink';\nimport AvbrytSoknadDialog from '../dialogs/avbryt-soknad-dialog/AvbrytSoknadDialog';\nimport FortsettSøknadSenereDialog from '../dialogs/fortsett-søknad-senere-dialog/FortsettSøknadSenereDialog';\n\nimport './stepFooter.less';\n\ninterface Props {\n    onAvbrytOgFortsettSenere?: () => void;\n    onAvbrytOgSlett?: () => void;\n}\n\nfunction StepFooter({ onAvbrytOgFortsettSenere, onAvbrytOgSlett }: Props) {\n    const [visAvbrytDialog, setVisAvbrytDialog] = React.useState<boolean>(false);\n    const [visFortsettSenereDialog, setVisFortsettSenereDialog] = React.useState<boolean>(false);\n\n    const bem = bemUtils('stepFooter');\n    return (\n        <>\n            <div className={bem.block}>\n                <div className={bem.element('divider')} />\n                <div className={bem.element('links')}>\n                    {onAvbrytOgFortsettSenere && (\n                        <ActionLink onClick={() => setVisFortsettSenereDialog(true)}>\n                            <FormattedMessage id=\"steg.footer.fortsettSenere\" />\n                        </ActionLink>\n                    )}\n                    {onAvbrytOgSlett && (\n                        <ActionLink\n                            className={bem.element('avbrytSoknadLenke')}\n                            onClick={() => setVisAvbrytDialog(true)}\n                        >\n                            <FormattedMessage id=\"steg.footer.avbryt\" />\n                        </ActionLink>\n                    )}\n                </div>\n            </div>\n            {onAvbrytOgFortsettSenere && (\n                <FortsettSøknadSenereDialog\n                    synlig={visFortsettSenereDialog}\n                    onFortsettSøknadSenere={onAvbrytOgFortsettSenere}\n                    onFortsettSøknad={() => setVisFortsettSenereDialog(false)}\n                />\n            )}\n            {onAvbrytOgSlett && (\n                <AvbrytSoknadDialog\n                    synlig={visAvbrytDialog}\n                    onAvbrytSøknad={onAvbrytOgSlett}\n                    onFortsettSøknad={() => setVisAvbrytDialog(false)}\n                />\n            )}\n        </>\n    );\n}\n\nexport default StepFooter;\n","import React from 'react';\nimport bemUtils from './../../utils/bemUtils';\nimport Page from './Page';\nimport { StepIndicatorStep } from '../step-indicator/StepIndicator';\nimport StepBanner from '../step-banner/StepBanner';\nimport Block from '../block/Block';\nimport BackLink from '../back-link/BackLink';\nimport StepFooter from '../step-footer/StepFooter';\n\nimport './step.less';\nimport ProgressStepper from '../progress-stepper/ProgressStepper';\n\nexport interface StepProps {\n    pageTitle: string;\n    bannerTitle?: string;\n    backLinkHref?: string;\n    backLinkOnClick?: (href: string, event: React.SyntheticEvent) => void;\n    steps: StepIndicatorStep[];\n    activeStepId: string;\n    previousStepTitle?: string;\n    children: React.ReactNode;\n    showStepIndicator?: boolean;\n    topContentRenderer?: () => React.ReactElement<any>;\n    onCancel?: () => void;\n    onContinueLater?: () => void;\n    cancelOrContinueLaterAriaLabel?: string;\n    pageAriaLabel?: string;\n    infoMessage?: React.ReactNode;\n}\n\nconst Step: React.FunctionComponent<StepProps> = ({\n    bannerTitle,\n    pageTitle,\n    backLinkHref,\n    backLinkOnClick,\n    steps,\n    activeStepId,\n    onCancel,\n    onContinueLater,\n    cancelOrContinueLaterAriaLabel,\n    showStepIndicator = true,\n    children,\n    previousStepTitle,\n    pageAriaLabel,\n    infoMessage,\n}) => {\n    const currentStepIndex = steps.findIndex((s) => s.id === activeStepId);\n    const bem = bemUtils('step');\n    return (\n        <Page\n            className={bem.block}\n            title={pageTitle}\n            ariaLabel={pageAriaLabel}\n            topContentRenderer={() => (\n                <>\n                    {bannerTitle && (\n                        <>\n                            <StepBanner text={bannerTitle} />\n                        </>\n                    )}\n                </>\n            )}\n        >\n            {infoMessage !== undefined && <div className={bem.element('infoMessage')}>{infoMessage}</div>}\n            {(showStepIndicator || backLinkHref) && (\n                <>\n                    <div role=\"presentation\" aria-hidden={true}>\n                        <ProgressStepper\n                            steps={steps}\n                            currentStepIndex={currentStepIndex}\n                            titleHeadingLevel=\"2\"\n                        ></ProgressStepper>\n                    </div>\n                    {backLinkHref && (\n                        <BackLink href={backLinkHref} ariaLabel={previousStepTitle} onClick={backLinkOnClick} />\n                    )}\n                </>\n            )}\n            <section aria-label={`Steg ${currentStepIndex + 1} av ${steps.length}:  ${pageTitle}`}>\n                <Block margin=\"xl\">{children}</Block>\n\n                {(onCancel || onContinueLater) && (\n                    <div\n                        role={cancelOrContinueLaterAriaLabel ? 'complementary' : undefined}\n                        aria-label={cancelOrContinueLaterAriaLabel}\n                    >\n                        <StepFooter onAvbrytOgSlett={onCancel} onAvbrytOgFortsettSenere={onContinueLater} />\n                    </div>\n                )}\n            </section>\n        </Page>\n    );\n};\n\nexport default Step;\n"],"names":["useDocumentTitle","title","useEffect","originalTitle","Page","ariaLabel","id","className","topContentRenderer","children","intl","useIntl","ariaLabelToUse","intlHelper","jsxs","jsx","bem","bemHelper","StepBanner","text","level","Banner","Heading","FortsettSøknadSenereDialog","props","synlig","onFortsettSøknad","onFortsettSøknadSenere","BekreftDialog","FormattedMessage","StepFooter","onAvbrytOgFortsettSenere","onAvbrytOgSlett","visAvbrytDialog","setVisAvbrytDialog","React","visFortsettSenereDialog","setVisFortsettSenereDialog","bemUtils","Fragment","ActionLink","AvbrytSoknadDialog","Step","bannerTitle","pageTitle","backLinkHref","backLinkOnClick","steps","activeStepId","onCancel","onContinueLater","cancelOrContinueLaterAriaLabel","showStepIndicator","previousStepTitle","pageAriaLabel","infoMessage","currentStepIndex","s","ProgressStepper","BackLink","Block","Step$1"],"mappings":"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"}
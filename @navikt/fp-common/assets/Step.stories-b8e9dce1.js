import{j as y,a as i,F as T}from"./jsx-runtime-68f49b4e.js";import{B as he,H as ve}from"./BackLink-77073ef3.js";import{a as ae,b as z}from"./bemUtils-33e57671.js";import{r as N,R as J}from"./index-f1f749bf.js";import{u as oe}from"./index-91d768a6.js";import{i as F}from"./intlUtils-adb52f84.js";import{c as o}from"./_commonjsHelpers-042e6b4d.js";import{p as be}from"./index-4d501b15.js";import{B as _e}from"./Banner-f846b8ed.js";import{H as W}from"./Heading-3baa3074.js";import{B as Y}from"./Block-68501da9.js";import{A as K}from"./ActionLink-1d37a695.js";import{A as Se}from"./AvbrytSoknadDialog-dd1d11e6.js";import{B as ye}from"./BekreftDialog-be8e2d62.js";import{F as D}from"./message-2444254f.js";import"./Link-b402adef.js";import"./clsx.m-1229b3e0.js";import"./useId-987e8b65.js";import"./index-96c5f47c.js";function ke(e){N.useEffect(()=>{const t=document.title;return document.title=e,()=>{document.title=t}},[e])}const R=({ariaLabel:e,id:t="pageMainContent",title:n,className:r,topContentRenderer:a,children:u})=>{N.useEffect(()=>{window.scrollTo(0,0)},[]),ke(n);const l=oe(),p=e?F(l,"page.defaultMainRoleLabel"):void 0;return y("div",{role:"main","aria-label":p,id:t,children:[a&&a(),i("div",{className:`page ${r}`,children:u})]})};try{R.displayName="Page",R.__docgenInfo={description:"",displayName:"Page",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},id:{defaultValue:{value:"pageMainContent"},description:"",name:"id",required:!1,type:{name:"string"}},ariaLabel:{defaultValue:null,description:"",name:"ariaLabel",required:!1,type:{name:"string"}},topContentRenderer:{defaultValue:null,description:"",name:"topContentRenderer",required:!1,type:{name:"(() => ReactElement<any, string | JSXElementConstructor<any>>)"}}}}}catch{}var se={},H={},q={},le="Expected a function",Q=0/0,Le="[object Symbol]",Oe=/^\s+|\s+$/g,je=/^[-+]0x[0-9a-f]+$/i,Ee=/^0b[01]+$/i,Ce=/^0o[0-7]+$/i,Te=parseInt,De=typeof o=="object"&&o&&o.Object===Object&&o,Ne=typeof self=="object"&&self&&self.Object===Object&&self,we=De||Ne||Function("return this")(),Fe=Object.prototype,Ve=Fe.toString,qe=Math.max,Ie=Math.min,B=function(){return we.Date.now()};function Be(e,t,n){var r,a,u,l,p,g,b=0,j=!1,_=!1,k=!0;if(typeof e!="function")throw new TypeError(le);t=Z(t)||0,V(n)&&(j=!!n.leading,_="maxWait"in n,u=_?qe(Z(n.maxWait)||0,t):u,k="trailing"in n?!!n.trailing:k);function s(c){var S=r,E=a;return r=a=void 0,b=c,l=e.apply(E,S),l}function d(c){return b=c,p=setTimeout(m,t),j?s(c):l}function f(c){var S=c-g,E=c-b,G=t-S;return _?Ie(G,u-E):G}function v(c){var S=c-g,E=c-b;return g===void 0||S>=t||S<0||_&&E>=u}function m(){var c=B();if(v(c))return w(c);p=setTimeout(m,f(c))}function w(c){return p=void 0,k&&r?s(c):(r=a=void 0,l)}function me(){p!==void 0&&clearTimeout(p),b=0,r=g=a=p=void 0}function ge(){return p===void 0?l:w(B())}function I(){var c=B(),S=v(c);if(r=arguments,a=this,g=c,S){if(p===void 0)return d(g);if(_)return p=setTimeout(m,t),s(g)}return p===void 0&&(p=setTimeout(m,t)),l}return I.cancel=me,I.flush=ge,I}function Re(e,t,n){var r=!0,a=!0;if(typeof e!="function")throw new TypeError(le);return V(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),Be(e,t,{leading:r,maxWait:t,trailing:a})}function V(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function Me(e){return!!e&&typeof e=="object"}function $e(e){return typeof e=="symbol"||Me(e)&&Ve.call(e)==Le}function Z(e){if(typeof e=="number")return e;if($e(e))return Q;if(V(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=V(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(Oe,"");var n=Ee.test(e);return n||Ce.test(e)?Te(e.slice(2),n?2:8):je.test(e)?Q:+e}var Pe=Re,Ae=o&&o.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),ze=o&&o.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),de=o&&o.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&Ae(t,e,n);return ze(t,e),t},We=o&&o.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(q,"__esModule",{value:!0});q.EventThrottler=void 0;const L=de(be),He=de(N),xe=We(Pe);class x extends He.Component{componentDidMount(){this.throttled=(0,xe.default)(this.props.callback,this.props.delay,{leading:!1}),window.addEventListener(this.props.event,this.throttled)}componentWillUnmount(){this.throttled&&window.removeEventListener(this.props.event,this.throttled)}render(){return this.props.children}}q.EventThrottler=x;x.propTypes={children:L.oneOfType([L.arrayOf(L.node),L.node]).isRequired,callback:L.func.isRequired,delay:L.number,event:L.oneOf(["resize"]).isRequired};x.defaultProps={callback:()=>{},delay:0};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.EventThrottler=e.keyCodes=e.getScrollParents=e.getViewportDimensions=e.clamp=e.requestAnimationFrame=e.omit=e.addPropToObject=e.fn=e.guid=e.autobind=void 0;function t(s){Object.getOwnPropertyNames(s.constructor.prototype).filter(d=>typeof s[d]=="function").forEach(d=>{s[d]=s[d].bind(s)})}e.autobind=t;function n(){return Math.floor((1+Math.random())*65536).toString().substring(1)}function r(){return`${n()}${n()}-${n()}-${n()}-${n()}-${n()}${n()}${n()}`}e.guid=r;function a(s){return typeof s=="function"?s:()=>s}e.fn=a;function u(s,[d,f]){return s[d]=f,s}e.addPropToObject=u;function l(s,...d){return Object.entries(s).filter(([f])=>!d.includes(f)).reduce(u,{})}e.omit=l;function p(){if(typeof window<"u")return window.requestAnimationFrame}function g(){return(s,d,f)=>{setTimeout(s,f||1e3/60,new Date().getTime())}}e.requestAnimationFrame=p()||g();function b(s,d,f){const v=parseFloat(f.toString());return v<s?s:v>d?d:v}e.clamp=b;function j(){return{w:Math.max(document.documentElement.clientWidth,window.innerWidth||0),h:Math.max(document.documentElement.clientHeight,window.innerHeight||0)}}e.getViewportDimensions=j;function _(s){let d;const f=[],v=/(auto|scroll)/;for(d=s;d!==document.body;d=d.parentElement){const m=getComputedStyle(d);v.test(m.overflow+m.overflowY+m.overflowX)&&f.push(d)}return f.push(window),f}e.getScrollParents=_,e.keyCodes={tab:9,enter:13,space:32,pageup:33,pagedown:34,end:35,home:36,left:37,up:38,right:39,down:40,esc:27};var k=q;Object.defineProperty(e,"EventThrottler",{enumerable:!0,get:function(){return k.EventThrottler}})})(H);var U={},Ue=o&&o.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),Xe=o&&o.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Ge=o&&o.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&Ue(t,e,n);return Xe(t,e),t},Je=o&&o.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(U,"__esModule",{value:!0});const O=Ge(N),ue=Je(ae),Ye=H,Ke=e=>(0,ue.default)("stegindikator__steg",{"stegindikator__steg--labelled":e.visLabel}),ee=e=>(0,ue.default)("stegindikator__steg-inner",{"stegindikator__steg-inner--aktiv":e.aktiv,"stegindikator__steg-inner--ferdig":e.ferdig,"stegindikator__steg-inner--disabled":e.disabled,"stegindikator__steg-inner--interaktiv":typeof e.onClick=="function"&&!e.aktiv});class Qe extends O.Component{getInnerStep(){const t=O.createElement("div",{className:"stegindikator__steg-label"},this.props.label||this.props.children),n=this.props.visLabel?t:void 0,r=this.props.index+1;return typeof this.props.onClick=="function"&&!this.props.aktiv?O.createElement("button",{className:ee(this.props),title:this.props.label,onClick:this.props.onClick,disabled:this.props.disabled},O.createElement("div",{className:"stegindikator__steg-num"},r),n):O.createElement("div",{className:ee(this.props),title:this.props.label},O.createElement("div",{className:"stegindikator__steg-num"},r),n)}render(){const t=(0,Ye.omit)(this.props,"label","aktiv","ferdig","visLabel","index","disabled","onClick");return O.createElement("li",Object.assign({className:Ke(this.props)},t,{"aria-current":this.props.aktiv?"step":void 0}),this.getInnerStep())}}var Ze=U.default=Qe;var et=o&&o.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),tt=o&&o.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),nt=o&&o.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&et(t,e,n);return tt(t,e),t},ce=o&&o.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(se,"__esModule",{value:!0});const h=nt(N),rt=ce(ae),te=H,pe=ce(U),it=e=>(0,rt.default)("stegindikator",{"stegindikator--kompakt":e.kompakt});class X extends h.Component{constructor(t){super(t),this.handleClick=(r,a)=>{r.preventDefault(),(!this.props.onBeforeChange||this.props.onBeforeChange(a))&&(this.setState({aktivtSteg:a}),typeof this.props.onChange=="function"&&this.props.onChange(a))},this.canShowLabel=()=>{const r=this.getDimensions();return r.container>=r.visLabelWidth&&this.props.visLabel},this.canBeNormal=()=>{const r=this.getDimensions();return r.container>=r.normalWidth&&!this.props.kompakt},this.adjustSize=()=>{this.list&&this.setState({visLabel:this.canShowLabel(),kompakt:!this.canBeNormal()})};let n;this.props.aktivtSteg!==void 0?n=this.props.aktivtSteg:n=this.getDefaultActiveStegIndex(),this.state={aktivtSteg:n,visLabel:t.visLabel,kompakt:t.kompakt}}componentDidMount(){this.props.autoResponsiv&&(window.addEventListener("resize",this.adjustSize),this.adjustSize())}UNSAFE_componentWillReceiveProps(t){!this.props.autoResponsiv&&t.autoResponsiv&&window.addEventListener("resize",this.adjustSize),t.autoResponsiv?this.setState({visLabel:this.canShowLabel()?t.visLabel:!1,kompakt:t.kompakt||!this.canBeNormal()}):this.setState({visLabel:t.visLabel,kompakt:t.kompakt}),t.aktivtSteg!==void 0&&t.aktivtSteg!==this.state.aktivtSteg&&this.setState({aktivtSteg:t.aktivtSteg})}componentWillUnmount(){window.removeEventListener("resize",this.adjustSize)}getDefaultActiveStegIndex(){let t;return this.props.children?h.Children.forEach(this.props.children,(n,r)=>{h.isValidElement(n)&&h.cloneElement(n).props.aktiv&&(t=r)}):t=this.props.steg.findIndex(n=>!!n.aktiv),t!==-1?t:0}getNumSteg(){return this.props.children?h.Children.toArray(this.props.children).filter(t=>h.isValidElement(t)).length:this.props.steg.length}getDimensions(){const t=this.getNumSteg(),n=parseFloat(String(getComputedStyle(document.documentElement).fontSize)),r=n*1.25,a=r*t-r,u=n*10*t+a,l=n*2*t+a;return{visLabelWidth:u,normalWidth:l,container:this.list.getBoundingClientRect().width}}renderSteg(){const t=n=>typeof this.props.onChange=="function"?r=>this.handleClick(r,n):void 0;return this.props.children?h.Children.map(this.props.children,(n,r)=>h.isValidElement(n)?h.cloneElement(n,{index:n.props.index||r,aktiv:r===this.state.aktivtSteg,ferdig:n.props.ferdig||r<this.state.aktivtSteg,onClick:n.props.disabled?void 0:t(r),visLabel:this.state.visLabel}):n):this.props.steg.map((n,r)=>{const a=(0,te.omit)(n,"label","aktiv","ferdig","visLabel","index","onClick"),u=n.ferdig||r<this.state.aktivtSteg,l=r===this.state.aktivtSteg;return h.createElement(pe.default,Object.assign({index:r,label:n.label,visLabel:this.state.visLabel,key:`${n.label.split(" ").join("")}`,aktiv:l,ferdig:u,onClick:n.disabled?void 0:t(r)},a))})}render(){const t=(0,te.omit)(this.props,"steg","children","visLabel","kompakt","onChange","onBeforeChange","autoResponsiv","aktivtSteg");return h.createElement("div",Object.assign({className:it(this.state)},t),h.createElement("ol",{className:"stegindikator__liste",ref:n=>{this.list=n}},this.renderSteg()))}}X.Steg=pe.default;X.defaultProps={steg:[],visLabel:!1,kompakt:!1,autoResponsiv:!1};var at=se.default=X;const M=({steps:e,activeStep:t,kompakt:n,visLabel:r=!1})=>i(at,{visLabel:r,autoResponsiv:!1,aktivtSteg:t,kompakt:n,children:e.map(({id:a,index:u,label:l})=>i(Ze,{index:u,label:l},a))});try{M.displayName="StepIndicator",M.__docgenInfo={description:"",displayName:"StepIndicator",props:{activeStep:{defaultValue:null,description:"",name:"activeStep",required:!0,type:{name:"number"}},steps:{defaultValue:null,description:"",name:"steps",required:!0,type:{name:"StepIndicatorStep[]"}},kompakt:{defaultValue:null,description:"",name:"kompakt",required:!0,type:{name:"boolean"}},visLabel:{defaultValue:{value:"false"},description:"",name:"visLabel",required:!1,type:{name:"boolean"}}}}}catch{}const ot=z("stepBanner"),$=({text:e,level:t="2"})=>i(_e,{size:"small",className:ot.block,children:i(W,{size:"small",level:t,children:e})});try{$.displayName="StepBanner",$.__docgenInfo={description:"",displayName:"StepBanner",props:{text:{defaultValue:null,description:"",name:"text",required:!0,type:{name:"string"}},level:{defaultValue:{value:"2"},description:"",name:"level",required:!1,type:{name:"enum",value:[{value:'"1"'},{value:'"2"'},{value:'"3"'}]}}}}}catch{}const st=e=>{const t=oe(),{synlig:n,onFortsettSøknad:r,onFortsettSøknadSenere:a}=e;return y(ye,{open:n,bekreftLabel:F(t,"fortsettSøknadSenereDialog.avbrytSøknadLabel"),avbrytLabel:F(t,"fortsettSøknadSenereDialog.fortsettSøknadLabel"),closeButton:!1,"aria-label":F(t,"fortsettSøknadSenereDialog.tittel"),onBekreft:a,onClose:r,children:[i(W,{size:"small",children:i(D,{id:"fortsettSøknadSenereDialog.tittel"})}),i("p",{children:i(D,{id:"fortsettSøknadSenereDialog.intro"})}),i("p",{children:i(D,{id:"fortsettSøknadSenereDialog.spørsmål"})})]})};try{FortsettSknadSenereDialog.displayName="FortsettSknadSenereDialog",FortsettSknadSenereDialog.__docgenInfo={description:"",displayName:"FortsettSknadSenereDialog",props:{synlig:{defaultValue:null,description:"",name:"synlig",required:!0,type:{name:"boolean"}},onFortsettSøknadSenere:{defaultValue:null,description:"",name:"onFortsettSøknadSenere",required:!0,type:{name:"() => void"}},onFortsettSøknad:{defaultValue:null,description:"",name:"onFortsettSøknad",required:!0,type:{name:"() => void"}}}}}catch{}function P({onAvbrytOgFortsettSenere:e,onAvbrytOgSlett:t}){const[n,r]=J.useState(!1),[a,u]=J.useState(!1),l=z("stepFooter");return y(T,{children:[y("div",{className:l.block,children:[i("div",{className:l.element("divider")}),y("div",{className:l.element("links"),children:[e&&i(K,{onClick:()=>u(!0),children:i(D,{id:"steg.footer.fortsettSenere"})}),t&&i(K,{className:l.element("avbrytSoknadLenke"),onClick:()=>r(!0),children:i(D,{id:"steg.footer.avbryt"})})]})]}),e&&i(st,{synlig:a,onFortsettSøknadSenere:e,onFortsettSøknad:()=>u(!1)}),t&&i(Se,{synlig:n,onAvbrytSøknad:t,onFortsettSøknad:()=>r(!1)})]})}try{P.displayName="StepFooter",P.__docgenInfo={description:"",displayName:"StepFooter",props:{onAvbrytOgFortsettSenere:{defaultValue:null,description:"",name:"onAvbrytOgFortsettSenere",required:!1,type:{name:"(() => void)"}},onAvbrytOgSlett:{defaultValue:null,description:"",name:"onAvbrytOgSlett",required:!1,type:{name:"(() => void)"}}}}}catch{}const A=({bannerTitle:e,pageTitle:t,stepTitle:n,backLinkHref:r,backLinkOnClick:a,steps:u,activeStepId:l,onCancel:p,onContinueLater:g,cancelOrContinueLaterAriaLabel:b,showStepIndicator:j=!0,children:_,previousStepTitle:k,pageAriaLabel:s,kompakt:d,infoMessage:f})=>{const v=u.findIndex(w=>w.id===l),m=z("step");return y(R,{className:m.block,title:t,ariaLabel:s,topContentRenderer:()=>i(T,{children:e&&i(T,{children:i($,{text:e})})}),children:[f!==void 0&&i("div",{className:m.element("infoMessage"),children:f}),(j||r)&&y(T,{children:[i(Y,{padBottom:"l",children:i(W,{size:"medium",className:m.element("title"),children:n})}),i("div",{role:"presentation","aria-hidden":!0,children:i(M,{kompakt:d,steps:u,activeStep:v})}),r&&i(he,{href:r,ariaLabel:k,className:m.element("backLink"),onClick:a})]}),y("section",{"aria-label":`Steg ${v+1} av ${u.length}:  ${t}`,children:[i(Y,{margin:"xl",children:_}),(p||g)&&i("div",{role:b?"complementary":void 0,"aria-label":b,children:i(P,{onAvbrytOgSlett:p,onAvbrytOgFortsettSenere:g})})]})]})},fe=A;try{A.displayName="Step",A.__docgenInfo={description:"",displayName:"Step",props:{pageTitle:{defaultValue:null,description:"",name:"pageTitle",required:!0,type:{name:"string"}},stepTitle:{defaultValue:null,description:"",name:"stepTitle",required:!0,type:{name:"string"}},kompakt:{defaultValue:null,description:"",name:"kompakt",required:!0,type:{name:"boolean"}},bannerTitle:{defaultValue:null,description:"",name:"bannerTitle",required:!1,type:{name:"string"}},backLinkHref:{defaultValue:null,description:"",name:"backLinkHref",required:!1,type:{name:"string"}},backLinkOnClick:{defaultValue:null,description:"",name:"backLinkOnClick",required:!1,type:{name:"((href: string, event: SyntheticEvent<Element, Event>) => void)"}},steps:{defaultValue:null,description:"",name:"steps",required:!0,type:{name:"StepIndicatorStep[]"}},activeStepId:{defaultValue:null,description:"",name:"activeStepId",required:!0,type:{name:"string"}},previousStepTitle:{defaultValue:null,description:"",name:"previousStepTitle",required:!1,type:{name:"string"}},showStepIndicator:{defaultValue:{value:"true"},description:"",name:"showStepIndicator",required:!1,type:{name:"boolean"}},topContentRenderer:{defaultValue:null,description:"",name:"topContentRenderer",required:!1,type:{name:"(() => ReactElement<any, string | JSXElementConstructor<any>>)"}},onCancel:{defaultValue:null,description:"",name:"onCancel",required:!1,type:{name:"(() => void)"}},onContinueLater:{defaultValue:null,description:"",name:"onContinueLater",required:!1,type:{name:"(() => void)"}},cancelOrContinueLaterAriaLabel:{defaultValue:null,description:"",name:"cancelOrContinueLaterAriaLabel",required:!1,type:{name:"string"}},pageAriaLabel:{defaultValue:null,description:"",name:"pageAriaLabel",required:!1,type:{name:"string"}},infoMessage:{defaultValue:null,description:"",name:"infoMessage",required:!1,type:{name:"ReactNode"}}}}}catch{}const Tt={title:"components/Step",component:fe},lt=e=>i(ve,{children:i(fe,{...e})}),C=lt.bind({});C.args={pageTitle:"Foreldrepenger",stepTitle:"Om Barnet",kompakt:!0,activeStepId:"test",steps:[{id:"test",index:1,label:"Om Barnet"},{id:"test2",index:2,label:"Annet"},{id:"test3",index:3,label:"Oppsummering"}],children:i(T,{children:"Her er det noe kult innhold"})};var ne,re,ie;C.parameters={...C.parameters,docs:{...(ne=C.parameters)==null?void 0:ne.docs,source:{originalSource:`args => <HashRouter>\r
        <Step {...args} />\r
    </HashRouter>`,...(ie=(re=C.parameters)==null?void 0:re.docs)==null?void 0:ie.source}}};const Dt=["Default"];export{C as Default,Dt as __namedExportsOrder,Tt as default};
//# sourceMappingURL=Step.stories-b8e9dce1.js.map

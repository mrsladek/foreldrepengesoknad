import{a as l,j as v,F as $}from"./jsx-runtime-68f49b4e.js";import{c as O}from"./clsx.m-1229b3e0.js";import{r as c,R as p}from"./index-f1f749bf.js";import{u as q}from"./useId-987e8b65.js";import{L as w}from"./Label-90dbbed0.js";import{g as H}from"./guid-c1767a53.js";import{B as z}from"./Back-7222795b.js";import{E as D}from"./Expand-de386e40.js";import{C as G}from"./Collapse-0de9df8b.js";import{B as y}from"./BodyShort-a31e935f.js";import{H as M}from"./Heading-3baa3074.js";import"./_commonjsHelpers-042e6b4d.js";var Z=globalThis&&globalThis.__rest||function(e,s){var a={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&s.indexOf(t)<0&&(a[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(e);r<t.length;r++)s.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(e,t[r])&&(a[t[r]]=e[t[r]]);return a};const W=c.forwardRef((e,s)=>{var{title:a,titleId:t}=e,r=Z(e,["title","titleId"]);let o=q();return o=a?t||"title-"+o:void 0,c.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:s,"aria-labelledby":o},r),a?c.createElement("title",{id:o},a):null,c.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 0c6.627 0 12 5.373 12 12s-5.373 12-12 12S0 18.627 0 12 5.373 0 12 0Zm5.047 7.671 1.399 1.43-8.728 8.398L6 14.02l1.395-1.434 2.319 2.118 7.333-7.032Z",fill:"currentColor"}))}),J=W;var K=globalThis&&globalThis.__rest||function(e,s){var a={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&s.indexOf(t)<0&&(a[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(e);r<t.length;r++)s.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(e,t[r])&&(a[t[r]]=e[t[r]]);return a};const Q=c.forwardRef((e,s)=>{var{className:a,children:t,as:r="a",unsafe_index:o=0,completed:f=!1,interactive:m}=e,i=K(e,["className","children","as","unsafe_index","completed","interactive"]);const n=c.useContext(A);if(n===null)return console.error("<Stepper.Step> has to be used within <Stepper>"),null;const{activeStep:g}=n,d=m??(n==null?void 0:n.interactive),u=d?r:"div";return p.createElement(u,Object.assign({},i,{"aria-current":g===o,ref:s,className:O("navds-stepper__step",a,{"navds-stepper__step--active":g===o,"navds-stepper__step--behind":g>o,"navds-stepper__step--non-interactive":!d,"navds-stepper__step--completed":f}),onClick:h=>{var S;d&&n.onStepChange(o+1),(S=i==null?void 0:i.onClick)===null||S===void 0||S.call(i,h)}}),f?p.createElement(J,{"aria-hidden":!0,className:"navds-stepper__circle navds-stepper__circle--success"}):p.createElement(w,{className:"navds-stepper__circle",as:"span","aria-hidden":"true"},o+1),p.createElement(w,{as:"span",className:"navds-stepper__content"},t))}),U=Q,k=U;var X=globalThis&&globalThis.__rest||function(e,s){var a={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&s.indexOf(t)<0&&(a[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(e);r<t.length;r++)s.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(e,t[r])&&(a[t[r]]=e[t[r]]);return a};const A=c.createContext(null),V=c.forwardRef((e,s)=>{var{children:a,className:t,activeStep:r,orientation:o="vertical",onStepChange:f=()=>{},interactive:m=!0}=e,i=X(e,["children","className","activeStep","orientation","onStepChange","interactive"]);return r=r-1,p.createElement("ol",Object.assign({},i,{ref:s,className:O("navds-stepper",o==="horizontal"?"navds-stepper--horizontal":"",t)}),p.createElement(A.Provider,{value:{activeStep:r,onStepChange:f,lastIndex:p.Children.count(a),orientation:o,interactive:m}},p.Children.map(a,(n,g)=>{var d,u;return p.createElement("li",{className:O("navds-stepper__item"),key:g+((u=(d=a==null?void 0:a.toString)===null||d===void 0?void 0:d.call(a))!==null&&u!==void 0?u:"")},p.createElement("span",{className:"navds-stepper__line navds-stepper__line--1"}),p.isValidElement(n)?p.cloneElement(n,Object.assign(Object.assign({},n.props),{unsafe_index:g})):n,p.createElement("span",{className:"navds-stepper__line navds-stepper__line--2"}))})))});V.Step=k;const Y=V;const ee={showAllStepsLabel:"Vis alle steg",goToPreviousStepLabel:"Gå til forrige steg",allStepsSectionAriaLabel:"Alle steg",navigasjonAriaLabel:"Navigasjon i søknaden",stepProgressLabelFunc:(e,s)=>`Steg ${e} av ${s}`},x=({steps:e,currentStepIndex:s,allStepsHeader:a,allStepsFooter:t,labels:r=ee,titleHeadingLevel:o="1",includeBackLink:f=!1,setFocusOnHeadingOnMount:m=!0,onStepSelect:i})=>{const[n,g]=c.useState(!1),d=e[s],u=s+1,h=e.length,S=100/h*u,L=H(),R=_=>{i&&i(e[_-1])},F=()=>{i&&i(e[s-1])},P=l(y,{as:"div",children:r.stepProgressLabelFunc(u,h)}),j=i!==void 0&&f===!0,T=j?l("div",{className:"progressStepper__heading__stepInfo",children:P}):void 0,N=c.useRef(null);return c.useEffect(()=>{m&&N.current&&N.current.focus()},[m]),v("div",{className:"progressStepper",children:[l("div",{className:"progressStepper__heading",children:v(M,{tabIndex:-1,size:"xlarge",level:o,className:"progressStepper__heading__title",ref:N,children:[T,d.label]})}),l("div",{className:"progressStepper__progressBarWrapper",role:"presentation","aria-hidden":!0,children:l("div",{className:"progressStepper__progressBar",children:l("div",{className:"progressStepper__progressBar__progress",style:{width:`${S}%`}})})}),v("nav",{"aria-label":r.navigasjonAriaLabel,children:[v("div",{className:"progressStepper__stepsInfo",children:[j?l(y,{children:s>0&&v("button",{type:"button",onClick:F,className:"navds-read-more__button navds-body-short progressStepper__backLink",children:[l(z,{className:"progressStepper__backLink__icon","aria-hidden":!0}),r.goToPreviousStepLabel]})}):l($,{children:P}),v("button",{type:"button",className:"navds-read-more__button navds-body-short","aria-controls":L,"aria-expanded":n,onClick:()=>{g(!n)},children:[n===!1&&l(D,{className:"progressStepper__toggleAllStepsIcon","aria-hidden":!0}),n&&l(G,{className:"progressStepper__toggleAllStepsIcon","aria-hidden":!0}),r.showAllStepsLabel]})]}),l("div",{id:L,"aria-hidden":n===!1,"aria-live":"polite",children:n&&v("section",{className:"progressStepper__allSteps","aria-label":r.allStepsSectionAriaLabel,children:[a&&l(y,{as:"div",className:"progressStepper__allSteps__header",children:a}),l(Y,{activeStep:u,onStepChange:i?R:void 0,children:e.map(_=>l(k,{completed:_.completed,interactive:i!==void 0&&_.completed===!0,children:_.label},_.id))}),t&&l(y,{as:"div",className:"progressStepper__allSteps__footer",children:t})]})})]})]})},B=x;try{x.displayName="ProgressStepper",x.__docgenInfo={description:"",displayName:"ProgressStepper",props:{steps:{defaultValue:null,description:"",name:"steps",required:!0,type:{name:"ProgressStep[]"}},currentStepIndex:{defaultValue:null,description:"",name:"currentStepIndex",required:!0,type:{name:"number"}},labels:{defaultValue:{value:`{
    showAllStepsLabel: 'Vis alle steg',
    goToPreviousStepLabel: 'Gå til forrige steg',
    allStepsSectionAriaLabel: 'Alle steg',
    navigasjonAriaLabel: 'Navigasjon i søknaden',
    stepProgressLabelFunc: (currentStep, totalSteps) => \`Steg \${currentStep} av \${totalSteps}\`,
}`},description:"",name:"labels",required:!1,type:{name:"Labels"}},titleHeadingLevel:{defaultValue:{value:"1"},description:"",name:"titleHeadingLevel",required:!1,type:{name:"enum",value:[{value:'"1"'},{value:'"2"'}]}},allStepsHeader:{defaultValue:null,description:"",name:"allStepsHeader",required:!1,type:{name:"ReactNode"}},allStepsFooter:{defaultValue:null,description:"",name:"allStepsFooter",required:!1,type:{name:"ReactNode"}},includeBackLink:{defaultValue:{value:"false"},description:"",name:"includeBackLink",required:!1,type:{name:"boolean"}},setFocusOnHeadingOnMount:{defaultValue:{value:"true"},description:"",name:"setFocusOnHeadingOnMount",required:!1,type:{name:"boolean"}},onStepSelect:{defaultValue:null,description:"",name:"onStepSelect",required:!1,type:{name:"((step: ProgressStep) => void)"}}}}}catch{}const ge={title:"components/ProgressStepper",component:B},te=e=>l(B,{...e}),b=te.bind({});b.args={steps:[{id:"0",index:0,label:"Steg 1"},{id:"1",index:1,label:"Steg 2"},{id:"2",index:2,label:"Steg 3"},{id:"3",index:3,label:"Steg 4"},{id:"4",index:4,label:"Steg 5"}],currentStepIndex:0};var E,C,I;b.parameters={...b.parameters,docs:{...(E=b.parameters)==null?void 0:E.docs,source:{originalSource:"args => <ProgressStepper {...args} />",...(I=(C=b.parameters)==null?void 0:C.docs)==null?void 0:I.source}}};const ve=["Default"];export{b as Default,ve as __namedExportsOrder,ge as default};
//# sourceMappingURL=ProgressStepper.stories-b2dcab54.js.map

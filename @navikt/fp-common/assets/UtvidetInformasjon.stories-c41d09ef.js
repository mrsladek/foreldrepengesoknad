import{a as u,j as R,F as H}from"./jsx-runtime-68f49b4e.js";import{r as k,R as J}from"./index-f1f749bf.js";import{b as Q,c as X}from"./bemUtils-33e57671.js";import{C as Y}from"./Collapse-0de9df8b.js";import{E as Z}from"./Expand-de386e40.js";import{g as ee}from"./guid-c1767a53.js";import{u as te}from"./index-91d768a6.js";import{i as ne}from"./intlUtils-adb52f84.js";import{c as re}from"./clsx.m-1229b3e0.js";import"./_commonjsHelpers-042e6b4d.js";import"./useId-987e8b65.js";var oe=globalThis&&globalThis.__rest||function(e,n){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&n.indexOf(o)<0&&(r[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,o=Object.getOwnPropertySymbols(e);t<o.length;t++)n.indexOf(o[t])<0&&Object.prototype.propertyIsEnumerable.call(e,o[t])&&(r[o[t]]=e[o[t]]);return r};const ie=k.forwardRef((e,n)=>{var{className:r,size:o="medium",spacing:t,as:i="p"}=e,a=oe(e,["className","size","spacing","as"]);return J.createElement(i,Object.assign({},a,{ref:n,className:re(r,"navds-body-long",{"navds-body-long--small":o==="small","navds-typo--spacing":!!t})}))}),ae=ie;const x=({apen:e=!1,children:n,onToggle:r})=>{const o=Q("infoToggler");return u("button",{className:o.block,onClick:t=>{t.stopPropagation(),t.preventDefault(),r()},"aria-expanded":e,children:R("span",{className:o.element("content"),children:[u("span",{className:o.element("label"),children:n}),u("span",{className:o.element("chevron"),children:e?u(Y,{}):u(Z,{})})]})})};try{x.displayName="InfoToggler",x.__docgenInfo={description:"",displayName:"InfoToggler",props:{onToggle:{defaultValue:null,description:"",name:"onToggle",required:!0,type:{name:"() => void"}},apen:{defaultValue:{value:"false"},description:"",name:"apen",required:!1,type:{name:"boolean"}}}}}catch{}var g={};function O(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?O=function(r){return typeof r}:O=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},O(e)}Object.defineProperty(g,"__esModule",{value:!0});g.Collapse=void 0;var I=le(k);function le(e){return e&&e.__esModule?e:{default:e}}function se(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function F(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ue(e,n,r){return n&&F(e.prototype,n),r&&F(e,r),e}function ce(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&N(e,n)}function N(e,n){return N=Object.setPrototypeOf||function(o,t){return o.__proto__=t,o},N(e,n)}function fe(e){var n=de();return function(){var o=w(e),t;if(n){var i=w(this).constructor;t=Reflect.construct(o,arguments,i)}else t=o.apply(this,arguments);return pe(this,t)}}function pe(e,n){if(n&&(O(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p(e)}function p(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function de(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},w(e)}function d(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}var A=function(e){ce(r,e);var n=fe(r);function r(o){var t;return se(this,r),t=n.call(this,o),d(p(t),"timeout",void 0),d(p(t),"container",void 0),d(p(t),"content",void 0),d(p(t),"onResize",function(){if(clearTimeout(t.timeout),!(!t.container||!t.content)){var i=t.props,a=i.isOpened,s=i.checkTimeout,l=Math.floor(t.container.clientHeight),c=Math.floor(t.content.clientHeight),f=a&&Math.abs(c-l)<=1,y=!a&&Math.abs(l)<=1;f||y?t.onRest({isFullyOpened:f,isFullyClosed:y,isOpened:a,containerHeight:l,contentHeight:c}):(t.onWork({isFullyOpened:f,isFullyClosed:y,isOpened:a,containerHeight:l,contentHeight:c}),t.timeout=setTimeout(function(){return t.onResize()},s))}}),d(p(t),"onRest",function(i){var a=i.isFullyOpened,s=i.isFullyClosed,l=i.isOpened,c=i.containerHeight,f=i.contentHeight;if(!(!t.container||!t.content)){var y=l&&t.container.style.height==="".concat(f,"px"),S=!l&&t.container.style.height==="0px";if(y||S){t.container.style.overflow=l?"initial":"hidden",t.container.style.height=l?"auto":"0px";var h=t.props.onRest;h&&h({isFullyOpened:a,isFullyClosed:s,isOpened:l,containerHeight:c,contentHeight:f})}}}),d(p(t),"onWork",function(i){var a=i.isFullyOpened,s=i.isFullyClosed,l=i.isOpened,c=i.containerHeight,f=i.contentHeight;if(!(!t.container||!t.content)){var y=l&&t.container.style.height==="".concat(f,"px"),S=!l&&t.container.style.height==="0px";if(!(y||S)){t.container.style.overflow="hidden",t.container.style.height=l?"".concat(f,"px"):"0px";var h=t.props.onWork;h&&h({isFullyOpened:a,isFullyClosed:s,isOpened:l,containerHeight:c,contentHeight:f})}}}),d(p(t),"onRefContainer",function(i){t.container=i}),d(p(t),"onRefContent",function(i){t.content=i}),o.initialStyle?t.initialStyle=o.initialStyle:t.initialStyle=o.isOpened?{height:"auto",overflow:"initial"}:{height:"0px",overflow:"hidden"},t}return ue(r,[{key:"componentDidMount",value:function(){this.onResize()}},{key:"shouldComponentUpdate",value:function(t){var i=this.props,a=i.theme,s=i.isOpened,l=i.children;return l!==t.children||s!==t.isOpened||Object.keys(a).some(function(c){return a[c]!==t.theme[c]})}},{key:"getSnapshotBeforeUpdate",value:function(){if(!this.container||!this.content)return null;if(this.container.style.height==="auto"){var t=this.content.clientHeight;this.container.style.height="".concat(t,"px")}return null}},{key:"componentDidUpdate",value:function(){this.onResize()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeout)}},{key:"render",value:function(){var t=this.props,i=t.theme,a=t.children,s=t.isOpened;return I.default.createElement("div",{ref:this.onRefContainer,className:i.collapse,style:this.initialStyle,"aria-hidden":!s},I.default.createElement("div",{ref:this.onRefContent,className:i.content},a))}}]),r}(I.default.Component);g.Collapse=A;d(A,"defaultProps",{theme:{collapse:"ReactCollapse--collapse",content:"ReactCollapse--content"},initialStyle:void 0,onRest:void 0,onWork:void 0,checkTimeout:50});var C={};function _(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_=function(r){return typeof r}:_=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},_(e)}Object.defineProperty(C,"__esModule",{value:!0});C.UnmountClosed=void 0;var D=ve(k),ye=g,he=["isOpened"],me=["isOpened"];function ve(e){return e&&e.__esModule?e:{default:e}}function T(){return T=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},T.apply(this,arguments)}function W(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}function q(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?W(Object(r),!0).forEach(function(o){v(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function L(e,n){if(e==null)return{};var r=ge(e,n),o,t;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)o=i[t],!(n.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}function ge(e,n){if(e==null)return{};var r={},o=Object.keys(e),t,i;for(i=0;i<o.length;i++)t=o[i],!(n.indexOf(t)>=0)&&(r[t]=e[t]);return r}function Oe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function M(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _e(e,n,r){return n&&M(e.prototype,n),r&&M(e,r),e}function be(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&U(e,n)}function U(e,n){return U=Object.setPrototypeOf||function(o,t){return o.__proto__=t,o},U(e,n)}function Re(e){var n=Pe();return function(){var o=P(e),t;if(n){var i=P(this).constructor;t=Reflect.construct(o,arguments,i)}else t=o.apply(this,arguments);return we(this,t)}}function we(e,n){if(n&&(_(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b(e)}function b(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function P(e){return P=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},P(e)}function v(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}var K=function(e){be(r,e);var n=Re(r);function r(o){var t;return Oe(this,r),t=n.call(this,o),v(b(t),"onWork",function(i){var a=i.isOpened,s=L(i,he);t.setState({isResting:!1,isOpened:a});var l=t.props.onWork;l&&l(q({isOpened:a},s))}),v(b(t),"onRest",function(i){var a=i.isOpened,s=L(i,me);t.setState({isResting:!0,isOpened:a,isInitialRender:!1});var l=t.props.onRest;l&&l(q({isOpened:a},s))}),v(b(t),"getInitialStyle",function(){var i=t.state,a=i.isOpened,s=i.isInitialRender;return s?a?{height:"auto",overflow:"initial"}:{height:"0px",overflow:"hidden"}:{height:"0px",overflow:"hidden"}}),t.state={isResting:!0,isOpened:o.isOpened,isInitialRender:!0},t}return _e(r,[{key:"componentDidUpdate",value:function(t){var i=this.props.isOpened;t.isOpened!==i&&this.setState({isResting:!1,isOpened:i,isInitialRender:!1})}},{key:"render",value:function(){var t=this.state,i=t.isResting,a=t.isOpened;return i&&!a?null:D.default.createElement(ye.Collapse,T({},this.props,{initialStyle:this.getInitialStyle(),onWork:this.onWork,onRest:this.onRest}))}}]),r}(D.default.PureComponent);C.UnmountClosed=K;v(K,"defaultProps",{onWork:void 0,onRest:void 0});var je=g,ke=je.Collapse,Ce=C,j=Ce.UnmountClosed,Se=j;j.Collapse=ke;j.UnmountClosed=j;const $=({children:e,animert:n=!0,erApen:r=!1,ariaLive:o="off"})=>{const t=u("div",{"aria-live":o,children:r?u("div",{children:e}):u("div",{})});return n?u(Se.Collapse,{isOpened:r,className:X("ekspanderbartInnhold",{"ekspanderbartInnhold--apen":r}),children:t}):t};try{$.displayName="EkspanderbartInnhold",$.__docgenInfo={description:"",displayName:"EkspanderbartInnhold",props:{erApen:{defaultValue:{value:"false"},description:"",name:"erApen",required:!1,type:{name:"boolean"}},ariaLive:{defaultValue:{value:"off"},description:"",name:"ariaLive",required:!1,type:{name:"enum",value:[{value:'"off"'},{value:'"assertive"'},{value:'"polite"'}]}},animert:{defaultValue:{value:"true"},description:"",name:"animert",required:!1,type:{name:"boolean"}}}}}catch{}const E=({children:e,erApen:n,apneLabel:r})=>{const o=te(),t=ee(),[i,a]=k.useState(n||!1),s=ne(o,"utvidetInformasjon.lukkTekst");return R("div",{className:"utvidetInformasjon",children:[u("div",{className:"utvidetInformasjon__toggler no-print",children:u(x,{onToggle:()=>a(!i),apen:i,children:u(ae,{children:i?s:r})})}),R("div",{className:"utvidetInformasjon__innhold",id:t,children:[u($,{erApen:i,children:e}),u("div",{className:"print-only",children:e})]})]})},G=E;try{E.displayName="UtvidetInformasjon",E.__docgenInfo={description:"",displayName:"UtvidetInformasjon",props:{erApen:{defaultValue:null,description:"",name:"erApen",required:!1,type:{name:"boolean"}},apneLabel:{defaultValue:null,description:"",name:"apneLabel",required:!1,type:{name:"ReactNode"}},lukkLabel:{defaultValue:null,description:"",name:"lukkLabel",required:!1,type:{name:"ReactNode"}}}}}catch{}const Le={title:"components/UtvidetInformasjon",component:G},Ie=e=>u(G,{...e}),m=Ie.bind({});m.args={children:R(H,{children:["Noen ting ",u("div",{children:"Flere ting"})," "]}),erApen:!0,apneLabel:u(H,{children:"Les mer"})};var z,B,V;m.parameters={...m.parameters,docs:{...(z=m.parameters)==null?void 0:z.docs,source:{originalSource:"args => <UtvidetInformasjon {...args} />",...(V=(B=m.parameters)==null?void 0:B.docs)==null?void 0:V.source}}};const Me=["Default"];export{m as Default,Me as __namedExportsOrder,Le as default};
//# sourceMappingURL=UtvidetInformasjon.stories-c41d09ef.js.map
